(()=>{var t=[,(t,e,n)=>{"use strict";n.r(e),n.d(e,{AdsManager:()=>v});var r=n(2),o=n(3),i=n(6),a=n(74),s=n(72);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(){f=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var S={};l(S,a,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(P([])));A&&A!==n&&r.call(A,a)&&(S=A);var T=E.prototype=b.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,s){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=E,o(T,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,u,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},x(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(T),l(T,u,"Generator"),l(T,a,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:String(e)}var v=function(){function t(e,n,r,o,i,c,u,l,f,d,p,h,v,m,g,y){var b=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rulesMOL={AdLoaded:"loaded",AdSkipped:"skip",AdStarted:"start",AdStopped:"stop",AdPaused:"pause",AdPlaying:"resume",AdImpression:"impression",AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdClickThru:"clickThrough",AdVideoMuted:"mute",AdVideoUnmuted:"unmute",AdVolumeChange:"volumeChanged",AdLinearChange:"linearChange",AdRemainingTimeChange:"adProgress",AdInteraction:"otherAdInteraction",AdUserAcceptInvitation:"acceptInvitation",AdUserClose:"close",AdLog:"LOG"},this.logger=new a.default({environment:s.envVars.NODE_ENV,prefix:"[SDK]"}),this.onAdImpression=m,this.onAdError=c,this.onAdClicked=i,this.requestAds=g,this.macroReplacer=v,this.events=n,this.trackEvent=r,this.adContainer=u,this.wrapperEl=l,this.videoEl=f,this.displayContainerEl=d,this.prepare=p,this.show=h,this.tag=null,this.cleanupViewability=null,this.isErrorReported=!1,this.config=y,this.handleAdCompleted=function(){this.videoEl.paused||this.adUnit.pause();var t=this.adUnit&&this.adUnit.isStarted()||!1;o(t)},e.isVpaid?setTimeout((function(){b.launchAd(e)}),500):this.launchAd(e)}var e,n,c,l,h;return e=t,n=[{key:"onAdClose",value:(l=f().mark((function t(){var e,n,r=this,o=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.length>0&&void 0!==o[0]&&o[0]?setTimeout((function(){var t,e,n;r.adUnit.emit(r.rulesMOL.AdStopped,{adUnit:r.adUnit,type:r.rulesMOL.AdStopped,data:{}}),r.adUnit.emit(r.rulesMOL.AdUserClose,{adUnit:r.adUnit,type:r.rulesMOL.AdUserClose,data:{}}),"VPAID"===(null==r||null===(t=r.adUnit)||void 0===t?void 0:t.type)?null===(e=r.adUnit.creativeAd)||void 0===e||null===(n=e.stopAd)||void 0===n||n.call(e):(r.adUnit.pause(),r.adUnit.cancel())}),200):((n=null===(e=this.adUnit)||void 0===e||null===(e=e.videoAdContainer)||void 0===e?void 0:e.videoElement)&&(n.volume=0,n.muted=!0),this.adUnit.setVolume(0));case 2:case"end":return t.stop()}}),t,this)})),h=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=l.apply(t,e);function i(t){d(o,n,r,i,a,"next",t)}function a(t){d(o,n,r,i,a,"throw",t)}i(void 0)}))},function(){return h.apply(this,arguments)})},{key:"launchAd",value:function(t){var e=this;this.tag=t,this.videoEl.muted=!0,this.videoEl.volume=0,this.videoEl.autoplay=!0,this.videoEl.playbackRate=1;var n=(new DOMParser).parseFromString(t.xml,"application/xml"),a={measurable:u(n.querySelectorAll('Tracking[event="measurable_impression"]')).map((function(t){return t.textContent})),viewable:u(n.querySelectorAll('Tracking[event="viewable_impression"]')).map((function(t){return t.textContent})),creativeView:u(n.querySelectorAll('Tracking[event="creativeView"]')).map((function(t){return t.textContent}))};(0,r.runWaterfall)(t.parsedUrl,this.wrapperEl,{responsive:!1,autoplay:!1,timeout:this.config.dataConfig.adTimeOut,onAdReady:function(n){e.handleAdReady(n,t)},onAdStart:function(){e.cleanupViewability=(0,o.sendViewability)(e.adContainer,e.wrapperEl,a,(function(){return e.events.indexOf("AdViewableImpression")>-1&&e.trackEvent("AdViewableImpression",t)}))},onError:function(n){e.errorReported||(e.errorReported=!0,e.onAdError(t),["No next ad to request","No Ad"].includes(n.message)||(n.name="AdError",(0,i.handleElasticErrorCapture)(n,{tag:t,config:e.config})),e.logger.error(n),e.cleanupViewability&&e.cleanupViewability())},onRunFinish:function(){e.handleAdCompleted(),e.cleanupViewability&&e.cleanupViewability()},videoElement:this.videoEl,macroReplacer:this.macroReplacer},t.xml)}},{key:"handleAdReady",value:function(t,e){var n=this;this.prepare(e.isVpaid),this.adUnit=t;for(var r=this.rulesMOL,o=function(){var o=n.events[i],a=r[o];a&&t.on(a,(function(){n.trackEvent(o,e)})),"AdVpaidAttempt"===o&&e.isVpaid&&n.trackEvent("AdVpaidAttempt",e)},i=0;i<this.events.length;i++)o();t.on(this.rulesMOL.AdStarted,(function(){n.adPlayed=!0,n.show(),n.onAdImpression(e.id),n.events.indexOf("AdVpaidImpression")>-1&&e.isVpaid&&n.trackEvent("AdVpaidImpression",e)})),t.on(this.rulesMOL.AdClickThru,(function(){n.onAdClicked()})),t.on(this.rulesMOL.AdVideoComplete,(function(){var t,e;n.videoEl&&(null===(t=(e=n.videoEl).pause)||void 0===t||t.call(e),n.videoEl.removeAttribute("src"),n.videoEl.removeAttribute("poster"))})),t.on(this.rulesMOL.AdVideoThirdQuartile,(function(){n.requestAds()})),t.start()}}],n&&p(e.prototype,n),c&&p(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}();v.sdkName="vidoplayer"},function(t,e,n){var r,o,i,a;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}a=function(t){"use strict";var e,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},o=(function(t){!function(e){var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",l=e.regeneratorRuntime;if(l)t.exports=l;else{(l=e.regeneratorRuntime=t.exports).wrap=w;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",v={},m={};m[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(I([])));y&&y!==r&&o.call(y,a)&&(m=y);var b=A.prototype=S.prototype=Object.create(m);_.prototype=b.constructor=A,A.constructor=_,A[u]=_.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},T(x.prototype),x.prototype[c]=function(){return this},l.AsyncIterator=x,l.async=function(t,e,n,r){var o=new x(w(t,e,n,r));return l.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=I,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return s.type="throw",s.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(t,e,n,r){var o=e&&e.prototype instanceof S?e:S,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return R()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=E(t,e,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function E(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function S(){}function _(){}function A(){}function T(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t){var e;this._invoke=function(n,r){function i(){return new Promise((function(e,i){!function e(n,r,i,a){var c=E(t[n],t,r);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==s(l)&&o.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):Promise.resolve(l).then((function(t){u.value=t,i(u)}),a)}a(c.arg)}(n,r,e,i)}))}return e=e?e.then(i,i):i()}}function O(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,O(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=E(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:R}}function R(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())}(e={exports:{}}),e.exports),i=function(){return this}()||Function("return this")(),a=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,c=a&&i.regeneratorRuntime;i.regeneratorRuntime=void 0;var u=o;if(a)i.regeneratorRuntime=c;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}var l,f,d,p=u,h={clickThrough:"clickThrough",closeLinear:"closeLinear",complete:"complete",error:"error",exitFullscreen:"exitFullscreen",firstQuartile:"firstQuartile",fullscreen:"fullscreen",iconClick:"iconClick",iconView:"iconView",impression:"impression",midpoint:"midpoint",mute:"mute",otherAdInteraction:"otherAdInteraction",pause:"pause",playerCollapse:"playerCollapse",playerExpand:"playerExpand",progress:"progress",resume:"resume",rewind:"rewind",skip:"skip",start:"start",thirdQuartile:"thirdQuartile",timeSpentViewing:"timeSpentViewing",unmute:"unmute"},v="acceptInvitation",m="adCollapse",g="creativeView",y={acceptInvitation:v,adCollapse:m,close:"close",creativeView:g},b=[new RegExp("^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\n?</div>"),new RegExp("^(.+)\n")],w=function(t){return function(t){var e;if(null===t)throw new Error("Parse error");var n=function(t){return"parsererror"===t.documentElement.tagName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"===t.documentElement.namespaceURI?t.documentElement:("xml"===t.documentElement.tagName||"html"===t.documentElement.tagName)&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"parsererror"===t.documentElement.childNodes[0].nodeName?t.documentElement.childNodes[0]:"html"===t.documentElement.tagName&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"body"===t.documentElement.childNodes[0].nodeName&&t.documentElement.childNodes[0].childNodes&&t.documentElement.childNodes[0].childNodes.length&&"parsererror"===t.documentElement.childNodes[0].childNodes[0].nodeName?t.documentElement.childNodes[0].childNodes[0]:void 0}(t);if(void 0!==n)throw e=function(t){var e,n,r,o,i=(e=t,n=new XMLSerializer,Array.prototype.map.call(e.childNodes,(function(t){return n.serializeToString(t)})).join(""));for(r=0;r<b.length;r++)if(o=b[r].exec(i))return o[1]}(n)||"Parse error",new Error(e)}(t),t},E="element",S="text",_=function t(e){var n=function(t){if(1===t.nodeType)return E;if(3===t.nodeType||4===t.nodeType)return S;if(9===t.nodeType)return"document";throw new Error("Unsupported element type")}(e),r={type:n};if(n===E){if(r.name=e.nodeName.toLowerCase(),e.attributes.length>0){r.attributes={};var o=!0,i=!1,a=void 0;try{for(var s,c=Array.from(e.attributes)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;r.attributes[u.nodeName]=u.nodeValue}}catch(t){i=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}}}else n===S&&(r.text=e.nodeValue.replace("<![CDATA[","").replace("]]>","").trim());if(e.hasChildNodes()){var l=Array.from(e.childNodes).filter((function(t){return[1,3,4].includes(t.nodeType)})),f=[];r.elements=f;var d=!0,p=!1,h=void 0;try{for(var v,m=l[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var g=t(v.value);(g.type!==S||g.text.length>0)&&f.push(g)}}catch(t){p=!0,h=t}finally{try{!d&&m.return&&m.return()}finally{if(p)throw h}}}return r},A=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).elements;return void 0===t?[]:t},T=function(t,e){return A(t).find((function(t){var n=t.name;return(void 0===n?"":n).toUpperCase()===e.toUpperCase()}))},x=function(t,e){return"string"==typeof e?function(t,e){return A(t).filter((function(t){var n=t.name;return(void 0===n?"":n).toUpperCase()===e.toUpperCase()}))}(t,e):A(t)},O=function(t){return A(t)[0]||null},C=function(t){var e=t&&O(t);return e&&e.text||null},L=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).attributes;return void 0===t?{}:t},k=function(t,e){return L(t)[e]},I=new DOMParser,R=function(t){return function(t,e){var n=t.parseFromString(e,"application/xml");return w(n),_(n)}(I,t)},P=function(t){if("string"==typeof t){var e=t.match(/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/);if(e){var n=(i=e[1],60*parseInt(i,10)*60*1e3+(o=e[2],60*parseInt(o,10)*1e3)+(r=e[3],1e3*parseInt(r,10))+parseInt(e[5]||0,10));if(!isNaN(n))return n}}var r,o,i;return null},N=function(t){return function(t){return/^\d+(\.\d+)?%$/g.test(t)}(t)?t:P(t)},j=function(t){var e=O(t),n=e&&T(e,"creatives");return n&&x(n).find((function(t){return T(t,"linear")}))||null},M=function(t,e){var n=t&&j(t);if(n){var r=T(n,"Linear"),o=r&&T(r,"TrackingEvents"),i=o&&x(o,"Tracking");if(i&&i.length>0){var a=i.map((function(t){var e=L(t),n=e.event,r=e.offset,o=C(t);return{event:n,offset:r&&N(r),uri:o}}));if(!e)return a;var s=a.filter((function(t){return t.event===e}));if(s.length>0)return s}}return null},V=function(t,e){var n=t&&j(t);if(n){var r=T(n,"NonLinearAds"),o=r&&T(r,"TrackingEvents"),i=o&&x(o,"Tracking");if(i&&i.length>0){var a=i.map((function(t){return{event:L(t).event,uri:C(t)}}));if(!e)return a;var s=a.filter((function(t){return t.event===e}));if(s.length>0)return s}}return null},F=function(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}},U=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},D=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),G=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},H=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},W=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},z=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=s(e)&&"function"!=typeof e?t:e},Y=function(t){return Array.isArray(t)?t:Array.from(t)},q=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},X=function(t){var e=(""+t).match(/\d+/g);return parseInt(e[0],10)},Z=function(t){return/\d+/.test(t)?X(t):t},J=function(t){var e=t&&j(t),n=e&&T(e,"linear"),r=n&&T(n,"Icons"),o=r&&x(r,"Icon");return o&&o.length>0?o.map((function(t){return H({},function(t){var e=L(t),n=e.duration,r=e.height,o=e.offset,i=e.program,a=e.pxratio,s=e.width,c=e.xPosition,u=void 0===c?"right":c,l=e.yPosition,f=void 0===l?"top":l;return{duration:n&&P(n),height:r&&X(r),offset:o&&P(o),program:i,pxratio:a&&parseInt(a,10),width:s&&X(s),xPosition:u&&Z(u),yPosition:f&&Z(f)}}(t),function(t){var e=T(t,"StaticResource"),n=T(t,"HTMLResource"),r=T(t,"IFrameResource");return e?{staticResource:C(e)}:n?{htmlResource:C(n)}:r?{iFrameResource:C(r)}:{staticResource:C(t)}}(t),function(t){var e=x(t,"IconViewTracking").map((function(t){return C(t)}));return 0===e.length?{}:{iconViewTracking:e}}(t),function(t){var e=T(t,"IconClicks"),n=e&&T(e,"IconClickThrough"),r=e&&x(e,"IconClickTracking").map((function(t){return C(t)}));return{iconClickThrough:n&&C(n),iconClickTracking:r&&r.length>0?r:void 0}}(t))})):null},Q=function(t){return"string"==typeof t?"true"===t:Boolean(t)},K=function(t,e){var n=parseInt(k(t,"sequence"),10),r=parseInt(k(e,"sequence"),10);return n<r?-1:n>r?1:0},$=function(t){var e=t&&T(t,"VAST"),n=e&&x(e,"Ad");return n&&n.length>0?n:[]},tt=function(t){var e=t&&T(t,"VAST");if(e){var n=T(e,"Error");if(n)return C(n)}return null},et=function(t){var e=parseInt(k(t,"sequence"),10);return"number"!=typeof e||isNaN(e)?null:e},nt=function(t){return Boolean(et(t))},rt=function(t){var e=$(t);return Array.isArray(e)&&e.filter(nt).length>1},ot=function(t){var e=$(t);return Array.isArray(e)&&e.length>0?rt(t)?e.filter(nt).sort(K)[0]:e[0]:null},it=function(){return Boolean(T((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})||{},"Wrapper"))},at=function(t){return Boolean(T(t||{},"Inline"))},st=function(t){var e=T(t,"Wrapper"),n=e&&T(e,"VastAdTagUri");return n&&C(n)||null},ct=function(t){var e=L(T(t,"Wrapper")),n=e.allowMultipleAds,r=e.fallbackOnNoAd,o=e.followAdditionalWrappers,i={};return n&&(i.allowMultipleAds=Q(n)),r&&(i.fallbackOnNoAd=Q(r)),o&&(i.followAdditionalWrappers=Q(o)),i},ut=function(t){var e=t&&O(t);if(e){var n=T(e,"Error");if(n)return C(n)}return null},lt=function(t){var e=t&&O(t);if(e){var n=x(e,"Impression");if(Array.isArray(n)&&n.length>0)return n.map((function(t){return{uri:C(t)}}))}return null},ft=function(t){var e=t&&j(t);if(e){var n=T(e,"UniversalAdId"),r=n&&C(n)||null,o=T(e,"Linear"),i=T(o,"MediaFiles"),a=i&&x(i,"MediaFile");if(a&&a.length>0)return a.map((function(t){var e=C(t),n=L(t),o=n.apiFramework,i=n.bitrate,a=n.codec,s=n.delivery,c=n.height,u=n.id,l=n.maintainAspectRatio,f=n.maxBitrate,d=n.minBitrate,p=n.scalable,h=n.type,v=n.width;return{apiFramework:o,bitrate:i,codec:a,delivery:s,height:c,id:u,maintainAspectRatio:l,maxBitrate:f,minBitrate:d,scalable:p,src:e,type:h,universalAdId:r,width:v}}))}return null},dt=function(t){var e=t&&j(t);if(e){var n=T(e,"Linear"),r=T(n,"MediaFiles"),o=r&&x(r,"InteractiveCreativeFile");if(o&&o.length>0)return o.map((function(t){var e=L(t),n=e.apiFramework,r=e.type;return{apiFramework:n,src:C(t),type:r}}))}return null},pt=function(t){var e=dt(t);if(e)return e;var n=ft(t);return n&&(e=n.filter((function(t){var e=t.apiFramework;return"vpaid"===(void 0===e?"":e).toLowerCase()})).map((function(t){return{apiFramework:t.apiFramework,src:t.src,type:t.type}}))).length>0?e:null},ht=function(t){var e=t&&j(t),n=e&&T(e,"Linear");return n&&T(n,"VideoClicks")||null},vt=function(t){var e=ht(t),n=e&&T(e,"ClickThrough");return n?C(n):null},mt=function(t){var e=ht(t),n=e&&x(e,"ClickTracking");return n&&n.length>0?n.map((function(t){return C(t)})):null},gt=function(t){var e=ht(t),n=e&&x(e,"CustomClick");return n&&n.length>0?n.map((function(t){return C(t)})):null},yt=function(t){var e=t&&j(t),n=e&&T(e,"Linear"),r=n&&k(n,"skipoffset");return r?N(r):null},bt=function(t){var e=function(t){var e=/<Linear([\s\S]*)<\/Linear/gm.exec(t);return e&&e[1]}(t);return{AdParameters:e&&function(t){var e=/<AdParameters[\s\w="]*>([\s\S]*)<\/AdParameters>/gm.exec(t);return e&&e[1].replace(/[\n\s]*<!\[CDATA\[[\n\s]*/,"").replace(/[\n\s]*\]\]>[\n\s]*$/,"").replace(/\]\]\]\]><!\[CDATA\[>/,"]]>").trim()}(e),xmlEncoded:e&&function(t){var e=/<AdParameters[\s]*xmlEncoded="(.*?)">/gim.exec(t);return Boolean(e)&&"true"===e[1]}(e)}},wt=Object.freeze({getAds:$,getVastErrorURI:tt,getPodAdSequence:et,isPodAd:nt,hasAdPod:rt,isAdPod:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){return t.parsedXML})).some(rt)},getFirstAd:ot,isWrapper:it,isInline:at,getVASTAdTagURI:st,getWrapperOptions:ct,getAdErrorURI:ut,getImpressionUri:function(t){var e=t&&O(t);if(e){var n=T(e,"Impression");if(n)return C(n)}return null},getAllImpressionUris:lt,getMediaFiles:ft,getInteractiveCreativeFiles:dt,getInteractiveFiles:pt,getClickThrough:vt,getClickTracking:mt,getCustomClick:gt,getSkipOffset:yt,getCreativeData:bt,getIcons:J,getLinearTrackingEvents:M,getNonLinearTrackingEvents:V}),Et=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=function(t){var e,n,r=t,o=(e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},Object.keys(e).forEach((function(t){n[t.toUpperCase()]=e[t]})),n);return Boolean(o.CACHEBUSTING)||(o.CACHEBUSTING=Math.round(1e10*Math.random())),Boolean(o.TIMESTAMP)||(o.TIMESTAMP=(new Date).toISOString()),Object.keys(o).forEach((function(t){if(r&&"string"==typeof r){var e=encodeURIComponent(o[t]);r=r.replace(new RegExp("\\["+t+"\\]","gm"),e)}})),r}(t,e),o=null;if(!r)return o;var i=new URL(r).href;if(i.includes(".js")||i.includes("adsafeprotected.com")&&!i.includes(".gif")&&!i.includes(".png"))try{(o=top.document.createElement("script")).src=r,n&&n.element?n.element.parentElement.parentElement.appendChild(o):top.document.body.appendChild(o)}catch(t){}else try{(o=new Image).src=r}catch(t){}return o},St=function(t,e,n){var r=e.errorCode,o=e.tracker,i=void 0===o?Et:o;t.forEach((function(t){var e=t.ad,o=t.parsedXML,a=ut(e)||tt(o);Boolean(a)&&i(a,{errorCode:r},n)}))},_t=function(t){return function(e,n,r){var o=n.data,i=n.tracker,a=void 0===i?Et:i;e.forEach((function(e){var n=e.ad,i=t(n);if(Boolean(i))switch(!0){case"string"==typeof i:a(i,o,r);break;case Array.isArray(i):i.map((function(t){var e=t.uri;return a(e,o,r)}))}}))}},At=function(t){return function(e){return M(e,t)}},Tt=(G(l={},"clickThrough",_t((function(t){var e=[],n=mt(t),r=gt(t);return Array.isArray(n)&&n.length>0&&e.push.apply(e,q(n.map((function(t){return{uri:t}})))),Array.isArray(r)&&r.length>0&&e.push.apply(e,q(r.map((function(t){return{uri:t}})))),e}))),G(l,"closeLinear",_t(At("closeLinear"))),G(l,"complete",_t(At("complete"))),G(l,"error",St),G(l,"exitFullscreen",_t(At("exitFullscreen"))),G(l,"firstQuartile",_t(At("firstQuartile"))),G(l,"fullscreen",_t(At("fullscreen"))),G(l,"iconClick",(function(t,e,n){var r=e.data,o=e.tracker,i=void 0===o?Et:o,a=r.iconClickTracking;if(Array.isArray(a)){var s=!0,c=!1,u=void 0;try{for(var l,f=a[Symbol.iterator]();!(s=(l=f.next()).done);s=!0)i(l.value,H({},r),n)}catch(t){c=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}}})),G(l,"iconView",(function(t,e,n){var r=e.data,o=e.tracker,i=void 0===o?Et:o,a=r.iconViewTracking;if(Array.isArray(a)){var s=!0,c=!1,u=void 0;try{for(var l,f=a[Symbol.iterator]();!(s=(l=f.next()).done);s=!0)i(l.value,H({},r),n)}catch(t){c=!0,u=t}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}}})),G(l,"impression",_t(lt)),G(l,"midpoint",_t(At("midpoint"))),G(l,"mute",_t(At("mute"))),G(l,"pause",_t(At("pause"))),G(l,"playerCollapse",_t(At("playerCollapse"))),G(l,"playerExpand",_t(At("playerExpand"))),G(l,"progress",(function(t,e){var n=e.data,r=e.tracker,o=void 0===r?Et:r,i=n.progressUri;Boolean(i)&&o(i,H({},n))})),G(l,"resume",_t(At("resume"))),G(l,"rewind",_t(At("rewind"))),G(l,"skip",_t(At("skip"))),G(l,"start",_t(At("start"))),G(l,"thirdQuartile",_t(At("thirdQuartile"))),G(l,"unmute",_t(At("unmute"))),l),xt=function(t){return function(e){return V(e,t)}},Ot=(G(f={},v,_t(xt(v))),G(f,m,_t(xt(m))),G(f,"close",_t(xt("close"))),G(f,g,_t(xt(g))),f),Ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.async,r=void 0!==n&&n,o=e.defer,i=void 0!==o&&o,a=e.type,s=void 0===a?"text/javascript":a,c=e.placeholder;if(!t)throw new TypeError('Missing required "src" parameter');return new Promise((function(e,n){var o=document.createElement("script"),a=c;o.type=s,o.async=r,o.defer=i,o.onerror=function(){return n(new URIError("The script "+t+" is not accessible."))},o.onload=function(){return e(o)},a||(a=document.currentScript?document.currentScript.parentNode:document.head),o.src=t,a.appendChild(o)}))},Lt=function(t){return t.contentDocument||t.contentWindow&&t.contentWindow.document},kt="srcdoc"in document.createElement("iframe"),It=function(){var t=document.createElement("IFRAME");return t.sandbox="allow-forms allow-popups allow-scripts allow-same-origin",t.style.margin="0",t.style.padding="0",t.style.border="none",t.style.width="0",t.style.height="0",t.style.position="absolute",t},Rt=function(t,e){return new Promise((function(n,r){var o,i=function(t,e){return"<!DOCTYPE html>\n<html>\n  <head><meta charset='UTF-8'></head>\n  <body style='margin:0;padding:0'>\n  <script type='text/javascript'>window.parent.postMessage('"+t+"_ready', '"+e+"');<\/script>\n  </body>\n</html>"}(e,(o=window.location).origin?o.origin:o.protocol+"//"+o.hostname+(o.port?":"+o.port:"")),a=void 0;try{(a=It()).src="about:blank",t.appendChild(a),Lt(a).write(i)}catch(e){t.removeChild(a),kt?((a=It()).src="about:srcdoc",a.srcdoc=i,t.appendChild(a)):r(e)}top.window.addEventListener("message",(function t(r){r.data===e+"_ready"&&(top.window.removeEventListener("message",t),n(a))}),!1)}))},Pt=(d=-1,function(){return"videoAdContainer_"+ ++d}),Nt=Symbol("hidden"),jt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(U(this,t),this[Nt]={destroyed:!1,iframe:null,readyPromise:null},!(e instanceof Element))throw new TypeError("placeholder is not an Element");this[Nt].id=Pt(),this.element=function(){var t=document.createElement("DIV");return t.classList.add("mol-video-ad-container"),t.style.width="100%",t.style.height="100%",t.style.zIndex=1,t}(),this.executionContext=null,this.isOriginalVideoElement=Boolean(n),n?this.videoElement=n:(this.videoElement=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).createElement("VIDEO");return t.style.width="100%",t.style.height="100%",t}(),this.element.appendChild(this.videoElement)),e.appendChild(this.element)}return D(t,[{key:"addScript",value:function(){var t=F(p.mark((function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isDestroyed()){t.next=2;break}throw new Error("VideoAdContainer has been destroyed");case 2:if(this[Nt].iframe){t.next=7;break}return t.next=5,Rt(this.element,this[Nt].id);case 5:this[Nt].iframe=t.sent,this.executionContext=this[Nt].iframe.contentWindow;case 7:return n=Lt(this[Nt].iframe).body,t.abrupt("return",Ct(e,H({placeholder:n},r)));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"destroy",value:function(t){var e=this,n=function(){e.element&&e.element.parentNode&&(e.element.parentNode.removeChild(e.element),e[Nt].destroyed=!0)};t?setTimeout((function(){return n()}),t):n()}},{key:"isDestroyed",value:function(){return this[Nt].destroyed}}]),t}(),Mt=function(t,e){if(!t)throw new TypeError("placeholder is required");return new jt(t,e)},Vt=function(t,e){var n=e.src,r=e.type;return t.canPlayType(r||function(t){var e=t.match(/\.([^./?]+)(\?[^/]+)?$/i),n=e&&e[1];return{"3gp":"video/3gpp",avi:"video/x-msvideo",flv:"video/x-flv",m3u8:"application/x-mpegURL",m4v:"video/mp4",mov:"video/quicktime",mp4:"video/mp4",mpd:"application/dash+xml",ogv:"video/ogg",ts:"video/MP2T",webm:"video/webm",wmv:"video/x-ms-wmv"}[n]||"video/"+n}(n))},Ft=function(t,e,n){var r=n.getBoundingClientRect(),o=ft(t);return o?function(t,e){var n=e.width;return t.slice(0).sort((function(t,e){return Math.abs(n-(t.width||0))-Math.abs(n-(e.width||0))}))}(o.filter((function(t){return Vt(e,t)})),r)[0]:null},Ut=function(t,e,n){var r=function r(){return t.removeEventListener(e,r),n.apply(void 0,arguments)};return t.addEventListener(e,r),function(){t.removeEventListener(e,r)}},Dt=h.progress,Gt=function(t,e){return function(){try{t.apply(void 0,arguments)}catch(t){e&&e.error(t)}}},Ht=h.fullscreen,Bt=h.exitFullscreen,Wt=h.playerCollapse,zt=h.playerExpand,Yt=h.pause,qt=h.resume,Xt=h.rewind,Zt=h.skip,Jt=function(){var t=document.createElement("BUTTON");return t.classList.add("mol-vast-skip-control"),t.type="button",t.innerHTML="skip",t.style.position="absolute",t.style.bottom="15px",t.style.right="15px",t},Qt=h.error,Kt="volumeChanged",$t="finish",te="adProgress",ee=h.complete,ne=h.firstQuartile,re=h.midpoint,oe=h.start,ie=h.thirdQuartile,ae=function(t,e){return 100*t/e},se=function(t,e){return ae(t,e)>=99},ce=h.mute,ue=h.unmute,le=function(t){return t.muted||0===t.volume},fe=h.impression,de=function(t,e){for(var n=String(t);n.length<e;)n="0"+n;return n},pe=h.progress,he=function(t){return 1e3*t},ve=function(t){var e=t.offset,n=t.uri,r="number"==typeof e||function(t){return/^\d+(\.\d+)?%$/g.test(t)&&!isNaN(parseFloat(t))}(e),o="string"==typeof n&&n.length>0;return r&&o},me=function(t,e){return"number"==typeof t?t:parseFloat(t)/100*e},ge=h.clickThrough,ye=[function(t,e){var n=t.videoElement,r=t.element,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).clickThroughUrl,i=r||n.parentNode,a=document.createElement("A");return a.classList.add("mol-vast-clickthrough"),a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.left=0,a.style.top=0,o&&(a.href=o,a.target="_blank"),a.onclick=function(t){void 0!==Event.prototype.stopPropagation&&t.stopPropagation(),n.paused?n.play():n.pause(),e(ge)},i.appendChild(a),function(){return i.removeChild(a)}},function(t,e){var n=t.videoElement,r=function(){e(Qt,n.error)};return n.addEventListener("error",r),function(){n.removeEventListener("error",r)}},function(t,e){var n=t.videoElement,r=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"],o=!1,i=function(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null)===n?(o=!0,e(zt),e(Ht)):o&&(o=!1,e(Wt),e(Bt))},a=!0,s=!1,c=void 0;try{for(var u,l=r[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=u.value;document.addEventListener(f,i)}}catch(t){s=!0,c=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return function(){var t=!0,e=!1,n=void 0;try{for(var o,a=r[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;document.removeEventListener(s,i)}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}},function(t,e){var n=t.videoElement,r=function t(){n.currentTime>=1&&(e(fe),n.removeEventListener("timeupdate",t))};return n.addEventListener("timeupdate",r),function(){n.removeEventListener("timeupdate",r)}},function(t,e){var n=t.videoElement,r=!1,o=!0,i=function(){r?o&&(o=!1,e(qt)):(r=!0,o=!1)},a=function(){o||(o=!0,e(Yt))};return n.addEventListener("play",i),n.addEventListener("pause",a),function(){n.removeEventListener("play",i),n.removeEventListener("pause",a)}},function(t,e){var n=t.videoElement,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).progressEvents,o=void 0===r?[]:r,i=n.duration,a=he(i),s=0,c=he(n.currentTime),u=o.filter(ve).map((function(t){var e=t.offset,n=t.uri;return{offset:me(e,a),uri:n}})),l=function t(){var r=n.currentTime,o=Math.abs(r-c);s+=he(o),c=r;var i=u.reduce((function(t,e){var n=e.offset;return s>=n?t.toCall.push(e):t.stillPending.push(e),t}),{stillPending:[],toCall:[]}),a=i.stillPending,l=i.toCall;u=a,l.forEach((function(t){var n,r,o,i,a,c=t.uri;e(pe,{contentplayhead:(n=s,r=Math.floor(n/36e5),o=Math.floor(n/6e4%60),i=Math.floor(n/1e3%60),a=n%1e3,de(r,2)+":"+de(o,2)+":"+de(i,2)+"."+de(a,3)),progressUri:c})})),0===u.length&&n.removeEventListener("timeupdate",t)};return u.length>0&&n.addEventListener("timeupdate",l),function(){n.removeEventListener("timeupdate",l)}},function(t,e){var n=t.videoElement,r=n.currentTime,o=function(){var t=n.currentTime-r;t<0&&Math.abs(t)>=1&&e(Xt),r=n.currentTime};return n.addEventListener("timeupdate",o),function(){n.removeEventListener("timeupdate",o)}},function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipoffset,o=n.createSkipControl,i=void 0===o?Jt:o;if(!Boolean(r))return function(){};var a=void 0,s=t.videoElement,c=t.element,u=function t(){var n=1e3*s.currentTime;!Boolean(a)&&n>=r&&((a=i()).onclick=function(t){return void 0!==Event.prototype.stopPropagation&&t.stopPropagation(),e(Zt),!1},c.appendChild(a),s.removeEventListener("timeupdate",t))};return s.addEventListener("timeupdate",u),function(){s.removeEventListener("timeupdate",u),Boolean(a)&&c.removeChild(a)}},function(t,e){var n=t.videoElement,r=!1,o=!1,i=!1,a=!1,s=!1,c=function(){var t=n.duration,c=n.currentTime;!r&&c>0?(r=!0,e(oe)):o?i?a?s||se(c,t)&&(s=!0,e(ee)):function(t,e){return ae(t,e)>=75}(c,t)&&(a=!0,e(ie)):function(t,e){return ae(t,e)>=50}(c,t)&&(i=!0,e(re)):function(t,e){return ae(t,e)>=25}(c,t)&&(o=!0,e(ne)),e(te)},u=function t(){var r=n.duration,o=n.currentTime;!s&&se(o,r)&&(s=!0,e(ee)),n.removeEventListener("ended",t),n.removeEventListener("timeupdate",c)};return n.addEventListener("timeupdate",c),n.addEventListener("ended",u),function(){n.removeEventListener("timeupdate",c),n.removeEventListener("ended",u)}},function(t,e){var n=t.videoElement,r=le(n),o=function(){e(Kt),r&&!le(n)?e(ue):!r&&le(n)&&e(ce),r=le(n)};return n.addEventListener("volumechange",o),function(){n.removeEventListener("volumechange",o)}}],be=function(t,e){return new Promise((function(n){var r={currentTime:t.currentTime,playing:!t.paused};r.playing&&t.pause(),t.src=e.src,t.load(),Ut(t,"loadeddata",(function(){t.currentTime=r.currentTime,r.playing&&t.play(),n()}))}))},we=/^\s+|\s+$/g,Ee=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,_e=/^0o[0-7]+$/i,Ae=parseInt,Te="object"==s(r)&&r&&r.Object===Object&&r,xe="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,Oe=Te||xe||Function("return this")(),Ce=Object.prototype.toString,Le=Math.max,ke=Math.min,Ie=function(){return Oe.Date.now()};function Re(t){var e=s(t);return!!t&&("object"==e||"function"==e)}function Pe(t){if("number"==typeof t)return t;if(function(t){return"symbol"==s(t)||function(t){return!!t&&"object"==s(t)}(t)&&"[object Symbol]"==Ce.call(t)}(t))return NaN;if(Re(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Re(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(we,"");var n=Se.test(t);return n||_e.test(t)?Ae(t.slice(2),n?2:8):Ee.test(t)?NaN:+t}var Ne=function(t,e,n){var r,o,i,a,s,c,u=0,l=!1,f=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,i=o;return r=o=void 0,u=e,a=t.apply(i,n)}function h(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-u>=i}function v(){var t=Ie();if(h(t))return m(t);s=setTimeout(v,function(t){var n=e-(t-c);return f?ke(n,i-(t-u)):n}(t))}function m(t){return s=void 0,d&&r?p(t):(r=o=void 0,a)}function g(){var t=Ie(),n=h(t);if(r=arguments,o=this,c=t,n){if(void 0===s)return function(t){return u=t,s=setTimeout(v,e),l?p(t):a}(c);if(f)return s=setTimeout(v,e),p(c)}return void 0===s&&(s=setTimeout(v,e)),a}return e=Pe(e)||0,Re(n)&&(l=!!n.leading,i=(f="maxWait"in n)?Le(Pe(n.maxWait)||0,e):i,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=o=s=void 0},g.flush=function(){return void 0===s?a:m(Ie())},g},je=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,Me=function(){},Ve=["style","clientWidth","clientHeight"],Fe=Symbol("mutationHandlers"),Ue=Symbol("mutationObserver"),De=Symbol("resizeHandlers"),Ge=Symbol("resizeObj"),He=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).threshold,r=void 0===n?20:n;!function(t,e){if(!(t instanceof Element))throw new TypeError("Target is not an Element node");if(!(e instanceof Function))throw new TypeError("Callback is not a function")}(t,e);var o=function(t){var e=t.style,n=t.clientHeight,r=t.clientWidth;return[e.width,e.height,r,n].join(".")},i=o(t),a=Ne((function(){var n=o(t);n!==i&&(i=n,e())}),r),s=Boolean(je)?function(t,e){return t[Fe]||(t[Fe]=[],t[Ue]=function(t,e){var n=new je((function(t){for(var n=0;n<t.length;n++){var r=t[n].attributeName;Ve.includes(r)&&e()}}));return n.observe(t,{attributes:!0,characterData:!1,childList:!0}),n}(t,(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t[Fe]&&t[Fe].forEach((function(t){return t.apply(void 0,n)}))}))),t[Fe].push(e),function(){Array.isArray(t[Fe])&&(t[Fe]=t[Fe].filter((function(t){return t!==e})),0===t[Fe].length&&(t[Ue].disconnect(),delete t[Fe],delete t[Ue]))}}(t,a):Me,c=function(t,e){return t[De]||(t[De]=[],t[Ge]=function(t){var e=document.createElement("object");return e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),e.onload=function(){this.contentWindow&&this.contentWindow.addEventListener("resize",t)},e.type="text/html",e.data="about:blank",e}((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t[De]&&t[De].forEach((function(t){return t.apply(void 0,n)}))})),"static"===getComputedStyle(t).position&&(t.style.position="relative"),t.appendChild(t[Ge])),t[De].push(e),function(){Array.isArray(t[De])&&(t[De]=t[De].filter((function(t){return t!==e})),0===t[De].length&&(t.removeChild(t[Ge]),delete t[De],delete t[Ge]))}}(t,a);return function(){s(),c()}},Be=[],We=function(t){var e=t.element,n=t.callback,r=t.lastInViewport,o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.getBoundingClientRect(),r=n.height,o=n.width,i=n.top,a=n.right,s=n.bottom,c=n.left;if(!r||!o)return!1;var u=r*(1-e),l=o*(1-e),f=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth;return!document.hidden&&i+u>=0&&s-u<=f&&c+l>=0&&a-l<=d}(e,t.viewportOffset);o!==r&&(t.lastInViewport=o,n(o))},ze=function(){var t=!0,e=!1,n=void 0;try{for(var r,o=Be[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;We(i)}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}},Ye=function(){function t(e){U(this,t),this.evts={},this.logger=e||console}return D(t,[{key:"on",value:function(t,e){var n=this.evts;return(n[t]||(n[t]=[])).push(e),this}},{key:"removeListener",value:function(t,e){var n=this.evts,r=n[t]||(n[t]=[]);return n[t]=r.filter((function(t){return t!==e&&t._!==e})),this}},{key:"removeAllListeners",value:function(t){return t?this.evts[t]=null:this.evts={},this}},{key:"once",value:function(t,e){var n=this,r=function r(){n.removeListener(t,r),e.apply(void 0,arguments)};return r._=e,this.on(t,r)}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=this.evts,a=i[t]||(i[t]=[]),s=a.length>0;return a.forEach((function(t){try{t.apply(void 0,r)}catch(t){e.logger.error(t,t.stack)}})),s}}]),t}(),qe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.staticResource,n=t.htmlResource,r=t.iFrameResource;return e||n||r},Xe=function(t){return 1===t.length?t[0]:function(t){var e=window.devicePixelRatio||0;return t.slice(0).sort((function(t,n){return Math.abs(e-(t.pxratio||0))-Math.abs(e-(n.pxratio||0))}))}(t)[0]},Ze=function t(){var e=this;U(this,t),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Je=function(t,e){var n=!0,r=new Ze,o=r.promise,i=r.reject,a=r.resolve,s=Ut(t,e,(function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n=!1,a(e)}));return{cancel:function(){n&&(n=!1,s(),i(new Error("waitFor was canceled")))},promise:o}};!function(t){if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},o=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=c(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=c(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),u(t)},l.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},l.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),u(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];y.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=m,t.Response=y,t.fetch=function(t,n){return new Promise((function(r,o){var i=new m(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new y(o,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),i.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function p(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!o(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,n,r=f(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=d(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(t,e){var n,r,o=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:void 0);var Qe,Ke,$e,tn,en=function(t){var e=t.toLowerCase();return["text/plain","text/html"].some((function(t){return e.includes(t)}))},nn=(Qe=F(p.mark((function t(e){var n,r,o,i;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(n=t.sent,r=n.headers.get("Content-Type"),!(n.status>=400)){t.next=8;break}throw(o=new Error(n.statusText)).response=n,o;case 8:if(en(r)){t.next=12;break}throw(i=new Error("fetchHtml error, invalid Content-Type "+r)).response=n,i;case 12:return t.abrupt("return",n.text());case 13:case"end":return t.stop()}}),t,void 0)}))),function(t){return Qe.apply(this,arguments)}),rn=function(){},on=function(t,e){var n=e.document,r=e.placeholder;return new Promise((function(e,o){try{var i=function(t,e){var n=e.staticResource,r=e.htmlResource,o=e.iFrameResource;return Boolean(n)?function(t,e){var n=e.document,r=e.data,o=r.height,i=r.width,a=n.createElement("IMG");return i&&(a.width=i),o&&(a.height=o),a.src=t,a}(n,{data:e,document:t}):Boolean(r)?function(t,e){var n=e.document,r=e.data,o=r.height,i=r.width,a=n.createElement("DIV");return i&&(a.style.width=i+"px"),o&&(a.style.height=o+"px"),nn(t).then((function(t){a.innerHTML=t,a.dispatchEvent(new CustomEvent("load"))})).catch((function(){a.dispatchEvent(new CustomEvent("error"))})),a}(r,{data:e,document:t}):function(t,e){var n=e.document,r=e.data,o=r.height,i=r.width,a=n.createElement("IFRAME");return a.src=t,a.sandbox="allow-forms allow-popups allow-scripts",i&&(a.width=i),o&&(a.height=o),a.src=t,a.frameBorder=0,a.style.border="none",a}(o,{data:e,document:t})}(n,t),a=Je(i,"error"),s=Je(i,"load"),c=function(){r.contains(i)&&(r.removeChild(i),i.style.zIndex=0)};a.promise.then((function(){s.cancel(),c(),o(new Error("Error loading resource"))})).catch(rn),s.promise.then((function(){a.cancel(),c(),e(i)})).catch(rn),i.style.zIndex=-9999,r.appendChild(i)}catch(t){o(t)}}))},an=function(t,e,n){var r,o,i,a=n.drawnIcons,s=n.placeholder,c=t.signature,u=e.getBoundingClientRect(),l=s.getBoundingClientRect(),f=t.width||u.width,d=t.height||u.height,p=t.xPosition||"right",h=t.yPosition||"top",v=void 0,m=void 0;if(function(t){return!["left","right"].includes(String(t).toLowerCase())}(p))v=p;else{var g=a.filter((function(t){return t.xPosition===p&&t.yPosition===h}));v=function(t,e,n,r){var o=n.reduce((function(t,e){return t+e.width+1}),0);return"left"===t?o:r-o-e}(p,f,g,l.width)}!function(t){return!["top","bottom"].includes(String(t).toLowerCase())}(h)?(r=h,o=d,i=l.height,m="top"===r?0:i-o):m=h;var y=v+"-"+m+"_"+f+"x"+d;return Object.assign(t,{height:d,left:v,signature:y,top:m,updated:c!==y,width:f})},sn=function(t){return t.height*t.width},cn=function(t){return t.left+t.width},un=function(t){return t.left},ln=function(t){return t.top},fn=function(t){return t.top+t.height},dn=function(t,e){var n=function(t,e){var n=e.drawnIcons,r=e.placeholder,o=sn(r.getBoundingClientRect());return sn(t)+n.reduce((function(t,e){return t+sn(e)}),0)<=.35*o}(t,e),r=function(t,e){var n=e.placeholder.getBoundingClientRect();return t.left>=0&&t.left+t.width<=n.width&&t.top>=0&&t.top+t.height<=n.height}(t,e),o=function(t,e){return!e.drawnIcons.some((function(e){return function(t,e){return!(un(t)>cn(e)||cn(t)<un(e)||fn(t)<ln(e)||ln(t)>fn(e))}(t,e)}))}(t,e);return n&&r&&o},pn=function(){},hn=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).onIconClick,r=void 0===n?pn:n,o=document.createElement("A");return e.iconClickthrough&&(o.href=e.iconClickthrough,o.target="_blank"),Boolean(e.iFrameResource)&&(t.style.pointerEvents="none"),o.onclick=function(t){void 0!==Event.prototype.stopPropagation&&t.stopPropagation(),r(e)},o.appendChild(t),o},vn=(Ke=F(p.mark((function t(e,n){var r;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.element){t.next=9;break}return t.next=3,on(e,n);case 3:(r=t.sent).width="100%",r.height="100%",r.style.height="100%",r.style.width="100%",e.element=hn(r,e,n);case 9:return t.abrupt("return",e.element);case 10:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return Ke.apply(this,arguments)}),mn=function(t,e){var n=e.height,r=e.width,o=e.left,i=e.top,a=e.yPosition;return t.height=n,t.width=r,t.style.position="absolute",t.style.left=o+"px","bottom"===a?t.style.bottom="0":t.style.top=i+"px",t.style.height=n+"px",t.style.width=r+"px",t},gn=($e=F(p.mark((function t(e,n){var r,o,i;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.placeholder,t.next=3,vn(e,n);case 3:if(o=t.sent,i=an(e,o,n),!dn(i,n)){t.next=9;break}o.parentNode&&!e.updated||r.appendChild(mn(o,i)),t.next=11;break;case 9:throw o.parentNode&&o.parentNode.removeChild(o),new Error("Icon can't be rendered");case 11:return t.abrupt("return",i);case 12:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return $e.apply(this,arguments)}),yn=function(t,e){var n=1e3*e.currentTime,r=1e3*e.duration,o=t.offset||0,i=t.duration||r;return o<=n&&n-o<=i},bn=function(){var t=F(p.mark((function t(e,n){var r,o,i,a,s,c=n.onIconClick,u=n.videoAdContainer,l=n.logger;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.element,o=u.videoElement,i=[],a=e.reduce((function(t,e){return yn(e,o)?t.iconsToShow.push(e):t.otherIcons.push(e),t}),{iconsToShow:[],otherIcons:[]}),s=a.iconsToShow,a.otherIcons.forEach((function(t){var e=t.element;e&&e.parentNode&&e.parentNode.removeChild(e)})),t.next=6,s.reduce(function(){var t=F(p.mark((function t(e,n){var o;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return t.prev=2,t.next=5,gn(n,{document,drawnIcons:i,onIconClick:c,placeholder:r});case 5:o=t.sent,i.push(o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),l.log(t.t0);case 12:case"end":return t.stop()}}),t,void 0,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}(),Promise.resolve(i));case 6:return t.abrupt("return",i);case 7:case"end":return t.stop()}}),t,void 0)})));return function(e,n){return t.apply(this,arguments)}}(),wn=Symbol("firstRenderPending"),En=function(){},Sn=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.videoAdContainer,o=n.onIconView,i=void 0===o?En:o,a=n.onIconClick,s=void 0===a?En:a,c=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(n,["videoAdContainer","onIconView","onIconClick"]),u=r.videoElement,l=r.element,f=(e=F(p.mark((function e(){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(t,H({onIconClick:s,videoAdContainer:r},c));case 2:n=e.sent,l.dispatchEvent(new CustomEvent("iconsDrawn")),n.forEach((function(t){t[wn]&&(i(t),t[wn]=!1)}));case 5:case"end":return e.stop()}}),e,void 0)}))),function(){return e.apply(this,arguments)});return t.forEach((function(t){t[wn]=!0})),{drawIcons:f,hasPendingIconRedraws:function(){return function(t,e){var n=1e3*e.currentTime,r=1e3*e.duration,o=t.filter((function(t){return!t.offset||t.offset<n})),i=t.filter((function(t){return t.duration&&t.duration<r}));return o.length>0||i.length>0}(t,u)},removeIcons:function(){return function(t){return t.filter((function(t){var e=t.element;return Boolean(e)&&Boolean(e.parentNode)})).forEach((function(t){var e=t.element;return e.parentNode.removeChild(e)}))}(t)}}},_n=function(t,e){return t+100>innerWidth&&e+100>innerHeight?"fullscreen":t<400?"thumbnail":"normal"},An=h.start,Tn=h.iconClick,xn=h.iconView,On=Symbol("_protected"),Cn=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.viewability,i=void 0!==o&&o,a=r.responsive,s=void 0!==a&&a,c=r.logger,u=void 0===c?console:c;U(this,e);var l=z(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u));l[On]={finish:function(){l[On].finished=!0,l[On].onFinishCallbacks.forEach((function(t){return t()})),l.emit($t,{adUnit:l,type:$t})},finished:!1,onErrorCallbacks:[],onFinishCallbacks:[],started:!1,throwIfCalled:function(){throw new Error("VideoAdUnit method must be implemented on child class")},throwIfFinished:function(){if(l.isFinished())throw new Error("VideoAdUnit is finished")}},l.type=null,l.error=null,l.errorCode=null;var f=l[On].onFinishCallbacks;if(l.vastChain=t,l.videoAdContainer=n,l.icons=function(t){var e=t.map((function(t){return t.ad})).reduce((function(t,e){return[].concat(q(t),q(J(e)||[]))}),[]);return e.length>0?function(t){var e=function(t){return t.reduce((function(t,e){var n=e.program,r=void 0===n?"UNKNOWN":n;return t[r]||(t[r]=[]),t[r].push(e),t}),{})}(t);return Object.keys(e).reduce((function(t,n){return[].concat(q(t),"UNKNOWN"===n?q(e.UNKNOWN):[Xe(e[n])])}),[])}(function(t){return e=qe,n={},t.filter((function(t){var r=e(t);return!n.hasOwnProperty(r)&&(n[r]=!0,!0)}));var e,n}(e)):null}(t),f.push(function(t){var e=0,n=0,r=function(){t.duration-e>3&&(t.pause(),t.play(),t.currentTime=e)},o=function(){var r=t.currentTime;Math.abs(r-e)>3?((n+=1)>=2&&t.pause(),t.currentTime=e):e=r};return t.addEventListener("timeupdate",o),t.addEventListener("ended",r),function(){t.removeEventListener("timeupdate",o),t.removeEventListener("ended",r)}}(l.videoAdContainer.videoElement)),l.icons){var d=Sn(l.icons,{logger:u,onIconClick:function(t){return l.emit(Tn,{adUnit:l,data:t,type:Tn})},onIconView:function(t){return l.emit(xn,{adUnit:l,data:t,type:xn})},videoAdContainer:n}),p=d.drawIcons,h=d.hasPendingIconRedraws,v=d.removeIcons;l[On].drawIcons=p,l[On].removeIcons=v,l[On].hasPendingIconRedraws=h,f.push(v)}return i&&l.once(An,(function(){var t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.threshold,o=void 0===r?100:r,i=n.scrollableElement,a=void 0===i?window:i,s=n.viewabilityOffset,c=void 0===s?.4:s;!function(t,e){if(!(t instanceof Element))throw new TypeError("Target is not an Element node");if(!(e instanceof Function))throw new TypeError("Callback is not a function")}(t,e);var u=o>0?Ne(ze):ze,l={callback:e,element:t,lastInViewport:!1,scrollableElement:a,viewabilityOffset:c};return We(l),Be.push(l),a.addEventListener("scroll",u),1===Be.length&&(window.addEventListener("resize",u),window.addEventListener("orientationchange",u),document.addEventListener("visibilitychange",u)),function(){0===(Be=Be.filter((function(t){return t!==l}))).length&&(window.removeEventListener("resize",u),window.removeEventListener("orientationchange",u),document.removeEventListener("visibilitychange",u)),Be.every((function(t){return t.scrollableElement!==a}))&&a.removeEventListener("scroll",u)}}(l.videoAdContainer.element,(function(t){l.isFinished()||(t?l.resume():l.pause())}));f.push(t)})),s&&l.once(An,(function(){var t=l.videoAdContainer.element;l[On].size={height:t.clientHeight,viewmode:_n(t.clientWidth,t.clientHeight),width:t.clientWidth};var e=He(t,(function(){if(!l.isFinished()){var e=l[On].size,n=t.clientHeight,r=t.clientWidth;n===e.height&&r===e.width||l.resize(r,n,_n(r,n))}}));f.push(e)})),l}return W(e,Ye),D(e,[{key:"start",value:function(){this[On].throwIfCalled()}},{key:"resume",value:function(){this[On].throwIfCalled()}},{key:"pause",value:function(){this[On].throwIfCalled()}},{key:"setVolume",value:function(t){this[On].throwIfCalled()}},{key:"getVolume",value:function(){this[On].throwIfCalled()}},{key:"cancel",value:function(){this[On].throwIfCalled()}},{key:"duration",value:function(){this[On].throwIfCalled()}},{key:"paused",value:function(){this[On].throwIfCalled()}},{key:"currentTime",value:function(){this[On].throwIfCalled()}},{key:"onFinish",value:function(t){if("function"!=typeof t)throw new TypeError("Expected a callback function");this[On].onFinishCallbacks.push(Gt(t,this.logger))}},{key:"onError",value:function(t){if("function"!=typeof t)throw new TypeError("Expected a callback function");this[On].onErrorCallbacks.push(Gt(t,this.logger))}},{key:"isFinished",value:function(){return this[On].finished}},{key:"isStarted",value:function(){return this[On].started}},{key:"resize",value:function(){var t=F(p.mark((function t(e,n,r){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this[On].size={height:n,viewmode:r,width:e},!this.isStarted()||this.isFinished()||!this.icons){t.next=6;break}return t.next=4,this[On].removeIcons();case 4:return t.next=6,this[On].drawIcons();case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}(),Ln=h.complete,kn=h.error,In=h.skip,Rn=Symbol("_private"),Pn=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};U(this,e);var o=z(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));o[Rn]={handleMetric:function(t,e){switch(t){case Ln:o[On].finish();break;case kn:o.error=e,o.errorCode=o.error&&o.error.code?o.error.code:405,o[On].onErrorCallbacks.forEach((function(t){return t(o.error,{adUnit:o,vastChain:o.vastChain})})),o[On].finish();break;case In:o.cancel()}o.emit(t,{adUnit:o,type:t})}},o.assetUri=null,o.type="VAST";var i=o[On].onFinishCallbacks,a=o[Rn].handleMetric;o.hooks=r.hooks||{};var s=function(t,e){var n=t.vastChain,r=t.videoAdContainer,o=t.hooks,i=n[0].ad,a=yt(i),s=vt(i),c=function(t){return t.map((function(t){return t.ad})).reduce((function(t,e){var n=M(e,Dt)||[];return[].concat(q(t),q(n))}),[]).map((function(t){return{offset:t.offset,uri:t.uri}}))}(n),u=H({clickThroughUrl:s,progressEvents:c,skipoffset:a},o),l=ye.map((function(t){return Gt(t(r,e,u))}));return function(){return l.forEach((function(t){return t()}))}}({hooks:o.hooks,vastChain:o.vastChain,videoAdContainer:o.videoAdContainer},a);return i.push(s),o}return W(e,Cn),D(e,[{key:"start",value:function(){var t=F(p.mark((function t(){var e,n,r,o,i,a,s,c=this;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this[On].throwIfFinished(),!this.isStarted()){t.next=3;break}throw new Error("VastAdUnit already started");case 3:if(e=this.vastChain[0].ad,n=this.videoAdContainer,r=n.videoElement,o=n.element,i=Ft(e,r,o),!Boolean(i)){t.next=16;break}if(!this.icons){t.next=11;break}return a=function(){var t=F(p.mark((function t(){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.isFinished()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,c[On].drawIcons();case 4:c[On].hasPendingIconRedraws()&&!c.isFinished()&&Ut(r,"timeupdate",a);case 5:case"end":return t.stop()}}),t,c)})));return function(){return t.apply(this,arguments)}}(),t.next=11,a();case 11:r.src=i.src,this.assetUri=i.src,r.play(),t.next=19;break;case 16:(s=new Error("Can't find a suitable media to play")).code=403,this[Rn].handleMetric(kn,s);case 19:this[On].started=!0;case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resume",value:function(){this.videoAdContainer.videoElement.play()}},{key:"pause",value:function(){this.videoAdContainer.videoElement.pause()}},{key:"paused",value:function(){return this.videoAdContainer.videoElement.paused}},{key:"setVolume",value:function(t){this.videoAdContainer.videoElement.volume=t}},{key:"getVolume",value:function(){return this.videoAdContainer.videoElement.volume}},{key:"cancel",value:function(){this[On].throwIfFinished(),this.videoAdContainer.videoElement.pause(),this[On].finish()}},{key:"duration",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.duration:0}},{key:"currentTime",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.currentTime:0}},{key:"resize",value:function(){var t=F(p.mark((function t(n,r,o){var i,a,s,c,u;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resize",this).call(this,n,r,o);case 2:this.isStarted()&&!this.isFinished()&&(i=this.vastChain[0].ad,a=this.videoAdContainer,s=a.videoElement,c=a.element,u=Ft(i,s,c),Boolean(u)&&s.src!==u.src&&be(s,u));case 3:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}(),Nn=["text/javascript","text/javascript1.0","text/javascript1.2","text/javascript1.4","text/jscript","application/javascript","application/x-javascript","text/ecmascript","text/ecmascript1.0","text/ecmascript1.2","text/ecmascript1.4","text/livescript","application/ecmascript","application/x-ecmascript"],jn=function(t){var e=t.type;return Nn.some((function(t){return t===e}))},Mn=function(){var t=F(p.mark((function t(e,n){var r,o,i,a;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(pt(e[0].ad)||[]).filter(jn)[0]){t.next=3;break}throw new TypeError("VastChain does not contain a supported vpaid creative");case 3:return o=r.src,i=r.type,t.next=6,n.addScript(o,{type:i});case 6:return a=n.executionContext,t.abrupt("return",a.getVPAIDAd());case 8:case"end":return t.stop()}}),t,void 0)})));return function(e,n){return t.apply(this,arguments)}}(),Vn="AdStarted",Fn="AdStopped",Un="AdSkipped",Dn="AdDurationChange",Gn="AdRemainingTimeChange",Hn="AdVolumeChange",Bn="AdImpression",Wn="AdVideoStart",zn="AdVideoFirstQuartile",Yn="AdVideoMidpoint",qn="AdVideoThirdQuartile",Xn="AdVideoComplete",Zn="AdClickThru",Jn="AdUserAcceptInvitation",Qn="AdUserMinimize",Kn="AdUserClose",$n="AdPaused",tr="AdPlaying",er="AdError",nr=function(t,e,n){return new Promise((function(r,o){var i=void 0,a=function o(){"number"==typeof n&&clearTimeout(i),t.unsubscribe(o,e),r()};"number"==typeof n&&(i=setTimeout((function(){t.unsubscribe(a,e),o(new Error("Timeout waiting for event '"+e+"'"))}),n)),t.subscribe(a,e)}))},rr=function(t,e,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=nr(t,n,5e3);return t[e].apply(t,o),a},or=function(t){var e=t.split(".");return parseInt(e[0],10)},ir=function(t,e){var n=t.handshakeVersion(e);if(!function(t,e){var n=or(e);return!(n<1)&&n<=or(t)}(e,n))throw new Error("Creative Version '"+n+"' not supported");return n},ar=function(t){var e=document.createElement("DIV");return Object.assign(e.style,{border:"0px",cursor:"pointer",height:"100%",left:"0px",margin:"0px",padding:"0px",position:"absolute",top:"0px",width:"100%"}),t.appendChild(e),e},sr=h.complete,cr=h.mute,ur=h.unmute,lr=h.skip,fr=h.start,dr=h.firstQuartile,pr=h.pause,hr=h.resume,vr=h.impression,mr=h.midpoint,gr=h.thirdQuartile,yr=h.clickThrough,br=h.error,wr=h.closeLinear,Er=["AdLoaded",Vn,Fn,Un,"AdSkippableStateChange","AdSizeChange","AdLinearChange",Dn,"AdExpandedChange",Gn,Hn,Bn,Wn,zn,Yn,qn,Xn,Zn,"AdInteraction",Jn,Qn,Kn,$n,tr,"AdLog",er].filter((function(t){return"AdLoaded"!==t})),Sr=Symbol("_private"),_r=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};U(this,e);var i=z(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o));return i[Sr]={evtHandler:(r={},G(r,Zn,(function(t,e,n){var r="string"==typeof t&&t.length>0?t:vt(i.vastChain[0].ad);n&&function(t){if(!t||"string"!=typeof t)return!1;var e=void 0;try{e=new URL(t)}catch(t){return!1}return"http:"===e.protocol||"https:"===e.protocol}(r)&&(i.paused()?i.resume():i.pause(),window.open(r,"_blank")),i.emit(yr,{adUnit:i,type:yr})})),G(r,Dn,(function(){i.emit(te,{adUnit:i,type:te})})),G(r,er,(function(t){i.error=function(t){var e=t instanceof Error?t:new Error("VPAID general error");return e.code||(e.code=901),e}(t),i.errorCode=i.error.code,i[On].onErrorCallbacks.forEach((function(t){return t(i.error,{adUnit:i,vastChain:i.vastChain})})),i[On].finish(),i.emit(br,{adUnit:i,type:br})})),G(r,Bn,(function(){i[Sr].videoStart||i[Sr].handleVpaidEvt(Wn),i.emit(vr,{adUnit:i,type:vr})})),G(r,$n,(function(){i[Sr].paused=!0,i.emit(pr,{adUnit:i,type:pr})})),G(r,tr,(function(){i[Sr].paused=!1,i.emit(hr,{adUnit:i,type:hr})})),G(r,Gn,(function(){i.emit(te,{adUnit:i,type:te})})),G(r,Un,(function(){i.cancel(),i.emit(lr,{adUnit:i,type:lr})})),G(r,Vn,(function(){i.emit(g,{adUnit:i,type:g})})),G(r,Fn,(function(){i.emit(Fn,{adUnit:i,type:Fn}),i[On].finish()})),G(r,Jn,(function(){i.emit(v,{adUnit:i,type:v})})),G(r,Kn,(function(){i.emit(wr,{adUnit:i,type:wr}),i[On].finish()})),G(r,Qn,(function(){i.emit(m,{adUnit:i,type:m})})),G(r,Xn,(function(){i.emit(sr,{adUnit:i,type:sr}),i[On].finish()})),G(r,zn,(function(){i.emit(dr,{adUnit:i,type:dr})})),G(r,Yn,(function(){i.emit(mr,{adUnit:i,type:mr})})),G(r,Wn,(function(){i[Sr].videoStart||(i[Sr].videoStart=!0,i[Sr].paused=!1,i.emit(fr,{adUnit:i,type:fr}))})),G(r,qn,(function(){i.emit(gr,{adUnit:i,type:gr})})),G(r,Hn,(function(){var t=i.getVolume();i.emit(Kt,{adUnit:i,type:Kt}),0!==t||i[Sr].muted||(i[Sr].muted=!0,i.emit(cr,{adUnit:i,type:cr})),t>0&&i[Sr].muted&&(i[Sr].muted=!1,i.emit(ur,{adUnit:i,type:ur}))})),r),handleVpaidEvt:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=i[Sr].evtHandler[t];o&&o.apply(void 0,n),i.emit(t,{adUnit:i,type:t})},muted:!1,paused:!0},i.type="VPAID",i.creativeAd=null,i[Sr].loadCreativePromise=Mn(t,n),i}return W(e,Cn),D(e,[{key:"start",value:function(){var t=F(p.mark((function t(){var e,n,r,o,i,a,s,c,u,l=this;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this[On].throwIfFinished(),!this.isStarted()){t.next=3;break}throw new Error("VpaidAdUnit already started");case 3:return t.prev=3,t.next=6,this[Sr].loadCreativePromise;case 6:for(this.creativeAd=t.sent,e=nr(this.creativeAd,"AdLoaded"),n=!0,r=!1,o=void 0,t.prev=11,i=Er[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)s=a.value,this.creativeAd.subscribe(this[Sr].handleVpaidEvt.bind(this,s),s);t.next=19;break;case 15:t.prev=15,t.t0=t.catch(11),r=!0,o=t.t0;case 19:t.prev=19,t.prev=20,!n&&i.return&&i.return();case 22:if(t.prev=22,!r){t.next=25;break}throw o;case 25:return t.finish(22);case 26:return t.finish(19);case 27:return ir(this.creativeAd,"2.0"),f=this.creativeAd,d=this.videoAdContainer,h=this.vastChain,v=void 0,g=(m=(v=d.element).getBoundingClientRect()).width,y=m.height,b=_n(g,y),w={slot:ar(v),videoSlot:d.videoElement,videoSlotCanAutoPlay:d.isOriginalVideoElement},E=bt(h[0].XML),f.initAd(g,y,b,-1,E,w),this.creativeAd.getAdIcons&&!this.creativeAd.getAdIcons()&&(this.icons=null),t.next=32,e;case 32:if(this.videoAdContainer.isDestroyed()){t.next=54;break}return t.prev=33,(c=this.videoAdContainer.videoElement).muted?(this[Sr].muted=!0,this.setVolume(0)):this.setVolume(c.volume),t.prev=36,t.next=39,rr(this.creativeAd,"startAd",Vn);case 39:t.next=44;break;case 41:t.prev=41,t.t1=t.catch(36),this.logger.warn(t.t1);case 44:if(!this.icons){t.next=48;break}return u=function(){var t=F(p.mark((function t(){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l.isFinished()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,l[On].drawIcons();case 4:l[On].hasPendingIconRedraws()&&!l.isFinished()&&setTimeout(u,500);case 5:case"end":return t.stop()}}),t,l)})));return function(){return t.apply(this,arguments)}}(),t.next=48,u();case 48:this[On].started=!0,t.next=54;break;case 51:t.prev=51,t.t2=t.catch(33),this.cancel();case 54:return t.abrupt("return",this);case 57:throw t.prev=57,t.t3=t.catch(3),this[Sr].handleVpaidEvt(er,t.t3),t.t3;case 61:case"end":return t.stop()}var f,d,h,v,m,g,y,b,w,E}),t,this,[[3,57],[11,15,19,27],[20,,22,26],[33,51],[36,41]])})));return function(){return t.apply(this,arguments)}}()},{key:"resume",value:function(){this.creativeAd.resumeAd()}},{key:"pause",value:function(){this.creativeAd.pauseAd()}},{key:"paused",value:function(){return this.isFinished()||this[Sr].paused}},{key:"setVolume",value:function(t){this.creativeAd.setAdVolume(t)}},{key:"getVolume",value:function(){return this.creativeAd.getAdVolume()}},{key:"cancel",value:function(){var t=F(p.mark((function t(){var e;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this[On].throwIfFinished(),t.prev=1,e=nr(this.creativeAd,Fn,3e3),this.creativeAd.stopAd(),t.next=6,e;case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this[On].finish();case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"duration",value:function(){if(!this.creativeAd)return 0;var t=this.creativeAd.getAdDuration();return t<0?0:t}},{key:"currentTime",value:function(){if(!this.creativeAd)return 0;var t=this.creativeAd.getAdRemainingTime();return t<0?0:this.duration()-t}},{key:"resize",value:function(){var t=F(p.mark((function t(n,r,o){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resize",this).call(this,n,r,o);case 2:return t.abrupt("return",rr(this.creativeAd,"resizeAd","AdSizeChange",n,r,o));case 3:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}(),Ar=function(t,e,n){var r=n.tracker,o="VPAID"===n.type?new _r(t,e,n):new Pn(t,e,n);return Object.values(h).forEach((function(n){return o.on(n,(function(n){var i=n.type,a={data:n.data,errorCode:o.errorCode,tracker:r};!function(t,e,n,r){var o=n.errorCode,i=n.tracker,a=void 0===i?Et:i,s=n.logger,c=void 0===s?console:s,u=Tt[t];u?u(e,{data:H({},n.data,{errorCode:o}),errorCode:o,tracker:a},r):c.error("Event '"+t+"' cannot be tracked")}(i,t,a,e)}))})),Object.values(y).forEach((function(n){return o.on(n,(function(n){var o={data:n.data,tracker:r};!function(t,e,n,r){var o=n.tracker,i=void 0===o?Et:o,a=n.logger,s=void 0===a?console:a,c=Ot[t];c?c(e,{data:H({},n.data),tracker:i},r):s.error("Event '"+t+"' cannot be tracked")}(n.type,t,o,e)}))})),o},Tr=function(t,e){if(!Array.isArray(t)||0===t.length)throw new TypeError("Invalid vastChain");if(!(e instanceof jt))throw new TypeError("Invalid VideoAdContainer")},xr=function(t,e){var n=ft(t);return!!n&&n.some((function(t){return Vt(e,t)}))},Or=function(t,e){var n=e.onAdReady,r=e.autoplay;return new Promise((function(e,o){var i=function(t){return function(){return o(new Error("Ad unit start rejected due to event '"+t+"'"))}};t.onError(o),t.on("start",(function(){return e(t)})),t.on(Kn,i(Kn)),t.on("closeLinear",i("closeLinear")),t.on(Fn,i(Fn)),n(t),r&&t.start()}))},Cr=function(t,e,n){if(r=t[0].ad,!Boolean(pt(r)))throw new Error("No valid creative found in the passed VAST chain");var r,o=Ar(t,e,H({},n,{type:"VPAID"}));return Or(o,n)},Lr=function(t,e,n){var r=Ar(t,e,H({},n,{type:"VAST"}));return Or(r,n)},kr=function(){var t=F(p.mark((function t(e,n,r){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Tr(e,n),t.prev=1,t.next=4,Cr(e,n,r);case 4:return t.abrupt("return",t.sent);case 7:if(t.prev=7,t.t0=t.catch(1),!xr(e[0].ad,n.videoElement)){t.next=11;break}return t.abrupt("return",Lr(e,n,r));case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,void 0,[[1,7]])})));return function(e,n,r){return t.apply(this,arguments)}}(),Ir=function(){var t=F(p.mark((function t(e,n,r){var o,i,a,s,c,u,l;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=void 0,t.prev=1,i=r.timeout,o=Mt(n,r.videoElement),a=kr(e,o,r),"number"==typeof i&&(s=!1,c=void 0,u=new Promise((function(t,n){c=setTimeout((function(){var t=r.tracker;St(e,{errorCode:402,tracker:t}),s=!0,n(new Error("Timeout while starting the ad"))}),r.timeout)})),a=Promise.race([a.then((function(t){return s?t.isStarted()&&t.cancel():clearTimeout(c),t})),u])),t.next=8,a;case 8:return(l=t.sent).onFinish((function(){o.destroy(2e3)})),t.abrupt("return",l);case 13:throw t.prev=13,t.t0=t.catch(1),o&&o.destroy(),t.t0;case 17:case"end":return t.stop()}}),t,void 0,[[1,13]])})));return function(e,n,r){return t.apply(this,arguments)}}(),Rr=function(){var t=F(p.mark((function t(e){var n,r,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={credentials:"include"},r=Object.assign({},n,a),t.next=4,window.fetch(e,r);case 4:if(!((o=t.sent).status>=400)){t.next=9;break}throw(i=new Error(o.statusText)).response=o,i;case 9:return t.abrupt("return",o);case 10:case"end":return t.stop()}}),t,void 0)})));return function(e){return t.apply(this,arguments)}}(),Pr=Symbol("requested"),Nr=function(t){t[Pr]=!0},jr=function(t,e){var n=e.wrapperLimit,r=void 0===n?5:n;if(t.length>r){var o=new Error("Wrapper Limit reached");throw o.code=304,o}},Mr=function(){var t=F(p.mark((function t(e,n){var r,o;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Rr(e,n);case 3:return r=t.sent,t.next=6,r.text();case 6:return o=t.sent,t.abrupt("return",o);case 10:throw t.prev=10,t.t0=t.catch(0),t.t0.code=502,t.t0;case 14:case"end":return t.stop()}}),t,void 0,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),Vr=function(t){try{return R(t)}catch(t){throw t.code=100,t}},Fr=function(t){try{var e=ot(t);if(Boolean(e))return Nr(e),e;throw new Error("No Ad")}catch(t){throw t.code=303,t}},Ur=function(t,e){var n=t.ad,r=t.parsedXML,o=e.allowMultipleAds,i=void 0===o||o,a=e.followAdditionalWrappers,s=void 0===a||a;if(!it(n)&&!at(n)){var c=new Error("Invalid VAST, ad contains neither Wrapper nor Inline");throw c.code=101,c}if(rt(r)&&!i){var u=new Error("Multiple ads are not allowed");throw u.code=203,u}if(it(n)&&!s){var l=new Error("To follow additional wrappers is not allowed");throw l.code=200,l}},Dr=function(t,e){var n=t[0],r=Boolean(n)&&it(n.ad)?ct(n.ad):{};return H({},r,e)},Gr=(tn=F(p.mark((function t(e,n){var r,o,i,a,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={ad:null,errorCode:null,parsedXML:null,requestTag:e,XML:u},o=void 0,i=void 0,a=void 0,t.prev=4,o=Dr(c,n),jr(c,o),r.XML){t.next=13;break}return s=Mr(e,o),"number"==typeof o.timeout&&(a=o.timeout,i=Date.now(),s=Promise.race([s,new Promise((function(t,e){setTimeout((function(){var t=new Error("RequestAd timeout");t.code=301,e(t)}),a)}))])),t.next=12,s;case 12:r.XML=t.sent;case 13:if(r.XML&&(r.parsedXML=Vr(r.XML),r.ad=Fr(r.parsedXML)),Ur(r,o),!it(r.ad)){t.next=18;break}return i&&(a-=Date.now()-i),t.abrupt("return",Gr(st(r.ad),H({},o,{timeout:a}),[r].concat(q(c))));case 18:return t.abrupt("return",[r].concat(q(c)));case 21:return t.prev=21,t.t0=t.catch(4),Number.isInteger(t.t0.code)||(t.t0.code=900),r.errorCode=t.t0.code,r.error=t.t0,t.abrupt("return",[r].concat(q(c)));case 27:case"end":return t.stop()}}),t,void 0,[[4,21]])}))),function(t,e){return tn.apply(this,arguments)}),Hr=function t(e,n){!function(t){if(!Array.isArray(t))throw new TypeError("Invalid VAST chain");if(0===t.length)throw new Error("No next ad to request")}(e);var r=e[0],o=function(t,e){var n=t.ad,r=t.parsedXML,o=e.fallbackOnNoAd,i=void 0===o||o,a=e.useAdBuffet,s=void 0!==a&&a,c=$(r).filter((function(t){return!Boolean(t[Pr])})),u=null;return rt(r)?(s&&(u=c.filter((function(t){return!nt(t)}))[0]),u||(u=function(t,e){var n=et(t)+1;return e.find((function(t){return et(t)===n}))||null}(n,c))):c.length>0&&i&&(u=c[0]),u}(r,n);if(Boolean(o)){var i=[Object.assign({},r,{ad:o})].concat(q(e.slice(1)));return Nr(o),it(o)?Gr(st(o),n,i):Promise.resolve(i)}return t(e.slice(1),n)},Br=function(t,e){if(!t||0===t.length)throw new Error("Invalid VastChain");var n=t[0];if(!e.vpaidEnabled&&function(t){return Boolean(pt(t[0].ad))}(t)){var r=new Error("VPAID ads are not supported by the current player");r.code=200,n.errorCode=200,n.error=r}if(Boolean(n.error))throw n.error;e.hooks&&"function"==typeof e.hooks.validateVastResponse&&e.hooks.validateVastResponse(t)},Wr=function(t){return function(){"function"==typeof t&&t.apply(void 0,arguments)}},zr=function(t,e){return t&&t[0]&&t[0].errorCode||e.code},Yr=function(t,e){var n=e.hooks;return n&&"function"==typeof n.transformVastResponse?n.transformVastResponse(t):t},qr=function(){var t=F(p.mark((function t(e,n,r,o){var i,a,s,c,u,l,f,d,h,v;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=void 0,a=void 0,s=void 0,c=H({},r),u=c.onAdStart,l=c.onError,f=c.onRunFinish,t.prev=5,"number"==typeof c.timeout&&(a=Date.now()),t.next=9,e();case 9:if(i=t.sent,!o()){t.next=13;break}return f(),t.abrupt("return");case 13:return a&&(d=Date.now(),c.timeout-=d-a,a=d),Br(i,c),t.next=17,Ir(Yr(i,c),n,H({},c));case 17:if(s=t.sent,!o()){t.next=22;break}return s.cancel(),f(),t.abrupt("return");case 22:s.onError(l),s.onFinish(f),u(s),t.next=38;break;case 27:if(t.prev=27,t.t0=t.catch(5),h=zr(i,t.t0),Boolean(h)&&(v=r.tracker,St(i,{errorCode:h,tracker:v})),l(t.t0,{adUnit:s,vastChain:i}),!i||o()){t.next=37;break}if(a&&(c.timeout-=Date.now()-a),a&&!(c.timeout>0)){t.next=37;break}return qr((function(){return Hr(i,c)}),n,H({},c),o),t.abrupt("return");case 37:f();case 38:case"end":return t.stop()}}),t,void 0,[[5,27]])})));return function(e,n,r,o){return t.apply(this,arguments)}}(),Xr=function(t,e){var n=t&&T(t,e);if(n)return C(n)},Zr=function t(e){var n=function(t){var e=O(t);return e&&T(e,"Pricing")}(e[0].ad);return n?{pricing:C(n),pricingCurrency:k(n,"currency"),pricingModel:k(n,"model")}:e.length>1?t(e.slice(1)):{}};t.getDetails=function(t){var e,n,r,o,i,a=t.map((function(t){var e=t.ad;return k(e,"id")})),s=t.map((function(t){return function(t){var e=O(t),n=e&&T(e,"AdSystem");if(n)return C(n)}(t.ad)})),c=t.map((function(t){var e=t.ad;return j(e)})).filter((function(t){return Boolean(t)})),u=c.map((function(t){return k(t,"id")})),l=c.map((function(t){return k(t,"adId")})),f=Zr(t),d=f.pricing,p=f.pricingCurrency,h=f.pricingModel,v=(e=t[0].ad,(r=(n=T(e,"InLine"))&&T(n,"Category"))?{category:C(r),categoryAuthority:k(r,"authority")}:{}),m=v.category,g=v.categoryAuthority,y=O(t[0].ad),b=j(t[0].ad),w=b&&T(b,"Linear"),E=Xr(y,"AdServingId"),S=(i=(o=t[0].parsedXML)&&T(o,"VAST"))?k(i,"version"):"unknown",_=Xr(y,"Advertiser"),A=Xr(y,"AdTitle"),x=Xr(y,"Description"),L=Xr(w,"Duration"),I=L&&P(L),R=void 0,N=[],M=void 0,V=[],F=void 0,U=[],D=void 0,G=[],H=void 0,B=void 0,W=void 0,z=void 0,q=[],X=void 0,Z=void 0,J=void 0,Q=void 0;if(at(t[0].ad)){var K=Y(a);R=K[0],N=K.slice(1);var $=Y(s);M=$[0],V=$.slice(1);var tt=Y(u);F=tt[0],U=tt.slice(1);var et=Y(l);D=et[0],G=et.slice(1),H=vt(t[0].ad),B=bt(t[0].XML);var nt=T(b,"UniversalAdId");W=C(nt),z=k(nt,"idRegistry"),q=ft(t[0].ad),X=Boolean(pt(t[0].ad)),J=k(w,"skipoffset"),Q=P(J),Z=Boolean(J)}else it(t[0].ad)&&(N=a,V=s,U=u,G=l);return{adId:R,adServingId:E,adSystem:M,adTitle:A,advertiser:_,adWrapperCreativeAdIds:G,adWrapperCreativeIds:U,adWrapperIds:N,adWrapperSystems:V,category:m,categoryAuthority:g,clickThroughUrl:H,creativeAdId:D,creativeData:B,creativeId:F,description:x,duration:L,durationInMs:I,mediaFiles:q,pricing:d,pricingCurrency:p,pricingModel:h,skipOffset:J,skipOffsetInMs:Q,skippable:Z,universalAdId:W,universalAdIdRegistry:z,vastVersion:S,vpaid:X}},t.run=Ir,t.runWaterfall=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!1,i=null,a=Wr(n.onAdStart),s=H({autoplay:!0,vpaidEnabled:!0},n,{onAdReady:Wr(n.onAdReady),onAdStart:function(t){a(i=t)},onError:Wr(n.onError),onRunFinish:Wr(n.onRunFinish)});return n.videoElement&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&n.videoElement.load(),qr((function(){return Gr(t,s,[],r)}),e,s,(function(){return o})),function(){o=!0,i&&!i.isFinished()&&i.cancel()}},t.requestAd=Gr,t.requestNextAd=Hr,t.vastSelectors=wt,Object.defineProperty(t,"__esModule",{value:!0})},"object"==s(e)?a(e):(o=[e],void 0===(i="function"==typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},(t,e,n)=>{"use strict";n.r(e),n.d(e,{resolveViewabilityMethod:()=>a,sendViewability:()=>s});var r=n(4),o=n(5),i={INTERSECTIONOBSERVER:function(){return!!window.IntersectionObserver},GEOMETRY:function(){try{return top===window||window.top.document}catch(t){}return!1}},a=function(){return Object.keys(i).find((function(t){return i[t]()}))};function s(t,e,n,i){var s=n.measurable,u=n.viewable,l=n.creativeView,f=a();f?e&&s.forEach((function(e){return c(t,e)})):f="UNMEASURABLE";var d=!1,p="INTERSECTIONOBSERVER"===f?r.viewabilityByIntersectionObserver:o.viewabilityByGeometry;return e&&p(e,(function(){d||(u.forEach((function(e){return c(t,e)})),l.forEach((function(e){return c(t,e)})),i(),d=!0)}))}function c(t,e){var n;if(e){var r=document.createElement("img");r.width="1px",r.height="1px",r.src=e,((null===(n=top)||void 0===n||null===(n=n.document)||void 0===n?void 0:n.body)||document.body).appendChild(r)}}},(t,e,n)=>{"use strict";var r;function o(t,e){var n;r&&r();var o=!1;function i(t){t?n=setTimeout((function(){e(),s.disconnect(),document.removeEventListener("visibilitychange",a)}),2e3):clearTimeout(n)}var a=function(){document.hidden?i(!1):i(o)};document.addEventListener("visibilitychange",a);var s=new IntersectionObserver((function(t){var e=t[0];o=e.isIntersecting,e.isIntersecting&&i(!document.hidden)}),{root:null,rootMargin:"0px",threshold:.5});return s.observe(t),r=function(){s.disconnect(),clearTimeout(n),document.removeEventListener("visibilitychange",a)}}n.r(e),n.d(e,{viewabilityByIntersectionObserver:()=>o})},(t,e,n)=>{"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){var n=0,r=-1,o=setInterval((function(){var i=t.getBoundingClientRect(),c=[i.top,i.left,i.top+i.height,i.left+i.height],u=a(c,[0,0,window.innerHeight,window.innerWidth])/s.apply(void 0,c);u>.5&&(-1===r||r>.5)?(n+=100)>2e3&&(window.clearInterval(o),e()):n=0,r=u}),100);return function(){clearInterval(o)}}n.r(e),n.d(e,{viewabilityByGeometry:()=>i});var a=function(t,e){var n=r(t,4),o=n[0],i=n[1],a=n[2],c=n[3],u=r(e,4),l=u[0],f=u[1],d=u[2],p=u[3],h=l>a||f>c||d<o||p<i,v=Math.max(o,l),m=Math.max(i,f),g=Math.min(a,d),y=Math.min(c,p);return!h&&s(v,m,g,y)},s=function(t,e,n,r){return(t-n)*(e-r)}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{handleElasticErrorCapture:()=>f});var r=n(7),o=n(72),i=n(73);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){var r;return r=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==a(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=(0,r.init)({active:"production"!==o.envVars.NODE_ENV,serviceName:o.envVars.ELASTIC_APM_SERVICE_NAME,serverUrl:o.envVars.ELASTIC_APM_SERVER_URL,environment:o.envVars.NODE_ENV,serviceVersion:i.version,instrument:!0,disableInstrumentations:["page-load","history","eventtarget","click","xmlhttprequest","fetch"],transactionSampleRate:1,eventsLimit:20,apmRequest:function(t){return t.xhr.setRequestHeader("Authorization","Bearer ".concat(o.envVars.ELASTIC_APM_SECRET_TOKEN)),!0}}),f=function(t,e){var n=c(c({},e),{},{message:t.message,stack:t.stack});l.setCustomContext(n),l.captureError(t)}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{ApmBase:()=>a.default,apm:()=>s,apmBase:()=>s,default:()=>u,init:()=>c});var r=n(13),o=n(20),i=n(29),a=n(8);var s=function(){if(r.isBrowser&&window.elasticApm)return window.elasticApm;var t=(0,o.bootstrap)(),e=(0,i.createServiceFactory)(),n=new a.default(e,!t);return r.isBrowser&&(window.elasticApm=n),n}(),c=s.init.bind(s);const u=c},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(9),o=n(10),i=n(11),a=n(19),s=function(){function t(t,e){this._disable=e,this.serviceFactory=t,this._initialized=!1}var e=t.prototype;return e.isEnabled=function(){return!this._disable},e.isActive=function(){var t=this.serviceFactory.getService(r.CONFIG_SERVICE);return this.isEnabled()&&this._initialized&&t.get("active")},e.init=function(t){var e=this;if(this.isEnabled()&&!this._initialized){this._initialized=!0;var n=this.serviceFactory.getService([r.CONFIG_SERVICE,r.LOGGING_SERVICE,r.TRANSACTION_SERVICE]),s=n[0],c=n[1],u=n[2];s.setVersion("5.14.0"),this.config(t);var l=s.get("logLevel");if(c.setLevel(l),s.get("active")){this.serviceFactory.init();var f=(0,o.getInstrumentationFlags)(s.get("instrument"),s.get("disableInstrumentations"));if(this.serviceFactory.getService(r.PERFORMANCE_MONITORING).init(f),f[r.ERROR])this.serviceFactory.getService(r.ERROR_LOGGING).registerListeners();if(s.get("session")){var d=s.getLocalConfig();d&&d.session&&s.setConfig({session:d.session})}var p=function(){return f[r.PAGE_LOAD]&&e._sendPageLoadMetrics()};s.get("centralConfig")?this.fetchCentralConfig().then(p):p(),(0,i.observePageVisibility)(s,u),f[r.EVENT_TARGET]&&f[r.CLICK]&&(0,a.observePageClicks)(u)}else this._disable=!0,c.warn("RUM agent is inactive")}return this},e.fetchCentralConfig=function(){var t=this.serviceFactory.getService([r.APM_SERVER,r.LOGGING_SERVICE,r.CONFIG_SERVICE]),e=t[0],n=t[1],o=t[2];return e.fetchConfig(o.get("serviceName"),o.get("environment")).then((function(t){var e=t.transaction_sample_rate;if(e){var r={transactionSampleRate:e=Number(e)},i=o.validate(r).invalid;if(0===i.length)o.setConfig(r);else{var a=i[0],s=a.key,c=a.value,u=a.allowed;n.warn('invalid value "'+c+'" for '+s+". Allowed: "+u+".")}}return t})).catch((function(t){n.warn("failed fetching config:",t)}))},e._sendPageLoadMetrics=function(){var t=this.startTransaction(void 0,r.PAGE_LOAD,{managed:!0,canReuse:!0});if(t){t.addTask(r.PAGE_LOAD);var e=function(){setTimeout((function(){return t.removeTask(r.PAGE_LOAD)}),r.PAGE_LOAD_DELAY)};"complete"===document.readyState?e():window.addEventListener("load",e)}},e.observe=function(t,e){this.serviceFactory.getService(r.CONFIG_SERVICE).events.observe(t,e)},e.config=function(t){var e=this.serviceFactory.getService([r.CONFIG_SERVICE,r.LOGGING_SERVICE]),n=e[0],o=e[1],i=n.validate(t),a=i.missing,s=i.invalid,c=i.unknown;if(c.length>0){var u="Unknown config options are specified for RUM agent: "+c.join(", ");o.warn(u)}if(0===a.length&&0===s.length)n.setConfig(t);else{var l=", ",f="RUM agent isn't correctly configured. ";a.length>0&&(f+=a.join(l)+" is missing",s.length>0&&(f+=l)),s.forEach((function(t,e){var n=t.key,r=t.value,o=t.allowed;f+=n+' "'+r+'" contains invalid characters! (allowed: '+o+")"+(e!==s.length-1?l:"")})),o.error(f),n.setConfig({active:!1})}},e.setUserContext=function(t){this.serviceFactory.getService(r.CONFIG_SERVICE).setUserContext(t)},e.setCustomContext=function(t){this.serviceFactory.getService(r.CONFIG_SERVICE).setCustomContext(t)},e.addLabels=function(t){this.serviceFactory.getService(r.CONFIG_SERVICE).addLabels(t)},e.setInitialPageLoadName=function(t){this.serviceFactory.getService(r.CONFIG_SERVICE).setConfig({pageLoadTransactionName:t})},e.startTransaction=function(t,e,n){if(this.isEnabled())return this.serviceFactory.getService(r.TRANSACTION_SERVICE).startTransaction(t,e,n)},e.startSpan=function(t,e,n){if(this.isEnabled())return this.serviceFactory.getService(r.TRANSACTION_SERVICE).startSpan(t,e,n)},e.getCurrentTransaction=function(){if(this.isEnabled())return this.serviceFactory.getService(r.TRANSACTION_SERVICE).getCurrentTransaction()},e.captureError=function(t){if(this.isEnabled())return this.serviceFactory.getService(r.ERROR_LOGGING).logError(t)},e.addFilter=function(t){this.serviceFactory.getService(r.CONFIG_SERVICE).addFilter(t)},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{ADD_EVENT_LISTENER_STR:()=>i,AFTER_EVENT:()=>j,APM_SERVER:()=>Q,BEFORE_EVENT:()=>N,CLICK:()=>R,CONFIG_CHANGE:()=>T,CONFIG_SERVICE:()=>X,ERROR:()=>P,ERRORS:()=>Y,ERROR_LOGGING:()=>$,EVENT_TARGET:()=>I,FETCH:()=>L,FIRST_CONTENTFUL_PAINT:()=>H,FIRST_INPUT:()=>W,HISTORY:()=>k,HTTP_REQUEST_TIMEOUT:()=>rt,HTTP_REQUEST_TYPE:()=>v,INVOKE:()=>o,KEYWORD_LIMIT:()=>et,LARGEST_CONTENTFUL_PAINT:()=>B,LAYOUT_SHIFT:()=>z,LOCAL_CONFIG_KEY:()=>M,LOGGING_SERVICE:()=>Z,LONG_TASK:()=>V,MAX_SPAN_DURATION:()=>u,MEASURE:()=>U,NAME_UNKNOWN:()=>g,NAVIGATION:()=>D,OUTCOME_FAILURE:()=>w,OUTCOME_SUCCESS:()=>b,OUTCOME_UNKNOWN:()=>E,PAGE_LOAD:()=>f,PAGE_LOAD_DELAY:()=>l,PAINT:()=>F,PERFORMANCE_MONITORING:()=>K,QUEUE_ADD_TRANSACTION:()=>O,QUEUE_FLUSH:()=>x,REMOVE_EVENT_LISTENER_STR:()=>a,RESOURCE:()=>G,RESOURCE_INITIATOR_TYPES:()=>s,REUSABILITY_THRESHOLD:()=>c,ROUTE_CHANGE:()=>d,SCHEDULE:()=>r,SESSION_TIMEOUT:()=>nt,TEMPORARY_TYPE:()=>m,TRANSACTIONS:()=>q,TRANSACTION_END:()=>A,TRANSACTION_SERVICE:()=>J,TRANSACTION_START:()=>_,TRANSACTION_TYPE_ORDER:()=>y,TRUNCATED_TYPE:()=>tt,TYPE_CUSTOM:()=>p,USER_INTERACTION:()=>h,USER_TIMING_THRESHOLD:()=>S,XMLHTTPREQUEST:()=>C});var r="schedule",o="invoke",i="addEventListener",a="removeEventListener",s=["link","css","script","img","xmlhttprequest","fetch","beacon","iframe"],c=5e3,u=3e5,l=1e3,f="page-load",d="route-change",p="custom",h="user-interaction",v="http-request",m="temporary",g="Unknown",y=[f,d,h,v,p,m],b="success",w="failure",E="unknown",S=60,_="transaction:start",A="transaction:end",T="config:change",x="queue:flush",O="queue:add_transaction",C="xmlhttprequest",L="fetch",k="history",I="eventtarget",R="click",P="error",N=":before",j=":after",M="elastic_apm_config",V="longtask",F="paint",U="measure",D="navigation",G="resource",H="first-contentful-paint",B="largest-contentful-paint",W="first-input",z="layout-shift",Y="errors",q="transactions",X="ConfigService",Z="LoggingService",J="TransactionService",Q="ApmServer",K="PerformanceMonitoring",$="ErrorLogging",tt=".truncated",et=1024,nt=18e5,rt=1e4},(t,e,n)=>{"use strict";n.r(e),n.d(e,{getInstrumentationFlags:()=>o});var r=n(9);function o(t,e){var n,o=((n={})[r.XMLHTTPREQUEST]=!1,n[r.FETCH]=!1,n[r.HISTORY]=!1,n[r.PAGE_LOAD]=!1,n[r.ERROR]=!1,n[r.EVENT_TARGET]=!1,n[r.CLICK]=!1,n);return t?(Object.keys(o).forEach((function(t){-1===e.indexOf(t)&&(o[t]=!0)})),o):o}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{observePageVisibility:()=>a});var r=n(9),o=n(12),i=n(13);function a(t,e){"hidden"===document.visibilityState&&(o.state.lastHiddenStart=0);var n=function(){"hidden"===document.visibilityState&&s(t,e)},r=function(){return s(t,e)},i=!0;return window.addEventListener("visibilitychange",n,i),window.addEventListener("pagehide",r,i),function(){window.removeEventListener("visibilitychange",n,i),window.removeEventListener("pagehide",r,i)}}function s(t,e){var n=e.getCurrentTransaction();if(n){var a=t.observeEvent(r.QUEUE_ADD_TRANSACTION,(function(){t.dispatchEvent(r.QUEUE_FLUSH),o.state.lastHiddenStart=(0,i.now)(),a()}));n.end()}else t.dispatchEvent(r.QUEUE_FLUSH),o.state.lastHiddenStart=(0,i.now)()}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{__DEV__:()=>r,state:()=>o});var r=!1,o={bootstrapTime:null,lastHiddenStart:Number.MIN_SAFE_INTEGER}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{PERF:()=>s,baseExtend:()=>C,bytesToHex:()=>f,checkSameOrigin:()=>w,extend:()=>I,find:()=>j,generateRandomId:()=>h,getCurrentScript:()=>k,getDtHeaderValue:()=>v,getDuration:()=>B,getEarliestSpan:()=>D,getElasticScript:()=>L,getLatestNonXHRSpan:()=>F,getLatestXHRSpan:()=>U,getServerTimingInfo:()=>_,getTSHeaderValue:()=>y,getTime:()=>H,getTimeOrigin:()=>A,isBeaconInspectionEnabled:()=>X,isBrowser:()=>a,isCORSSupported:()=>c,isDtHeaderValid:()=>g,isFunction:()=>O,isObject:()=>x,isPerfTimelineSupported:()=>Y,isPerfTypeSupported:()=>q,isPlatformSupported:()=>E,isRedirectInfoAvailable:()=>Z,isUndefined:()=>P,merge:()=>R,noop:()=>N,now:()=>G,parseDtHeaderValue:()=>m,removeInvalidChars:()=>M,rng:()=>p,scheduleMacroTask:()=>W,scheduleMicroTask:()=>z,setLabel:()=>S,setRequestHeader:()=>b,stripQueryStringFromUrl:()=>T});var r=n(14);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i=[].slice,a="undefined"!=typeof window,s=a&&"undefined"!=typeof performance?performance:{};function c(){return"withCredentials"in new window.XMLHttpRequest}for(var u=[],l=0;l<256;++l)u[l]=(l+256).toString(16).substr(1);function f(t){for(var e=[],n=0;n<t.length;n++)e.push(u[t[n]]);return e.join("")}var d=new Uint8Array(16);function p(){return"undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues(d):"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues?msCrypto.getRandomValues(d):d}function h(t){return f(p()).substr(0,t)}function v(t){if(t&&t.traceId&&t.id&&t.parentId){var e=t.sampled?"01":"00",n=t.sampled?t.id:t.parentId;return"00-"+t.traceId+"-"+n+"-"+e}}function m(t){var e=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})$/.exec(t);if(e){var n="00"!==e[4];return{traceId:e[2],id:e[3],sampled:n}}}function g(t){return/^[\da-f]{2}-[\da-f]{32}-[\da-f]{16}-[\da-f]{2}$/.test(t)&&"00000000000000000000000000000000"!==t.slice(3,35)&&"0000000000000000"!==t.slice(36,52)}function y(t){var e=t.sampleRate;if(!("number"!=typeof e||String(e).length>256)){return"es=s:"+e}}function b(t,e,n){"function"==typeof t.setRequestHeader?t.setRequestHeader(e,n):t.headers&&"function"==typeof t.headers.append?t.headers.append(e,n):t[e]=n}function w(t,e){var n=!1;return"string"==typeof e?n=t===e:e&&"function"==typeof e.test?n=e.test(t):Array.isArray(e)&&e.forEach((function(e){n||(n=w(t,e))})),n}function E(){return a&&"function"==typeof Set&&"function"==typeof JSON.stringify&&s&&"function"==typeof s.now&&c()}function S(t,e,n){if(n&&t){var r=M(t),i=o(e);return null!=e&&"boolean"!==i&&"number"!==i&&(e=String(e)),n[r]=e,n}}function _(t){void 0===t&&(t=[]);for(var e=[],n=0;n<t.length;n++){var r=t[n],o=r.name,i=r.duration,a=r.description,s=o;a&&(s+=";desc="+a),i&&(s+=";dur="+i),e.push(s)}return e.join(", ")}function A(){return s.timing.fetchStart}function T(t){return t&&t.split("?")[0]}function x(t){return null!==t&&"object"===o(t)}function O(t){return"function"==typeof t}function C(t,e,n){for(var r=0,o=e.length;r<o;++r){var i=e[r];if(x(i)||O(i))for(var a=Object.keys(i),s=0,c=a.length;s<c;s++){var u=a[s],l=i[u];n&&x(l)?(x(t[u])||(t[u]=Array.isArray(l)?[]:{}),C(t[u],[l],!1)):t[u]=l}}return t}function L(){if("undefined"!=typeof document)for(var t=document.getElementsByTagName("script"),e=0,n=t.length;e<n;e++){var r=t[e];if(r.src.indexOf("elastic")>0)return r}}function k(){if("undefined"!=typeof document){var t=document.currentScript;return t||L()}}function I(t){return C(t,i.call(arguments,1),!1)}function R(t){return C(t,i.call(arguments,1),!0)}function P(t){return void 0===t}function N(){}function j(t,e,n){if(null==t)throw new TypeError("array is null or not defined");var r=Object(t),o=r.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=0;i<o;){var a=r[i];if(e.call(n,a,i,r))return a;i++}}function M(t){return t.replace(/[.*"]/g,"_")}function V(t,e){for(var n=null,r=0;r<t.length;r++){var o=t[r];e&&e(o.type)&&(!n||n._end<o._end)&&(n=o)}return n}function F(t){return V(t,(function(t){return-1===String(t).indexOf("external")}))}function U(t){return V(t,(function(t){return-1!==String(t).indexOf("external")}))}function D(t){for(var e=t[0],n=1;n<t.length;n++){var r=t[n];e._start>r._start&&(e=r)}return e}function G(){return s.now()}function H(t){return"number"==typeof t&&t>=0?t:G()}function B(t,e){return P(e)||P(t)?null:parseInt(e-t)}function W(t){setTimeout(t,0)}function z(t){r.Promise.resolve().then(t)}function Y(){return"function"==typeof s.getEntriesByType}function q(t){return"undefined"!=typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.indexOf(t)>=0}function X(){var t="_elastic_inspect_beacon_";if(null!=sessionStorage.getItem(t))return!0;if(!window.URL||!window.URLSearchParams)return!1;try{var e=new URL(window.location.href).searchParams.has(t);return e&&sessionStorage.setItem(t,!0),e}catch(t){}return!1}function Z(t){return t.redirectStart>0}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{Promise:()=>i});var r=n(15),o={};n(13).isBrowser?o=window:"undefined"!=typeof self&&(o=self);var i="Promise"in o?o.Promise:r.default},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(16),o=n(17),i=n(18);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var s=setTimeout;function c(t){return Boolean(t&&void 0!==t.length)}function u(){}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(t,this)}function f(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void p(e.promise,t)}d(e.promise,r)}else(1===t._state?d:p)(e.promise,t._value)}))):t._deferreds.push(e)}function d(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===a(e)||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void h(t);if("function"==typeof n)return void m((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,h(t)}catch(e){p(t,e)}var r,o}function p(t,e){t._state=2,t._value=e,h(t)}function h(t){2===t._state&&0===t._deferreds.length&&l._immediateFn((function(){t._handled||l._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)f(t,t._deferreds[e]);t._deferreds=null}function v(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function m(t,e){var n=!1;try{t((function(t){n||(n=!0,d(e,t))}),(function(t){n||(n=!0,p(e,t))}))}catch(t){if(n)return;n=!0,p(e,t)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var n=new this.constructor(u);return f(this,new v(t,e,n)),n},l.prototype.finally=r.default,l.all=function(t){return new l((function(e,n){if(!c(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,s){try{if(s&&("object"===a(s)||"function"==typeof s)){var c=s.then;if("function"==typeof c)return void c.call(s,(function(e){i(t,e)}),n)}r[t]=s,0==--o&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)i(s,r[s])}))},l.any=i.default,l.allSettled=o.default,l.resolve=function(t){return t&&"object"===a(t)&&t.constructor===l?t:new l((function(e){e(t)}))},l.reject=function(t){return new l((function(e,n){n(t)}))},l.race=function(t){return new l((function(e,n){if(!c(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)l.resolve(t[r]).then(e,n)}))},l._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){s(t,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const g=l},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.r(e),n.d(e,{default:()=>o});const o=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(r(t)+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var i=o.length;function a(t,n){if(n&&("object"===r(n)||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(e){a(t,e)}),(function(n){o[t]={status:"rejected",reason:n},0==--i&&e(o)}))}o[t]={status:"fulfilled",value:n},0==--i&&e(o)}for(var s=0;s<o.length;s++)a(s,o[s])}))}},(t,e,n)=>{"use strict";function r(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}n.r(e),n.d(e,{default:()=>o}),r.prototype=Error.prototype;const o=function(t){var e=this;return new e((function(n,o){if(!t||void 0===t.length)return o(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return o();for(var a=[],s=0;s<i.length;s++)try{e.resolve(i[s]).then(n).catch((function(t){a.push(t),a.length===i.length&&o(new r(a,"All promises were rejected"))}))}catch(t){o(t)}}))}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{observePageClicks:()=>i});var r=n(9),o="a[data-transaction-name], button[data-transaction-name]";function i(t){var e=function(e){e.target instanceof Element&&function(t,e){var n=function(t){var e={transactionName:null,context:null};e.transactionName=function(t){var e=function(t){if(t.closest){var e=t.closest(o);return e?e.dataset.transactionName:null}return t.dataset.transactionName}(t);if(e)return e;var n=t.tagName.toLowerCase(),r=t.getAttribute("name");if(r)return n+'["'+r+'"]';return n}(t);var n=t.getAttribute("class");n&&(e.context={custom:{classes:n}});return e}(e),i=n.transactionName,a=n.context,s=t.startTransaction("Click - "+i,r.USER_INTERACTION,{managed:!0,canReuse:!0,reuseThreshold:300});s&&a&&s.addContext(a)}(t,e.target)},n="click";return window.addEventListener(n,e,true),function(){window.removeEventListener(n,e,true)}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{bootstrap:()=>s});var r=n(13),o=n(21),i=n(12),a=!1;function s(){return(0,r.isPlatformSupported)()?((0,o.patchAll)(),i.state.bootstrapTime=(0,r.now)(),a=!0):r.isBrowser&&console.log("[Elastic APM] platform is not supported!"),a}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{patchAll:()=>l,patchEventHandler:()=>c});var r=n(23),o=n(25),i=n(28),a=n(22),s=n(9),c=new a.default,u=!1;function l(){return u||(u=!0,(0,r.patchXMLHttpRequest)((function(t,e){c.send(s.XMLHTTPREQUEST,[t,e])})),(0,o.patchFetch)((function(t,e){c.send(s.FETCH,[t,e])})),(0,i.patchHistory)((function(t,e){c.send(s.HISTORY,[t,e])}))),c}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(9);const o=function(){function t(){this.observers={}}var e=t.prototype;return e.observe=function(t,e){var n=this;if("function"==typeof e)return this.observers[t]||(this.observers[t]=[]),this.observers[t].push(e),function(){var r=n.observers[t].indexOf(e);r>-1&&n.observers[t].splice(r,1)}},e.sendOnly=function(t,e){var n=this.observers[t];n&&n.forEach((function(t){try{t.apply(void 0,e)}catch(t){console.log(t,t.stack)}}))},e.send=function(t,e){this.sendOnly(t+r.BEFORE_EVENT,e),this.sendOnly(t,e),this.sendOnly(t+r.AFTER_EVENT,e)},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{patchXMLHttpRequest:()=>i});var r=n(24),o=n(9);function i(t){var e=XMLHttpRequest.prototype;if(e&&e[o.ADD_EVENT_LISTENER_STR])var n="readystatechange",i="load",a="error",s=(0,r.patchMethod)(e,"open",(function(){return function(t,e){return t[r.XHR_IGNORE]||(t[r.XHR_METHOD]=e[0],t[r.XHR_URL]=e[1],t[r.XHR_SYNC]=!1===e[2]),s.apply(t,e)}})),c=(0,r.patchMethod)(e,"send",(function(){return function(e,s){if(e[r.XHR_IGNORE])return c.apply(e,s);var l={source:o.XMLHTTPREQUEST,state:"",type:"macroTask",data:{target:e,method:e[r.XHR_METHOD],sync:e[r.XHR_SYNC],url:e[r.XHR_URL],status:""}};try{return function(e){if(e.state!==o.SCHEDULE){e.state=o.SCHEDULE,t(o.SCHEDULE,e);var r=e.data.target;s(n),s(i),s("timeout"),s(a),s("abort")}function s(t){r[o.ADD_EVENT_LISTENER_STR](t,(function(t){var o=t.type;o===n?4===r.readyState&&0!==r.status&&u(e,"success"):u(e,o===i?"success":o)}))}}(l),c.apply(e,s)}catch(t){throw u(l,a),t}}}));function u(e,n){e.state!==o.INVOKE&&(e.state=o.INVOKE,e.data.status=n,t(o.INVOKE,e))}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{XHR_IGNORE:()=>a,XHR_METHOD:()=>u,XHR_SYNC:()=>s,XHR_URL:()=>c,apmSymbol:()=>o,globalState:()=>r,patchMethod:()=>i});var r={fetchInProgress:!1};function o(t){return"__apm_symbol__"+t}function i(t,e,n){for(var r=t;r&&!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);!r&&t[e]&&(r=t);var i,a,s,c,u=o(e);if(r&&!(i=r[u])){i=r[u]=r[e];var l=r&&Object.getOwnPropertyDescriptor(r,e);if(!(c=l)||!1!==c.writable&&("function"!=typeof c.get||void 0!==c.set)){var f=n(i,u,e);r[e]=function(){return f(this,arguments)},a=r[e],s=i,a[o("OriginalDelegate")]=s}}return i}var a=o("xhrIgnore"),s=o("xhrSync"),c=o("xhrURL"),u=o("xhrMethod")},(t,e,n)=>{"use strict";n.r(e),n.d(e,{patchFetch:()=>c});var r=n(14),o=n(24),i=n(9),a=n(13),s=n(26);function c(t){if((0,s.isFetchSupported)()){var e=window.fetch;window.fetch=function(s,u){var l,f,d=this,p=arguments,h=s instanceof URL;if("string"==typeof s||h)l=new Request(s,u),f=h?l.url:s;else{if(!s)return e.apply(d,p);f=(l=s).url}var v={source:i.FETCH,state:"",type:"macroTask",data:{target:l,method:l.method,url:f,aborted:!1}};return new r.Promise((function(r,s){var u;o.globalState.fetchInProgress=!0,function(e){e.state=i.SCHEDULE,t(i.SCHEDULE,e)}(v);try{u=e.apply(d,[l])}catch(t){return s(t),v.data.error=t,n(v),void(o.globalState.fetchInProgress=!1)}u.then((function(t){var e=t.clone?t.clone():{};r(t),(0,a.scheduleMicroTask)((function(){v.data.response=t;var r=e.body;r?function(t,e){var r=t.getReader();!function t(){r.read().then((function(r){r.done?n(e):t()}),(function(t){c(e,t)}))}()}(r,v):n(v)}))}),(function(t){s(t),(0,a.scheduleMicroTask)((function(){c(v,t)}))})),o.globalState.fetchInProgress=!1}))}}function n(e){e.state=i.INVOKE,t(i.INVOKE,e)}function c(t,e){t.data.aborted=function(t){return t&&"AbortError"===t.name}(e),t.data.error=e,n(t)}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{BYTE_LIMIT:()=>a,isFetchSupported:()=>u,sendFetchRequest:()=>c,shouldUseFetchWithKeepAlive:()=>s});var r=n(9),o=n(27);function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(this,arguments)}var a=6e4;function s(t,e){if(!u())return!1;if(!("keepalive"in new Request("")))return!1;var n=function(t){if(!t)return 0;if(t instanceof Blob)return t.size;return new Blob([t]).size}(e);return"POST"===t&&n<a}function c(t,e,n){var a,s=n.keepalive,c=void 0!==s&&s,u=n.timeout,l=void 0===u?r.HTTP_REQUEST_TIMEOUT:u,f=n.payload,d=n.headers,p=n.sendCredentials,h={};if("function"==typeof AbortController){var v=new AbortController;h.signal=v.signal,setTimeout((function(){return v.abort()}),l)}return window.fetch(e,i({body:f,headers:d,method:t,keepalive:c,credentials:p?"include":"omit"},h)).then((function(t){return(a=t).text()})).then((function(t){var n={url:e,status:a.status,responseText:t};if(!(0,o.isResponseSuccessful)(a.status))throw n;return n}))}function u(){return"function"==typeof window.fetch&&"function"==typeof window.Request}},(t,e,n)=>{"use strict";function r(t){return!(0===t||t>399&&t<600)}n.r(e),n.d(e,{isResponseSuccessful:()=>r})},(t,e,n)=>{"use strict";n.r(e),n.d(e,{patchHistory:()=>o});var r=n(9);function o(t){if(window.history){var e=history.pushState;"function"==typeof e&&(history.pushState=function(n,o,i){var a={source:r.HISTORY,data:{state:n,title:o,url:i}};t(r.INVOKE,a),e.apply(this,arguments)})}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{APM_SERVER:()=>l.APM_SERVER,CLICK:()=>l.CLICK,CONFIG_SERVICE:()=>l.CONFIG_SERVICE,ERROR:()=>l.ERROR,ERROR_LOGGING:()=>l.ERROR_LOGGING,EVENT_TARGET:()=>l.EVENT_TARGET,LOGGING_SERVICE:()=>l.LOGGING_SERVICE,PAGE_LOAD:()=>l.PAGE_LOAD,PAGE_LOAD_DELAY:()=>l.PAGE_LOAD_DELAY,PERFORMANCE_MONITORING:()=>l.PERFORMANCE_MONITORING,ServiceFactory:()=>i.ServiceFactory,TRANSACTION_SERVICE:()=>l.TRANSACTION_SERVICE,afterFrame:()=>d.default,bootstrap:()=>p.bootstrap,createServiceFactory:()=>v,createTracer:()=>h.createTracer,getInstrumentationFlags:()=>f.getInstrumentationFlags,isBrowser:()=>a.isBrowser,isPlatformSupported:()=>a.isPlatformSupported,observePageClicks:()=>u.observePageClicks,observePageVisibility:()=>c.observePageVisibility,patchAll:()=>s.patchAll,patchEventHandler:()=>s.patchEventHandler,scheduleMacroTask:()=>a.scheduleMacroTask,scheduleMicroTask:()=>a.scheduleMicroTask});var r=n(56),o=n(30),i=n(31),a=n(13),s=n(21),c=n(11),u=n(19),l=n(9),f=n(10),d=n(71),p=n(20),h=n(61);function v(){return(0,o.registerServices)(),(0,r.registerServices)(),new i.ServiceFactory}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{registerServices:()=>s});var r=n(55),o=n(42),i=n(9),a=n(31);function s(){a.serviceCreators[i.TRANSACTION_SERVICE]=function(t){var e=t.getService([i.LOGGING_SERVICE,i.CONFIG_SERVICE]),n=e[0],r=e[1];return new o.default(n,r)},a.serviceCreators[i.PERFORMANCE_MONITORING]=function(t){var e=t.getService([i.APM_SERVER,i.CONFIG_SERVICE,i.LOGGING_SERVICE,i.TRANSACTION_SERVICE]),n=e[0],o=e[1],a=e[2],s=e[3];return new r.default(n,o,a,s)}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{ServiceFactory:()=>l,serviceCreators:()=>u});var r,o=n(34),i=n(32),a=n(33),s=n(9),c=n(12),u=((r={})[s.CONFIG_SERVICE]=function(){return new i.default},r[s.LOGGING_SERVICE]=function(){return new a.default({prefix:"[Elastic APM] "})},r[s.APM_SERVER]=function(t){var e=t.getService([s.CONFIG_SERVICE,s.LOGGING_SERVICE]),n=e[0],r=e[1];return new o.default(n,r)},r),l=function(){function t(){this.instances={},this.initialized=!1}var e=t.prototype;return e.init=function(){if(!this.initialized){this.initialized=!0;var t=this.getService(s.CONFIG_SERVICE);t.init();var e=this.getService([s.LOGGING_SERVICE,s.APM_SERVER]),n=e[0],r=e[1];t.events.observe(s.CONFIG_CHANGE,(function(){var e=t.get("logLevel");n.setLevel(e)})),r.init()}},e.getService=function(t){var e=this;return"string"==typeof t?(this.instances[t]||("function"==typeof u[t]?this.instances[t]=u[t](this):c.__DEV__&&console.log("Cannot get service, No creator for: "+t)),this.instances[t]):Array.isArray(t)?t.map((function(t){return e.getService(t)})):void 0},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(13),o=n(22),i=n(9);function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}const s=function(){function t(){this.config={serviceName:"",serviceVersion:"",environment:"",serverUrl:"http://localhost:8200",serverUrlPrefix:"",active:!0,instrument:!0,disableInstrumentations:[],logLevel:"warn",breakdownMetrics:!1,ignoreTransactions:[],eventsLimit:80,queueLimit:-1,flushInterval:500,distributedTracing:!0,distributedTracingOrigins:[],distributedTracingHeaderName:"traceparent",pageLoadTraceId:"",pageLoadSpanId:"",pageLoadSampled:!1,pageLoadTransactionName:"",propagateTracestate:!1,transactionSampleRate:1,centralConfig:!1,monitorLongtasks:!0,apiVersion:2,context:{},session:!1,apmRequest:null,sendCredentials:!1},this.events=new o.default,this.filters=[],this.version=""}var e=t.prototype;return e.init=function(){var t=function(t){if(!t)return{};for(var e={},n=/^data-([\w-]+)$/,r=t.attributes,o=0;o<r.length;o++){var i=r[o];n.test(i.nodeName)&&(e[i.nodeName.match(n)[1].split("-").map((function(t,e){return e>0?t.charAt(0).toUpperCase()+t.substring(1):t})).join("")]=i.value||i.nodeValue)}return e}((0,r.getCurrentScript)());this.setConfig(t)},e.setVersion=function(t){this.version=t},e.addFilter=function(t){if("function"!=typeof t)throw new Error("Argument to must be function");this.filters.push(t)},e.applyFilters=function(t){for(var e=0;e<this.filters.length;e++)if(!(t=this.filters[e](t)))return;return t},e.get=function(t){return t.split(".").reduce((function(t,e){return t&&t[e]}),this.config)},e.setUserContext=function(t){void 0===t&&(t={});var e={},n=t,o=n.id,i=n.username,a=n.email;"number"!=typeof o&&"string"!=typeof o||(e.id=o),"string"==typeof i&&(e.username=i),"string"==typeof a&&(e.email=a),this.config.context.user=(0,r.extend)(this.config.context.user||{},e)},e.setCustomContext=function(t){void 0===t&&(t={}),this.config.context.custom=(0,r.extend)(this.config.context.custom||{},t)},e.addLabels=function(t){var e=this;this.config.context.tags||(this.config.context.tags={}),Object.keys(t).forEach((function(n){return(0,r.setLabel)(n,t[n],e.config.context.tags)}))},e.setConfig=function(t){void 0===t&&(t={});var e=t,n=e.transactionSampleRate,o=e.serverUrl;o&&(t.serverUrl=o.replace(/\/+$/,"")),(0,r.isUndefined)(n)||(n<1e-4&&n>0&&(n=1e-4),t.transactionSampleRate=Math.round(1e4*n)/1e4),(0,r.merge)(this.config,t),this.events.send(i.CONFIG_CHANGE,[this.config])},e.validate=function(t){void 0===t&&(t={});var e=["serviceName","serverUrl"],n=Object.keys(this.config),r={missing:[],invalid:[],unknown:[]};Object.keys(t).forEach((function(o){-1===e.indexOf(o)||t[o]||r.missing.push(o),-1===n.indexOf(o)&&r.unknown.push(o)})),t.serviceName&&!/^[a-zA-Z0-9 _-]+$/.test(t.serviceName)&&r.invalid.push({key:"serviceName",value:t.serviceName,allowed:"a-z, A-Z, 0-9, _, -, <space>"});var o=t.transactionSampleRate;return void 0!==o&&("number"!=typeof o||isNaN(o)||o<0||o>1)&&r.invalid.push({key:"transactionSampleRate",value:o,allowed:"Number between 0 and 1"}),r},e.getLocalConfig=function(){var t=sessionStorage;this.config.session&&(t=localStorage);var e=t.getItem(i.LOCAL_CONFIG_KEY);if(e)return JSON.parse(e)},e.setLocalConfig=function(t,e){if(t){if(e)t=a({},this.getLocalConfig(),t);var n=sessionStorage;this.config.session&&(n=localStorage),n.setItem(i.LOCAL_CONFIG_KEY,JSON.stringify(t))}},e.dispatchEvent=function(t,e){this.events.send(t,e)},e.observeEvent=function(t,e){return this.events.observe(t,e)},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(13);const o=function(){function t(t){void 0===t&&(t={}),this.levels=["trace","debug","info","warn","error"],this.level=t.level||"warn",this.prefix=t.prefix||"",this.resetLogMethods()}var e=t.prototype;return e.shouldLog=function(t){return this.levels.indexOf(t)>=this.levels.indexOf(this.level)},e.setLevel=function(t){t!==this.level&&(this.level=t,this.resetLogMethods())},e.resetLogMethods=function(){var t=this;this.levels.forEach((function(e){t[e]=t.shouldLog(e)?function(){var t=e;"trace"!==e&&"debug"!==e||(t="info");var n=arguments;if(n[0]=this.prefix+n[0],console){var r=console[t]||console.log;"function"==typeof r&&r.apply(console,n)}}:r.noop}))},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var r=n(35),o=n(36),i=n(41),a=n(40),s=n(9),c=n(13),u=n(14),l=n(37),f=n(12),d=n(26),p=n(39);const h=function(){function t(t,e){this._configService=t,this._loggingService=e,this.queue=void 0,this.throttleEvents=c.noop}var e=t.prototype;return e.init=function(){var t=this,e=this._configService.get("queueLimit"),n=this._configService.get("flushInterval"),i=this._configService.get("eventsLimit");this.queue=new r.default((function(e){var n=t.sendEvents(e);n&&n.catch((function(e){t._loggingService.warn("Failed sending events!",t._constructError(e))}))}),{queueLimit:e,flushInterval:n}),this.throttleEvents=(0,o.default)(this.queue.add.bind(this.queue),(function(){return t._loggingService.warn("Dropped events due to throttling!")}),{limit:i,interval:6e4}),this._configService.observeEvent(s.QUEUE_FLUSH,(function(){t.queue.flush()}))},e._postJson=function(t,e){var n=this,r={payload:e,headers:{"Content-Type":"application/x-ndjson"},beforeSend:this._configService.get("apmRequest")};return(0,l.compressPayload)(r).catch((function(t){return f.__DEV__&&n._loggingService.debug("Compressing the payload using CompressionStream API failed",t.message),r})).then((function(e){return n._makeHttpRequest("POST",t,e)})).then((function(t){return t.responseText}))},e._constructError=function(t){var e=t.url,n=t.status,r=t.responseText;if(void 0===n)return t;var o=e+" HTTP status: "+n;if(f.__DEV__&&r)try{var i=[],a=JSON.parse(r);a.errors&&a.errors.length>0&&(a.errors.forEach((function(t){return i.push(t.message)})),o+=" "+i.join(","))}catch(t){this._loggingService.debug("Error parsing response from APM server",t)}return new Error(o)},e._makeHttpRequest=function(t,e,n){var r=void 0===n?{}:n,o=r.timeout,i=void 0===o?s.HTTP_REQUEST_TIMEOUT:o,a=r.payload,c=r.headers,u=r.beforeSend,l=this._configService.get("sendCredentials");return!u&&(0,d.shouldUseFetchWithKeepAlive)(t,a)?(0,d.sendFetchRequest)(t,e,{keepalive:!0,timeout:i,payload:a,headers:c,sendCredentials:l}).catch((function(n){if(n instanceof TypeError)return(0,p.sendXHR)(t,e,{timeout:i,payload:a,headers:c,beforeSend:u,sendCredentials:l});throw n})):(0,p.sendXHR)(t,e,{timeout:i,payload:a,headers:c,beforeSend:u,sendCredentials:l})},e.fetchConfig=function(t,e){var n=this,r=this.getEndpoints().configEndpoint;if(!t)return u.Promise.reject("serviceName is required for fetching central config.");r+="?service.name="+t,e&&(r+="&service.environment="+e);var o=this._configService.getLocalConfig();o&&(r+="&ifnonematch="+o.etag);var i=this._configService.get("apmRequest");return this._makeHttpRequest("GET",r,{timeout:5e3,beforeSend:i}).then((function(t){var e=t.status,r=t.responseText;if(304===e)return o;var i=JSON.parse(r),a=t.getResponseHeader("etag");return a&&(i.etag=a.replace(/["]/g,""),n._configService.setLocalConfig(i,!0)),i})).catch((function(t){var e=n._constructError(t);return u.Promise.reject(e)}))},e.createMetaData=function(){var t=this._configService,e={service:{name:t.get("serviceName"),version:t.get("serviceVersion"),agent:{name:"rum-js",version:t.version},language:{name:"javascript"},environment:t.get("environment")},labels:t.get("context.tags")};return(0,a.truncateModel)(a.METADATA_MODEL,e)},e.addError=function(t){var e;this.throttleEvents(((e={})[s.ERRORS]=t,e))},e.addTransaction=function(t){var e;this.throttleEvents(((e={})[s.TRANSACTIONS]=t,e))},e.ndjsonErrors=function(t,e){var n=e?"e":"error";return t.map((function(t){var r;return i.default.stringify(((r={})[n]=e?(0,l.compressError)(t):t,r))}))},e.ndjsonMetricsets=function(t){return t.map((function(t){return i.default.stringify({metricset:t})})).join("")},e.ndjsonTransactions=function(t,e){var n=this,r=e?"x":"transaction";return t.map((function(t){var o,a="",s="";return e||(t.spans&&(a=t.spans.map((function(t){return i.default.stringify({span:t})})).join(""),delete t.spans),t.breakdown&&(s=n.ndjsonMetricsets(t.breakdown),delete t.breakdown)),i.default.stringify(((o={})[r]=e?(0,l.compressTransaction)(t):t,o))+a+s}))},e.sendEvents=function(t){var e,n;if(0!==t.length){for(var r=[],o=[],a=0;a<t.length;a++){var c=t[a];c[s.TRANSACTIONS]&&r.push(c[s.TRANSACTIONS]),c[s.ERRORS]&&o.push(c[s.ERRORS])}if(0!==r.length||0!==o.length){var u=this._configService,f=((e={})[s.TRANSACTIONS]=r,e[s.ERRORS]=o,e),d=u.applyFilters(f);if(d){var p=u.get("apiVersion")>2,h=[],v=this.createMetaData(),m=p?"m":"metadata";h.push(i.default.stringify(((n={})[m]=p?(0,l.compressMetadata)(v):v,n)));var g=(h=h.concat(this.ndjsonErrors(d[s.ERRORS],p),this.ndjsonTransactions(d[s.TRANSACTIONS],p))).join(""),y=this.getEndpoints().intakeEndpoint;return this._postJson(y,g)}this._loggingService.warn("Dropped payload due to filtering!")}}},e.getEndpoints=function(){var t=this._configService.get("serverUrl"),e=this._configService.get("apiVersion");return{intakeEndpoint:t+(this._configService.get("serverUrlPrefix")||"/intake/v"+e+"/rum/events"),configEndpoint:t+"/config/v1/rum/agents"}},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r=function(){function t(t,e){void 0===e&&(e={}),this.onFlush=t,this.items=[],this.queueLimit=e.queueLimit||-1,this.flushInterval=e.flushInterval||0,this.timeoutId=void 0}var e=t.prototype;return e._setTimer=function(){var t=this;this.timeoutId=setTimeout((function(){return t.flush()}),this.flushInterval)},e._clear=function(){void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.items=[]},e.flush=function(){this.onFlush(this.items),this._clear()},e.add=function(t){this.items.push(t),-1!==this.queueLimit&&this.items.length>=this.queueLimit?this.flush():void 0===this.timeoutId&&this._setTimer()},t}()},(t,e,n)=>{"use strict";function r(t,e,n){var r,o=this,i=n.limit,a=n.interval,s=0;return function(){return s++,void 0===r&&(r=setTimeout((function(){s=0,r=void 0}),a)),s>i&&"function"==typeof e?e.apply(o,arguments):t.apply(o,arguments)}}n.r(e),n.d(e,{default:()=>r})},(t,e,n)=>{"use strict";n.r(e),n.d(e,{compressError:()=>d,compressMetadata:()=>l,compressMetricsets:()=>p,compressPayload:()=>h,compressTransaction:()=>f});var r=n(14),o=n(38),i=n(13);function a(t){return{ts:t.transfer_size,ebs:t.encoded_body_size,dbs:t.decoded_body_size}}function s(t){if(!t)return null;var e={},n=t.page,r=t.http,o=t.response,i=t.destination,s=t.user,c=t.custom;if(n&&(e.p={rf:n.referer,url:n.url}),r&&(e.h=function(t){var e={},n=t.method,r=t.status_code,o=t.url,i=t.response;return e.url=o,n&&(e.mt=n),r&&(e.sc=r),i&&(e.r=a(i)),e}(r)),o&&(e.r=a(o)),i){var u=i.service;e.dt={se:{n:u.name,t:u.type,rc:u.resource},ad:i.address,po:i.port}}return s&&(e.u={id:s.id,un:s.username,em:s.email}),c&&(e.cu=c),e}function c(t){if(!t)return null;var e=function(t){if(!t)return null;var e={};return o.COMPRESSED_NAV_TIMING_MARKS.forEach((function(n,r){var i=o.NAVIGATION_TIMING_MARKS[r];e[n]=t[i]})),e}(t.navigationTiming);return{nt:e,a:u(e,t.agent)}}function u(t,e){var n={};if(t&&(n={fb:t.rs,di:t.di,dc:t.dc}),e){var r=e.firstContentfulPaint,o=e.largestContentfulPaint;r&&(n.fp=r),o&&(n.lp=o)}return 0===Object.keys(n).length?null:n}function l(t){var e=t.service,n=t.labels,r=e.agent,o=e.language;return{se:{n:e.name,ve:e.version,a:{n:r.name,ve:r.version},la:{n:o.name},en:e.environment},l:n}}function f(t){var e=t.spans.map((function(e){var n={id:e.id,n:e.name,t:e.type,s:e.start,d:e.duration,c:s(e.context),o:e.outcome,sr:e.sample_rate};return e.parent_id!==t.id&&(n.pid=e.parent_id),!0===e.sync&&(n.sy=!0),e.subtype&&(n.su=e.subtype),e.action&&(n.ac=e.action),n})),n={id:t.id,tid:t.trace_id,n:t.name,t:t.type,d:t.duration,c:s(t.context),k:c(t.marks),me:p(t.breakdown),y:e,yc:{sd:e.length},sm:t.sampled,sr:t.sample_rate,o:t.outcome};if(t.experience){var r=t.experience,o=r.cls,i=r.fid,a=r.tbt,u=r.longtask;n.exp={cls:o,fid:i,tbt:a,lt:u}}if(t.session){var l=t.session,f=l.id,d=l.sequence;n.ses={id:f,seq:d}}return n}function d(t){var e,n=t.exception,r={id:t.id,cl:t.culprit,ex:{mg:n.message,st:(e=n.stacktrace,e.map((function(t){return{ap:t.abs_path,f:t.filename,fn:t.function,li:t.lineno,co:t.colno}}))),t:t.type},c:s(t.context)},o=t.transaction;return o&&(r.tid=t.trace_id,r.pid=t.parent_id,r.xid=t.transaction_id,r.x={t:o.type,sm:o.sampled}),r}function p(t){return t.map((function(t){var e=t.span,n=t.samples;return{y:{t:e.type},sa:{ysc:{v:n["span.self_time.count"].value},yss:{v:n["span.self_time.sum.us"].value}}}}))}function h(t,e){void 0===e&&(e="gzip");var n="function"==typeof CompressionStream;return new r.Promise((function(r){if(!n)return r(t);if((0,i.isBeaconInspectionEnabled)())return r(t);var o=t.payload,a=t.headers,s=t.beforeSend,c=new Blob([o]).stream().pipeThrough(new CompressionStream(e));return new Response(c).blob().then((function(t){return a["Content-Encoding"]=e,r({payload:t,headers:a,beforeSend:s})}))}))}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{COMPRESSED_NAV_TIMING_MARKS:()=>i,NAVIGATION_TIMING_MARKS:()=>o,getPageLoadMarks:()=>a});var r=n(13),o=["fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],i=["fs","ls","le","cs","ce","qs","rs","re","dl","di","ds","de","dc","es","ee"];function a(t){var e=function(t){var e=t.redirectStart,n=t.fetchStart,i=t.navigationStart,a=t.responseStart,s=t.responseEnd;if(n>=i&&a>=n&&s>=a){var c={};return o.forEach((function(o){var i=t[o];i&&i>=n&&((0,r.isRedirectInfoAvailable)(t)?c[o]=parseInt(i-e):c[o]=parseInt(i-n))})),c}return null}(t);return null==e?null:{navigationTiming:e,agent:{timeToFirstByte:e.responseStart,domInteractive:e.domInteractive,domComplete:e.domComplete}}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{sendXHR:()=>a});var r=n(24),o=n(27),i=n(14);function a(t,e,n){var a=n.timeout,s=void 0===a?HTTP_REQUEST_TIMEOUT:a,c=n.payload,u=n.headers,l=n.beforeSend,f=n.sendCredentials;return new i.Promise((function(n,i){var a=new window.XMLHttpRequest;if(a[r.XHR_IGNORE]=!0,a.open(t,e,!0),a.timeout=s,a.withCredentials=f,u)for(var d in u)u.hasOwnProperty(d)&&a.setRequestHeader(d,u[d]);a.onreadystatechange=function(){if(4===a.readyState){var t=a.status,r=a.responseText;(0,o.isResponseSuccessful)(t)?n(a):i({url:e,status:t,responseText:r})}},a.onerror=function(){var t=a.status,n=a.responseText;i({url:e,status:t,responseText:n})};var p=!0;"function"==typeof l&&(p=l({url:e,method:t,headers:u,payload:c,xhr:a})),p?a.send(c):i({url:e,status:0,responseText:"Request rejected by user configuration."})}))}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{ERROR_MODEL:()=>l,METADATA_MODEL:()=>o,RESPONSE_MODEL:()=>i,SPAN_MODEL:()=>c,TRANSACTION_MODEL:()=>u,truncate:()=>f,truncateModel:()=>h});var r=n(9),o={service:{name:[r.KEYWORD_LIMIT,!0],version:!0,agent:{version:[r.KEYWORD_LIMIT,!0]},environment:!0},labels:{"*":!0}},i={"*":!0,headers:{"*":!0}},a={address:[r.KEYWORD_LIMIT],service:{"*":[r.KEYWORD_LIMIT,!0]}},s={user:{id:!0,email:!0,username:!0},tags:{"*":!0},http:{response:i},destination:a,response:i},c={name:[r.KEYWORD_LIMIT,!0],type:[r.KEYWORD_LIMIT,!0],id:[r.KEYWORD_LIMIT,!0],trace_id:[r.KEYWORD_LIMIT,!0],parent_id:[r.KEYWORD_LIMIT,!0],transaction_id:[r.KEYWORD_LIMIT,!0],subtype:!0,action:!0,context:s},u={name:!0,parent_id:!0,type:[r.KEYWORD_LIMIT,!0],id:[r.KEYWORD_LIMIT,!0],trace_id:[r.KEYWORD_LIMIT,!0],span_count:{started:[r.KEYWORD_LIMIT,!0]},context:s},l={id:[r.KEYWORD_LIMIT,!0],trace_id:!0,transaction_id:!0,parent_id:!0,culprit:!0,exception:{type:!0},transaction:{type:!0},context:s};function f(t,e,n,o){return void 0===e&&(e=r.KEYWORD_LIMIT),void 0===n&&(n=!1),void 0===o&&(o="N/A"),n&&d(t)&&(t=o),"string"==typeof t?t.substring(0,e):t}function d(t){return null==t||""===t||void 0===t}function p(t,e,n){var r=f(t[e],n[0],n[1]);d(r)?delete t[e]:t[e]=r}function h(t,e,n){void 0===t&&(t={}),void 0===n&&(n=e);for(var r=Object.keys(t),o=[],i=function(i){var a=r[i],s=!0===t[a]?o:t[a];Array.isArray(s)?"*"===a?Object.keys(n).forEach((function(t){return p(n,t,s)})):p(n,a,s):h(s,e,n[a])},a=0;a<r.length;a++)i(a);return e}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r=function(){function t(){}return t.stringify=function(t){return JSON.stringify(t)+"\n"},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(14),o=n(48),i=n(43),a=n(13),s=n(50),c=n(9),u=n(45),l=n(12),f=n(46);const d=function(){function t(t,e){var n=this;this._config=e,this._logger=t,this.currentTransaction=void 0,this.respIntervalId=void 0,this.recorder=new i.PerfEntryRecorder((function(t){var e=n.getCurrentTransaction();if(e&&e.captureTimings){var r,o=e.type===c.PAGE_LOAD,a=(0,i.captureObserverEntries)(t,{isHardNavigation:o,trStart:o?0:e._start}),s=a.spans,u=a.marks;(r=e.spans).push.apply(r,s),e.addMarks({agent:u})}}))}var e=t.prototype;return e.createCurrentTransaction=function(t,e,n){var r=new o.default(t,e,n);return this.currentTransaction=r,r},e.getCurrentTransaction=function(){if(this.currentTransaction&&!this.currentTransaction.ended)return this.currentTransaction},e.createOptions=function(t){var e=this._config.config,n={transactionSampleRate:e.transactionSampleRate},r=(0,a.extend)(n,t);return r.managed&&(r=(0,a.extend)({pageLoadTraceId:e.pageLoadTraceId,pageLoadSampled:e.pageLoadSampled,pageLoadSpanId:e.pageLoadSpanId,pageLoadTransactionName:e.pageLoadTransactionName},r)),r},e.startManagedTransaction=function(t,e,n){var r=this.getCurrentTransaction(),o=!1;if(r)if(r.canReuse()&&n.canReuse){var i=r.type,a=c.TRANSACTION_TYPE_ORDER.indexOf(r.type),s=c.TRANSACTION_TYPE_ORDER.indexOf(e);a>=0&&s<a&&(i=e),l.__DEV__&&this._logger.debug("redefining transaction("+r.id+", "+r.name+", "+r.type+")","to","("+(t||r.name)+", "+i+")",r),r.redefine(t,i,n),o=!0}else l.__DEV__&&this._logger.debug("ending previous transaction("+r.id+", "+r.name+")",r),r.end(),r=this.createCurrentTransaction(t,e,n);else r=this.createCurrentTransaction(t,e,n);return r.type===c.PAGE_LOAD&&(o||(this.recorder.start(c.LARGEST_CONTENTFUL_PAINT),this.recorder.start(c.PAINT),this.recorder.start(c.FIRST_INPUT),this.recorder.start(c.LAYOUT_SHIFT)),n.pageLoadTraceId&&(r.traceId=n.pageLoadTraceId),n.pageLoadSampled&&(r.sampled=n.pageLoadSampled),r.name===c.NAME_UNKNOWN&&n.pageLoadTransactionName&&(r.name=n.pageLoadTransactionName)),!o&&this._config.get("monitorLongtasks")&&this.recorder.start(c.LONG_TASK),r.sampled&&(r.captureTimings=!0),r},e.startTransaction=function(t,e,n){var r,i=this,a=this.createOptions(n),s=!0;a.managed?this.currentTransaction===(r=this.startManagedTransaction(t,e,a))&&(s=!1):r=new o.default(t,e,a);return r.onEnd=function(){return i.handleTransactionEnd(r)},s&&(l.__DEV__&&this._logger.debug("startTransaction("+r.id+", "+r.name+", "+r.type+")"),this._config.events.send(c.TRANSACTION_START,[r])),r},e.handleTransactionEnd=function(t){var e=this;this.recorder.stop();var n=window.location.href;return r.Promise.resolve().then((function(){var r=t.name,o=t.type;if(l.state.lastHiddenStart>=t._start)l.__DEV__&&e._logger.debug("transaction("+t.id+", "+r+", "+o+") was discarded! The page was hidden during the transaction!");else if(e.shouldIgnoreTransaction(r)||o===c.TEMPORARY_TYPE)l.__DEV__&&e._logger.debug("transaction("+t.id+", "+r+", "+o+") is ignored");else{if(o===c.PAGE_LOAD){var d=e._config.get("pageLoadTransactionName");if(r===c.NAME_UNKNOWN&&d&&(t.name=d),t.captureTimings){var p=i.metrics.cls,h=i.metrics.fid,v=i.metrics.tbt,m=i.metrics.longtask;v.duration>0&&t.spans.push((0,i.createTotalBlockingTimeSpan)(v)),t.experience={},(0,a.isPerfTypeSupported)(c.LONG_TASK)&&(t.experience.tbt=v.duration),(0,a.isPerfTypeSupported)(c.LAYOUT_SHIFT)&&(t.experience.cls=p.score),h>0&&(t.experience.fid=h),m.count>0&&(t.experience.longtask={count:m.count,sum:m.duration,max:m.max})}e.setSession(t)}t.name===c.NAME_UNKNOWN&&(t.name=(0,f.slugifyUrl)(n)),(0,s.captureNavigation)(t),e.adjustTransactionTime(t),e._config.get("breakdownMetrics")&&t.captureBreakdown();var g=e._config.get("context");(0,u.addTransactionContext)(t,g),e._config.events.send(c.TRANSACTION_END,[t]),l.__DEV__&&e._logger.debug("end transaction("+t.id+", "+t.name+", "+t.type+")",t)}}),(function(n){l.__DEV__&&e._logger.debug("error ending transaction("+t.id+", "+t.name+")",n)}))},e.setSession=function(t){var e=this._config.get("session");if(e){"boolean"==typeof e||e.timestamp&&Date.now()-e.timestamp>c.SESSION_TIMEOUT?t.session={id:(0,a.generateRandomId)(16),sequence:1}:t.session={id:e.id,sequence:e.sequence?e.sequence+1:1};var n={session:{id:t.session.id,sequence:t.session.sequence,timestamp:Date.now()}};this._config.setConfig(n),this._config.setLocalConfig(n,!0)}},e.adjustTransactionTime=function(t){var e=t.spans,n=(0,a.getEarliestSpan)(e);n&&n._start<t._start&&(t._start=n._start);var r=((0,a.getLatestNonXHRSpan)(e)||{})._end||0;if(t.type===c.PAGE_LOAD){var o=t._end-c.PAGE_LOAD_DELAY,s=i.metrics.lcp||0,u=((0,a.getLatestXHRSpan)(e)||{})._end||0;t._end=Math.max(r,u,s,o)}else r>t._end&&(t._end=r);this.truncateSpans(e,t._end)},e.truncateSpans=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];r._end>e&&(r._end=e,r.type+=c.TRUNCATED_TYPE),r._start>e&&(r._start=e)}},e.shouldIgnoreTransaction=function(t){var e=this._config.get("ignoreTransactions");if(e&&e.length)for(var n=0;n<e.length;n++){var r=e[n];if("function"==typeof r.test){if(r.test(t))return!0}else if(r===t)return!0}return!1},e.startSpan=function(t,e,n){var r=this.getCurrentTransaction();r||(r=this.createCurrentTransaction(void 0,c.TEMPORARY_TYPE,this.createOptions({canReuse:!0,managed:!0})));var o=r.startSpan(t,e,n);return l.__DEV__&&this._logger.debug("startSpan("+t+", "+o.type+")","on transaction("+r.id+", "+r.name+")"),o},e.endSpan=function(t,e){if(t){if(l.__DEV__){var n=this.getCurrentTransaction();n&&this._logger.debug("endSpan("+t.name+", "+t.type+")","on transaction("+n.id+", "+n.name+")")}t.end(null,e)}},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{PerfEntryRecorder:()=>h,calculateCumulativeLayoutShift:()=>d,calculateTotalBlockingTime:()=>f,captureObserverEntries:()=>p,createFirstInputDelaySpan:()=>u,createLongTaskSpans:()=>c,createTotalBlockingTimeSpan:()=>l,metrics:()=>a});var r=n(9),o=n(13),i=n(44),a={fid:0,fcp:0,tbt:{start:1/0,duration:0},cls:{score:0,firstEntryTime:Number.NEGATIVE_INFINITY,prevEntryTime:Number.NEGATIVE_INFINITY,currentSessionScore:0},longtask:{count:0,duration:0,max:0}},s=50;function c(t,e){for(var n=[],o=0;o<t.length;o++){var a=t[o],s=a.name,c=a.startTime,u=a.duration,l=a.attribution,f=c+u,d=new i.default("Longtask("+s+")",r.LONG_TASK,{startTime:c});if(e.count++,e.duration+=u,e.max=Math.max(u,e.max),l.length>0){var p=l[0],h=p.name,v=p.containerType,m=p.containerName,g=p.containerId,y={attribution:h,type:v};m&&(y.name=m),g&&(y.id=g),d.addContext({custom:y})}d.end(f),n.push(d)}return n}function u(t){var e=t[0];if(e){var n=e.startTime,o=e.processingStart,a=new i.default("First Input Delay",r.FIRST_INPUT,{startTime:n});return a.end(o),a}}function l(t){var e=t.start,n=t.duration,o=new i.default("Total Blocking Time",r.LONG_TASK,{startTime:e});return o.end(e+n),o}function f(t){t.forEach((function(t){var e=t.name,n=t.startTime,r=t.duration;if(!(n<a.fcp||"self"!==e&&-1===e.indexOf("same-origin"))){a.tbt.start=Math.min(a.tbt.start,n);var o=r-s;o>0&&(a.tbt.duration+=o)}}))}function d(t){t.forEach((function(t){!t.hadRecentInput&&t.value&&((t.startTime-a.cls.firstEntryTime>5e3||t.startTime-a.cls.prevEntryTime>1e3)&&(a.cls.firstEntryTime=t.startTime,a.cls.currentSessionScore=0),a.cls.prevEntryTime=t.startTime,a.cls.currentSessionScore+=t.value,a.cls.score=Math.max(a.cls.score,a.cls.currentSessionScore))}))}function p(t,e){var n=e.isHardNavigation,i=e.trStart,s=t.getEntriesByType(r.LONG_TASK).filter((function(t){return t.startTime>=i})),l={spans:c(s,a.longtask),marks:{}};if(!n)return l;var p=t.getEntriesByType(r.LARGEST_CONTENTFUL_PAINT),h=p[p.length-1];if(h){var v=parseInt(h.startTime);a.lcp=v,l.marks.largestContentfulPaint=v}var m=o.PERF.timing,g=m.fetchStart-m.navigationStart;(0,o.isRedirectInfoAvailable)(m)&&(g=0);var y=t.getEntriesByName(r.FIRST_CONTENTFUL_PAINT)[0];if(y){var b=parseInt(g>=0?y.startTime-g:y.startTime);a.fcp=b,l.marks.firstContentfulPaint=b}var w=u(t.getEntriesByType(r.FIRST_INPUT));return w&&(a.fid=w.duration(),l.spans.push(w)),f(s),d(t.getEntriesByType(r.LAYOUT_SHIFT)),l}var h=function(){function t(t){this.po={observe:o.noop,disconnect:o.noop},window.PerformanceObserver&&(this.po=new PerformanceObserver(t))}var e=t.prototype;return e.start=function(t){try{if(!(0,o.isPerfTypeSupported)(t))return;this.po.observe({type:t,buffered:!0})}catch(t){}},e.stop=function(){this.po.disconnect()},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=n(47),o=n(45);function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}const a=function(t){var e,n;function r(e,n,r){var o;if((o=t.call(this,e,n,r)||this).parentId=o.options.parentId,o.subtype=void 0,o.action=void 0,-1!==o.type.indexOf(".")){var i=o.type.split(".",3);o.type=i[0],o.subtype=i[1],o.action=i[2]}return o.sync=o.options.sync,o}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,i(e,n),r.prototype.end=function(e,n){t.prototype.end.call(this,e),(0,o.addSpanContext)(this,n)},r}(r.default)},(t,e,n)=>{"use strict";n.r(e),n.d(e,{addSpanContext:()=>v,addTransactionContext:()=>m,getPageContext:()=>h});var r=n(46),o=n(9),i=n(13),a=["tags"];var s=91,c=93,u="external",l="resource",f="hard-navigation";function d(t){var e=t.transferSize,n=t.encodedBodySize,r=t.decodedBodySize,o=t.serverTiming,a={transfer_size:e,encoded_body_size:n,decoded_body_size:r},s=(0,i.getServerTimingInfo)(o);return s&&(a.headers={"server-timing":s}),a}function p(t){var e=t.port,n=t.protocol,r=t.hostname,o=function(t,e){return""===t&&(t="http:"===e?"80":"https:"===e?"443":""),t}(e,n),i=r.charCodeAt(0)===s&&r.charCodeAt(r.length-1)===c,a=r;return i&&(a=r.slice(1,-1)),{service:{resource:r+":"+o,name:"",type:""},address:a,port:Number(o)}}function h(){return{page:{referer:document.referrer,url:location.href}}}function v(t,e){if(e){var n;switch(t.type){case u:n=function(t){var e,n=t.url,o=t.method,i=t.target,a=t.response,s=new r.Url(n),c=p(s),u={http:{method:o,url:s.href},destination:c};return i&&void 0!==i.status?e=i.status:a&&(e=a.status),u.http.status_code=e,u}(e);break;case l:n=function(t){var e=t.entry,n=t.url,o=p(new r.Url(n));return{http:{url:n,response:d(e)},destination:o}}(e);break;case f:n=function(t){var e=t.url;return{destination:p(new r.Url(e))}}(e)}t.addContext(n)}}function m(t,e){var n=void 0===e?{}:e,r=(n.tags,function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(n,a)),s=h(),c={};if(t.type===o.PAGE_LOAD&&(0,i.isPerfTimelineSupported)()){var u=i.PERF.getEntriesByType(o.NAVIGATION);u&&u.length>0&&(c={response:d(u[0])})}t.addContext(s,c,r)}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{Url:()=>a,slugifyUrl:()=>s});var r=n(13);var o=[["#","hash"],["?","query"],["/","path"],["@","auth",1],[NaN,"host",void 0,1]],i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=function(){function t(t){var e,n=this.extractProtocol(t||""),r=n.protocol,i=n.address,a=n.slashes,s=!r&&!a,c=this.getLocation(),u=o.slice();i=i.replace("\\","/"),a||(u[2]=[NaN,"path"]);for(var l=0;l<u.length;l++){var f=u[l],d=f[0],p=f[1];if("string"==typeof d){if(~(e=i.indexOf(d))){var h=f[2];if(h){var v=i.lastIndexOf(d);e=Math.max(e,v),this[p]=i.slice(0,e),i=i.slice(e+h)}else this[p]=i.slice(e),i=i.slice(0,e)}}else this[p]=i,i="";this[p]=this[p]||s&&f[3]&&c[p]||"",f[3]&&(this[p]=this[p].toLowerCase())}if(s&&"/"!==this.path.charAt(0)&&(this.path="/"+this.path),this.relative=s,this.protocol=r||c.protocol,this.hostname=this.host,this.port="",/:\d+$/.test(this.host)){var m=this.host.split(":"),g=m.pop(),y=m.join(":");!function(t,e){switch(e){case"http:":return"80"===t;case"https:":return"443"===t}return!0}(g,this.protocol)?this.port=g:this.host=y,this.hostname=y}this.origin=this.protocol&&this.host&&"file:"!==this.protocol?this.protocol+"//"+this.host:"null",this.href=this.toString()}var e=t.prototype;return e.toString=function(){var t=this.protocol;if(t+="//",this.auth){var e="[REDACTED]",n=this.auth.split(":");t+=(n[0]?e:"")+(n[1]?":"+e:"")+"@"}return t+=this.host,t+=this.path,t+=this.query,t+=this.hash},e.getLocation=function(){var t={};return r.isBrowser&&(t=window),t.location},e.extractProtocol=function(t){var e=i.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],address:e[3]}},t}();function s(t,e){void 0===e&&(e=2);for(var n=new a(t),r=n.query,o=n.path.substring(1).split("/"),i=":id",s=/\W|_/g,c=/[0-9]/g,u=/[a-z]/g,l=/[A-Z]/g,f=[],d=!1,p=0;p<o.length;p++){var h=o[p];if(d||p>e-1){h&&f.push("*");break}if((h.match(s)||[]).length>=2)f.push(i),d=!0;else{var v=(h.match(c)||[]).length;if(v>3||h.length>3&&v/h.length>=.3)f.push(i),d=!0;else{var m=(h.match(l)||[]).length,g=(h.match(u)||[]).length/h.length,y=m/h.length;h.length>5&&(y>.3&&y<.6||g>.3&&g<.6)?(f.push(i),d=!0):h&&f.push(h)}}}return"/"+(f.length>=2?f.join("/"):f.join(""))+(r?"?{query}":"")}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var r=n(13),o=n(9);const i=function(){function t(t,e,n){void 0===n&&(n={}),t||(t=o.NAME_UNKNOWN),e||(e=o.TYPE_CUSTOM),this.name=t,this.type=e,this.options=n,this.id=n.id||(0,r.generateRandomId)(16),this.traceId=n.traceId,this.sampled=n.sampled,this.sampleRate=n.sampleRate,this.timestamp=n.timestamp,this._start=(0,r.getTime)(n.startTime),this._end=void 0,this.ended=!1,this.outcome=void 0,this.onEnd=n.onEnd}var e=t.prototype;return e.ensureContext=function(){this.context||(this.context={})},e.addLabels=function(t){this.ensureContext();var e=this.context;e.tags||(e.tags={}),Object.keys(t).forEach((function(n){return(0,r.setLabel)(n,t[n],e.tags)}))},e.addContext=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];0!==e.length&&(this.ensureContext(),r.merge.apply(void 0,[this.context].concat(e)))},e.end=function(t){this.ended||(this.ended=!0,this._end=(0,r.getTime)(t),this.callOnEnd())},e.callOnEnd=function(){"function"==typeof this.onEnd&&this.onEnd(this)},e.duration=function(){return(0,r.getDuration)(this._start,this._end)},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(44),o=n(47),i=n(13),a=n(9),s=n(49);function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}const u=function(t){var e,n;function o(e,n,r){var o;return(o=t.call(this,e,n,r)||this).traceId=(0,i.generateRandomId)(),o.marks=void 0,o.spans=[],o._activeSpans={},o._activeTasks=new Set,o.blocked=!1,o.captureTimings=!1,o.breakdownTimings=[],o.sampleRate=o.options.transactionSampleRate,o.sampled=Math.random()<=o.sampleRate,o}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n);var u=o.prototype;return u.addMarks=function(t){this.marks=(0,i.merge)(this.marks||{},t)},u.mark=function(t){var e=(0,i.removeInvalidChars)(t),n=(0,i.now)()-this._start,r={};r[e]=n,this.addMarks({custom:r})},u.canReuse=function(){var t=this.options.reuseThreshold||a.REUSABILITY_THRESHOLD;return!!this.options.canReuse&&!this.ended&&(0,i.now)()-this._start<t},u.redefine=function(t,e,n){t&&(this.name=t),e&&(this.type=e),n&&(this.options.reuseThreshold=n.reuseThreshold,(0,i.extend)(this.options,n))},u.startSpan=function(t,e,n){var o=this;if(!this.ended){var a=(0,i.extend)({},n);a.onEnd=function(t){o._onSpanEnd(t)},a.traceId=this.traceId,a.sampled=this.sampled,a.sampleRate=this.sampleRate,a.parentId||(a.parentId=this.id);var s=new r.default(t,e,a);return this._activeSpans[s.id]=s,a.blocking&&this.addTask(s.id),s}},u.isFinished=function(){return!this.blocked&&0===this._activeTasks.size},u.detectFinish=function(){this.isFinished()&&this.end()},u.end=function(t){if(!this.ended){for(var e in this.ended=!0,this._end=(0,i.getTime)(t),this._activeSpans){var n=this._activeSpans[e];n.type=n.type+a.TRUNCATED_TYPE,n.end(t)}this.callOnEnd()}},u.captureBreakdown=function(){this.breakdownTimings=(0,s.captureBreakdown)(this)},u.block=function(t){this.blocked=t,this.blocked||this.detectFinish()},u.addTask=function(t){return t||(t="task-"+(0,i.generateRandomId)(16)),this._activeTasks.add(t),t},u.removeTask=function(t){this._activeTasks.delete(t)&&this.detectFinish()},u.resetFields=function(){this.spans=[],this.sampleRate=0},u._onSpanEnd=function(t){this.spans.push(t),delete this._activeSpans[t.id],this.removeTask(t.id)},u.isManaged=function(){return!!this.options.managed},o}(o.default)},(t,e,n)=>{"use strict";n.r(e),n.d(e,{captureBreakdown:()=>c});var r=n(13),o=n(9),i=[["domainLookupStart","domainLookupEnd","DNS"],["connectStart","connectEnd","TCP"],["requestStart","responseStart","Request"],["responseStart","responseEnd","Response"],["domLoading","domComplete","Processing"],["loadEventStart","loadEventEnd","Load"]];function a(t){return{value:t}}function s(t,e){var n=e.details,r=e.count,o=void 0===r?1:r,i=e.duration;return{transaction:t,span:n,samples:{"span.self_time.count":a(o),"span.self_time.sum.us":a(1e3*i)}}}function c(t,e){void 0===e&&(e=r.PERF.timing);var n=[],a=t.name,c=t.type,u=t.sampled,l={name:a,type:c};if(!u)return n;if(c===o.PAGE_LOAD&&e)for(var f=0;f<i.length;f++){var d=i[f],p=e[d[0]],h=e[d[1]],v=(0,r.getDuration)(p,h);0!==v&&null!=v&&n.push(s(l,{details:{type:d[2]},duration:v}))}else{var m=function(t){var e={},n=function(t){var e=t.spans,n=t._start,r=t._end;if(0===e.length)return t.duration();e.sort((function(t,e){return t._start-e._start}));for(var o=e[0],i=o._end,a=o._start,s=i,c=a-n,u=1;u<e.length;u++)a=(o=e[u])._start,i=o._end,a>s?(c+=a-s,s=i):i>s&&(s=i);return s<r&&(c+=r-s),c}(t);e.app={count:1,duration:n};for(var r=t.spans,i=0;i<r.length;i++){var a=r[i],s=a.duration();if(0!==s&&null!=s){var c=a.type,u=a.subtype,l=c.replace(o.TRUNCATED_TYPE,"");u&&(l+="."+u),e[l]||(e[l]={duration:0,count:0}),e[l].count++,e[l].duration+=s}}return e}(t);Object.keys(m).forEach((function(t){var e=t.split("."),r=e[0],o=e[1],i=m[t],a=i.duration,c=i.count;n.push(s(l,{details:{type:r,subtype:o},duration:a,count:c}))}))}return n}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{captureNavigation:()=>l,createNavigationTimingSpans:()=>a.createNavigationTimingSpans,createResourceTimingSpans:()=>c.createResourceTimingSpans,createUserTimingSpans:()=>s.createUserTimingSpans,getPageLoadMarks:()=>u.getPageLoadMarks});var r=n(13),o=n(9),i=n(12),a=n(51),s=n(54),c=n(53),u=n(38);function l(t){if(t.captureTimings){var e=t._end;if(t.type===o.PAGE_LOAD){if(t.marks&&t.marks.custom){var n=t.marks.custom;Object.keys(n).forEach((function(e){n[e]+=t._start}))}t._start=0;var l=r.PERF.timing,f=(0,r.isRedirectInfoAvailable)(l)?l.redirectStart:l.fetchStart;(0,a.createNavigationTimingSpans)(l,f,0,e).forEach((function(e){e.traceId=t.traceId,e.sampled=t.sampled,e.pageResponse&&t.options.pageLoadSpanId&&(e.id=t.options.pageLoadSpanId),t.spans.push(e)})),t.addMarks((0,u.getPageLoadMarks)(l))}if((0,r.isPerfTimelineSupported)()){var d=t._start,p=r.PERF.getEntriesByType(o.RESOURCE);(0,c.createResourceTimingSpans)(p,i.state.bootstrapTime,d,e).forEach((function(e){return t.spans.push(e)}));var h=r.PERF.getEntriesByType(o.MEASURE);(0,s.createUserTimingSpans)(h,d,e).forEach((function(e){return t.spans.push(e)}))}}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{createNavigationTimingSpans:()=>a});var r=n(52),o=n(44),i=[["redirectStart","redirectEnd","Redirect"],["domainLookupStart","domainLookupEnd","Domain lookup"],["connectStart","connectEnd","Making a connection to the server"],["requestStart","responseEnd","Requesting and receiving the document"],["domLoading","domInteractive","Parsing the document, executing sync. scripts"],["domContentLoadedEventStart","domContentLoadedEventEnd",'Fire "DOMContentLoaded" event'],["loadEventStart","loadEventEnd",'Fire "load" event']];function a(t,e,n,a){for(var s=[],c=0;c<i.length;c++){var u=t[i[c][0]],l=t[i[c][1]];if((0,r.shouldCreateSpan)(u,l,n,a,e)){var f=new o.default(i[c][2],"hard-navigation.browser-timing"),d=null;"requestStart"===i[c][0]&&(f.pageResponse=!0,d={url:location.origin}),f._start=u-e,f.end(l-e,d),s.push(f)}}return s}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{shouldCreateSpan:()=>o});var r=n(9);function o(t,e,n,o,i){return void 0===i&&(i=0),"number"==typeof t&&"number"==typeof e&&t>=i&&e>t&&t-i>=n&&e-i<=o&&e-t<r.MAX_SPAN_DURATION&&t-i<r.MAX_SPAN_DURATION&&e-i<r.MAX_SPAN_DURATION}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{createResourceTimingSpans:()=>u});var r=n(13),o=n(52),i=n(9),a=n(44);function s(t){var e=t.name,n=t.initiatorType,o=t.startTime,i=t.responseEnd,s="resource";n&&(s+="."+n);var c=(0,r.stripQueryStringFromUrl)(e),u=new a.default(c,s);return u._start=o,u.end(i,{url:e,entry:t}),u}function c(t,e){return null!=e&&t>e}function u(t,e,n,r){for(var a=[],u=0;u<t.length;u++){var l=t[u],f=l.initiatorType,d=l.name,p=l.startTime,h=l.responseEnd;-1!==i.RESOURCE_INITIATOR_TYPES.indexOf(f)&&null!=d&&(("xmlhttprequest"===f||"fetch"===f)&&(/intake\/v\d+\/rum\/events/.test(d)||c(p,e))||(0,o.shouldCreateSpan)(p,h,n,r)&&a.push(s(t[u])))}return a}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{createUserTimingSpans:()=>a});var r=n(9),o=n(52),i=n(44);function a(t,e,n){for(var a=[],s=0;s<t.length;s++){var c=t[s],u=c.name,l=c.startTime,f=c.duration,d=l+f;if(!(f<=r.USER_TIMING_THRESHOLD)&&(0,o.shouldCreateSpan)(l,d,e,n)){var p=new i.default(u,"app");p._start=l,p.end(d),a.push(p)}}return a}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{adjustTransaction:()=>d,default:()=>p,groupSmallContinuouslySimilarSpans:()=>f});var r=n(13),o=n(46),i=n(21),a=n(24),s=n(9),c=n(40),u=n(12),l=.05;function f(t,e,n){t.sort((function(t,e){return t._start-e._start}));var r=[],o=1;return t.forEach((function(i,a){if(0===r.length)r.push(i);else{var s=r[r.length-1],c=s.type===i.type&&s.subtype===i.subtype&&s.action===i.action&&s.name===i.name&&i.duration()/e<n&&(i._start-s._end)/e<n,u=t.length===a+1;c&&(o++,s._end=i._end),o>1&&(!c||u)&&(s.name=o+"x "+s.name,o=1),c||r.push(i)}})),r}function d(t){if(t.sampled){var e=t.spans.filter((function(e){return e.duration()>0&&e._start>=t._start&&e._end<=t._end}));if(t.isManaged()){var n=f(e,t.duration(),l);t.spans=n}else t.spans=e}else t.resetFields();return t}var p=function(){function t(t,e,n,r){this._apmServer=t,this._configService=e,this._logginService=n,this._transactionService=r}var e=t.prototype;return e.init=function(t){var e=this;void 0===t&&(t={}),this._configService.events.observe(s.TRANSACTION_END+s.AFTER_EVENT,(function(t){var n=e.createTransactionPayload(t);n&&(e._apmServer.addTransaction(n),e._configService.dispatchEvent(s.QUEUE_ADD_TRANSACTION))})),t[s.HISTORY]&&i.patchEventHandler.observe(s.HISTORY,this.getHistorySub()),t[s.XMLHTTPREQUEST]&&i.patchEventHandler.observe(s.XMLHTTPREQUEST,this.getXHRSub()),t[s.FETCH]&&i.patchEventHandler.observe(s.FETCH,this.getFetchSub())},e.getHistorySub=function(){var t=this._transactionService;return function(e,n){n.source===s.HISTORY&&e===s.INVOKE&&t.startTransaction(n.data.title,"route-change",{managed:!0,canReuse:!0})}},e.getXHRSub=function(){var t=this;return function(e,n){n.source!==s.XMLHTTPREQUEST||a.globalState.fetchInProgress||t.processAPICalls(e,n)}},e.getFetchSub=function(){var t=this;return function(e,n){n.source===s.FETCH&&t.processAPICalls(e,n)}},e.processAPICalls=function(t,e){var n=this._configService,i=this._transactionService;if(e.data&&e.data.url){var a=this._apmServer.getEndpoints();if(Object.keys(a).some((function(t){return-1!==e.data.url.indexOf(a[t])})))return}if(t===s.SCHEDULE&&e.data){var c=e.data,l=new o.Url(c.url),f=c.method+" "+(l.relative?l.path:(0,r.stripQueryStringFromUrl)(l.href));i.getCurrentTransaction()||i.startTransaction(f,s.HTTP_REQUEST_TYPE,{managed:!0});var d=i.startSpan(f,"external.http",{blocking:!0});if(!d)return;var p=n.get("distributedTracing"),h=n.get("distributedTracingOrigins"),v=new o.Url(window.location.href),m=(0,r.checkSameOrigin)(l.origin,v.origin)||(0,r.checkSameOrigin)(l.origin,h),g=c.target;if(p&&m&&g)this.injectDtHeader(d,g),n.get("propagateTracestate")&&this.injectTSHeader(d,g);else u.__DEV__&&this._logginService.debug("Could not inject distributed tracing header to the request origin ('"+l.origin+"') from the current origin ('"+v.origin+"')");c.sync&&(d.sync=c.sync),c.span=d}else if(t===s.INVOKE){var y=e.data;if(y&&y.span){var b,w,E=y.span,S=y.response,_=y.target;b=S?S.status:_.status,w="abort"==y.status||y.aborted?s.OUTCOME_UNKNOWN:b>=400||0==b?s.OUTCOME_FAILURE:s.OUTCOME_SUCCESS,E.outcome=w;var A=i.getCurrentTransaction();A&&A.type===s.HTTP_REQUEST_TYPE&&(A.outcome=w),i.endSpan(E,y)}}},e.injectDtHeader=function(t,e){var n=this._configService.get("distributedTracingHeaderName"),o=(0,r.getDtHeaderValue)(t);(0,r.isDtHeaderValid)(o)&&o&&n&&(0,r.setRequestHeader)(e,n,o)},e.injectTSHeader=function(t,e){var n=(0,r.getTSHeaderValue)(t);n&&(0,r.setRequestHeader)(e,"tracestate",n)},e.extractDtHeader=function(t){var e=this._configService.get("distributedTracingHeaderName");if(t)return(0,r.parseDtHeaderValue)(t[e])},e.filterTransaction=function(t){var e=t.duration();if(!e){if(u.__DEV__){var n="transaction("+t.id+", "+t.name+") was discarded! ";n+=0===e?"Transaction duration is 0":"Transaction wasn't ended",this._logginService.debug(n)}return!1}if(t.isManaged()){if(e>6e4)return u.__DEV__&&this._logginService.debug("transaction("+t.id+", "+t.name+") was discarded! Transaction duration ("+e+") is greater than managed transaction threshold (60000)"),!1;if(t.sampled&&0===t.spans.length)return u.__DEV__&&this._logginService.debug("transaction("+t.id+", "+t.name+") was discarded! Transaction does not have any spans"),!1}return!0},e.createTransactionDataModel=function(t){var e=t._start,n=t.spans.map((function(n){var r={id:n.id,transaction_id:t.id,parent_id:n.parentId||t.id,trace_id:t.traceId,name:n.name,type:n.type,subtype:n.subtype,action:n.action,sync:n.sync,start:parseInt(n._start-e),duration:n.duration(),context:n.context,outcome:n.outcome,sample_rate:n.sampleRate};return(0,c.truncateModel)(c.SPAN_MODEL,r)})),r={id:t.id,trace_id:t.traceId,session:t.session,name:t.name,type:t.type,duration:t.duration(),spans:n,context:t.context,marks:t.marks,breakdown:t.breakdownTimings,span_count:{started:n.length},sampled:t.sampled,sample_rate:t.sampleRate,experience:t.experience,outcome:t.outcome};return(0,c.truncateModel)(c.TRANSACTION_MODEL,r)},e.createTransactionPayload=function(t){var e=d(t);if(this.filterTransaction(e))return this.createTransactionDataModel(t)},t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{registerServices:()=>a});var r=n(57),o=n(9),i=n(31);function a(){i.serviceCreators[o.ERROR_LOGGING]=function(t){var e=t.getService([o.APM_SERVER,o.CONFIG_SERVICE,o.TRANSACTION_SERVICE]),n=e[0],i=e[1],a=e[2];return new r.default(n,i,a)}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var r=n(60),o=n(13),i=n(45),a=n(40),s=n(58),c=n.n(s);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var l=["tags"];var f=["stack","message"];const d=function(){function t(t,e,n){this._apmServer=t,this._configService=e,this._transactionService=n}var e=t.prototype;return e.createErrorDataModel=function(t){var e=(0,r.createStackTraces)(c(),t),n=(0,r.filterInvalidFrames)(e),s="(inline script)",d=n[n.length-1];d&&d.filename&&(s=d.filename);var p=t.message,h=t.error,v=p,m="",g={};if(h&&"object"===u(h)){v=v||h.message,m=h.name;var y=function(t){var e=!1,n={};if(Object.keys(t).forEach((function(r){if(!(f.indexOf(r)>=0)){var o=t[r];if(null!=o&&"function"!=typeof o){if("object"===u(o)){if("function"!=typeof o.toISOString)return;o=o.toISOString()}n[r]=o,e=!0}}})),e)return n}(h);y&&(g.custom=y)}m||v&&v.indexOf(":")>-1&&(m=v.split(":")[0]);var b=this._transactionService.getCurrentTransaction(),w=b?b.context:{},E=this._configService.get("context"),S=(E.tags,function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(E,l)),_=(0,i.getPageContext)(),A=(0,o.merge)({},_,w,S,g),T={id:(0,o.generateRandomId)(),culprit:s,exception:{message:v,stacktrace:n,type:m},context:A};return b&&(T=(0,o.extend)(T,{trace_id:b.traceId,parent_id:b.id,transaction_id:b.id,transaction:{type:b.type,sampled:b.sampled}})),(0,a.truncateModel)(a.ERROR_MODEL,T)},e.logErrorEvent=function(t){if(void 0!==t){var e=this.createErrorDataModel(t);void 0!==e.exception.message&&this._apmServer.addError(e)}},e.registerListeners=function(){var t=this;window.addEventListener("error",(function(e){return t.logErrorEvent(e)})),window.addEventListener("unhandledrejection",(function(e){return t.logPromiseEvent(e)}))},e.logPromiseEvent=function(t){var e,n="Unhandled promise rejection: ",r=t.reason;(null==r&&(r="<no reason specified>"),"string"==typeof r.message)?e={error:r,message:n+(r.name?r.name+": ":"")+r.message}:e={message:n+(r="object"===u(r)?"<object>":"function"==typeof r?"<function>":r)};this.logErrorEvent(e)},e.logError=function(t){var e={};return"string"==typeof t?e.message=t:e.error=t,this.logErrorEvent(e)},t}()},function(t,e,n){var r,o,i;!function(a,s){"use strict";o=[n(59)],void 0===(i="function"==typeof(r=function(t){var e=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;function o(t,e,n){if("function"==typeof Array.prototype.map)return t.map(e,n);for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=e.call(n,t[o]);return r}function i(t,e,n){if("function"==typeof Array.prototype.filter)return t.filter(e,n);for(var r=[],o=0;o<t.length;o++)e.call(n,t[o])&&r.push(t[o]);return r}function a(t,e){if("function"==typeof Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(t.replace(/[\(\)]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return o(i(e.stack.split("\n"),(function(t){return!!t.match(n)}),this),(function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),o=n.join(" ")||void 0,i=a(["eval","<anonymous>"],r[0])>-1?void 0:r[0];return new t(o,void 0,i,r[1],r[2],e)}),this)},parseFFOrSafari:function(e){return o(i(e.stack.split("\n"),(function(t){return!t.match(r)}),this),(function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t(e);var n=e.split("@"),r=this.extractLocation(n.pop()),o=n.join("@")||void 0;return new t(o,void 0,r[0],r[1],r[2],e)}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new t(void 0,void 0,s[2],s[1],void 0,r[i]))}return o},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new t(s[3]||void 0,void 0,s[2],s[1],void 0,r[i]))}return o},parseOpera11:function(n){return o(i(n.stack.split("\n"),(function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this),(function(e){var n,r=e.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new t(a,s,o[0],o[1],o[2],e)}),this)}}})?r.apply(e,o):r)||(t.exports=i)}()},function(t,e){var n,r,o;!function(i,a){"use strict";r=[],void 0===(o="function"==typeof(n=function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t,e,n,r,o,i){void 0!==t&&this.setFunctionName(t),void 0!==e&&this.setArgs(e),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(t){this.functionName=String(t)},getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getFileName:function(){return this.fileName},setFileName:function(t){this.fileName=String(t)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!t(e))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(e){if(!t(e))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(e)},getSource:function(){return this.source},setSource:function(t){this.source=String(t)},toString:function(){return(this.getFunctionName()||"{anonymous}")+("("+(this.getArgs()||[]).join(",")+")")+(this.getFileName()?"@"+this.getFileName():"")+(t(this.getLineNumber())?":"+this.getLineNumber():"")+(t(this.getColumnNumber())?":"+this.getColumnNumber():"")}},e})?n.apply(e,r):n)||(t.exports=o)}()},(t,e,n)=>{"use strict";function r(t,e){var n=e.error,r=e.filename,o=e.lineno,i=e.colno,a=[];if(n)try{a=t.parse(n)}catch(t){}return function(t){return 0!==t.length&&(1!==t.length||"lineNumber"in t[0])}(a)||(a=[{fileName:r,lineNumber:o,columnNumber:i}]),a.map((function(t){return t.functionName&&(t.functionName=(e=t.functionName,n=e.split("/"),e=n.length>1?["Object",n[n.length-1]].join("."):n[0],e=(n=(e=(e=e.replace(/.<$/gi,".<anonymous>")).replace(/^Anonymous function$/,"<anonymous>")).split(".")).length>1?n[n.length-1]:n[0])),t;var e,n})).map((function(t){var e=t.fileName,n=t.lineNumber,r=t.columnNumber,o=t.functionName,i=void 0===o?"<anonymous>":o;if(!e&&!n)return{};if(!r&&!n)return{};var a,s,c=function(t){return void 0===t&&(t=""),"<anonymous>"===t&&(t=""),t}(e),u=(a=c,s=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),a.indexOf(s)>-1&&(a=a.replace(s+"/","")),a);return function(t){return!!t&&0===window.location.href.indexOf(t)}(c)&&(u="(inline script)"),{abs_path:e,filename:u,function:i,lineno:n,colno:r}}))}function o(t){return t.filter((function(t){var e=t.filename,n=t.lineno;return void 0!==e&&void 0!==n}))}n.r(e),n.d(e,{createStackTraces:()=>r,filterInvalidFrames:()=>o})},(t,e,n)=>{"use strict";n.r(e),n.d(e,{Span:()=>o.default,Tracer:()=>r.default,createTracer:()=>a});var r=n(62),o=n(70),i=n(9);function a(t){var e=t.getService(i.PERFORMANCE_MONITORING),n=t.getService(i.TRANSACTION_SERVICE),o=t.getService(i.ERROR_LOGGING),a=t.getService(i.LOGGING_SERVICE);return new r.default(e,n,a,o)}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(63),o=n(65),i=n(67),a=n(13),s=n(12),c=n(70);function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}const l=function(t){var e,n;function r(e,n,r,o){var i;return(i=t.call(this)||this).performanceMonitoring=e,i.transactionService=n,i.loggingService=r,i.errorLogging=o,i}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,u(e,n);var l=r.prototype;return l._startSpan=function(t,e){var n,r={managed:!0};if(e)if(r.timestamp=e.startTime,e.childOf)r.parentId=e.childOf.id;else if(e.references&&e.references.length>0){e.references.length>1&&s.__DEV__&&this.loggingService.debug("Elastic APM OpenTracing: Unsupported number of references, only the first childOf reference will be recorded.");var u=(0,a.find)(e.references,(function(t){return t.type()===o.REFERENCE_CHILD_OF}));u&&(r.parentId=u.referencedContext().id)}if(!(n=this.transactionService.getCurrentTransaction()?this.transactionService.startSpan(t,void 0,r):this.transactionService.startTransaction(t,void 0,r)))return new i.Span;r.timestamp&&(n._start=r.timestamp-(0,a.getTimeOrigin)());var l=new c.default(this,n);return e&&e.tags&&l.addTags(e.tags),l},l._inject=function(t,e,n){switch(e){case o.FORMAT_TEXT_MAP:case o.FORMAT_HTTP_HEADERS:this.performanceMonitoring.injectDtHeader(t,n);break;case o.FORMAT_BINARY:s.__DEV__&&this.loggingService.debug("Elastic APM OpenTracing: binary carrier format is not supported.")}},l._extract=function(t,e){var n;switch(t){case o.FORMAT_TEXT_MAP:case o.FORMAT_HTTP_HEADERS:n=this.performanceMonitoring.extractDtHeader(e);break;case o.FORMAT_BINARY:s.__DEV__&&this.loggingService.debug("Elastic APM OpenTracing: binary carrier format is not supported.")}return n||(n=null),n},r}(r.Tracer)},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(64),o=n(68),i=n(67),a=function(){function t(){}return t.prototype.startSpan=function(t,e){if(void 0===e&&(e={}),e.childOf){var n=r.childOf(e.childOf);e.references?e.references.push(n):e.references=[n],delete e.childOf}return this._startSpan(t,e)},t.prototype.inject=function(t,e,n){return t instanceof i.default&&(t=t.context()),this._inject(t,e,n)},t.prototype.extract=function(t,e){return this._extract(t,e)},t.prototype._startSpan=function(t,e){return o.span},t.prototype._inject=function(t,e,n){},t.prototype._extract=function(t,e){return o.spanContext},t}();e.Tracer=a,e.default=a},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(65),o=n(66),i=n(67);e.childOf=function(t){return t instanceof i.default&&(t=t.context()),new o.default(r.REFERENCE_CHILD_OF,t)},e.followsFrom=function(t){return t instanceof i.default&&(t=t.context()),new o.default(r.REFERENCE_FOLLOWS_FROM,t)}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FORMAT_BINARY="binary",e.FORMAT_TEXT_MAP="text_map",e.FORMAT_HTTP_HEADERS="http_headers",e.REFERENCE_CHILD_OF="child_of",e.REFERENCE_FOLLOWS_FROM="follows_from"},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(67),o=function(){function t(t,e){this._type=t,this._referencedContext=e instanceof r.default?e.context():e}return t.prototype.type=function(){return this._type},t.prototype.referencedContext=function(){return this._referencedContext},t}();e.default=o},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(68),o=function(){function t(){}return t.prototype.context=function(){return this._context()},t.prototype.tracer=function(){return this._tracer()},t.prototype.setOperationName=function(t){return this._setOperationName(t),this},t.prototype.setBaggageItem=function(t,e){return this._setBaggageItem(t,e),this},t.prototype.getBaggageItem=function(t){return this._getBaggageItem(t)},t.prototype.setTag=function(t,e){var n;return this._addTags(((n={})[t]=e,n)),this},t.prototype.addTags=function(t){return this._addTags(t),this},t.prototype.log=function(t,e){return this._log(t,e),this},t.prototype.logEvent=function(t,e){return this._log({event:t,payload:e})},t.prototype.finish=function(t){this._finish(t)},t.prototype._context=function(){return r.spanContext},t.prototype._tracer=function(){return r.tracer},t.prototype._setOperationName=function(t){},t.prototype._setBaggageItem=function(t,e){},t.prototype._getBaggageItem=function(t){},t.prototype._addTags=function(t){},t.prototype._log=function(t,e){},t.prototype._finish=function(t){},t}();e.Span=o,e.default=o},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(67),o=n(69),i=n(63);e.tracer=null,e.spanContext=null,e.span=null,e.initialize=function(){e.tracer=new i.default,e.span=new r.default,e.spanContext=new o.default}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.toTraceId=function(){return""},t.prototype.toSpanId=function(){return""},t}();e.SpanContext=n,e.default=n},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(67),o=n(13),i=n(48);function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}const s=function(t){var e,n;function r(e,n){var r;return(r=t.call(this)||this).__tracer=e,r.span=n,r.isTransaction=n instanceof i.default,r.spanContext={id:n.id,traceId:n.traceId,sampled:n.sampled},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,a(e,n);var s=r.prototype;return s._context=function(){return this.spanContext},s._tracer=function(){return this.__tracer},s._setOperationName=function(t){this.span.name=t},s._addTags=function(t){var e=(0,o.extend)({},t);if(e.type&&(this.span.type=e.type,delete e.type),this.isTransaction){var n=e["user.id"],r=e["user.username"],i=e["user.email"];(n||r||i)&&(this.span.addContext({user:{id:n,username:r,email:i}}),delete e["user.id"],delete e["user.username"],delete e["user.email"])}this.span.addLabels(e)},s._log=function(t,e){"error"===t.event&&(t["error.object"]?this.__tracer.errorLogging.logError(t["error.object"]):t.message&&this.__tracer.errorLogging.logError(t.message))},s._finish=function(t){this.span.end(),t&&(this.span._end=t-(0,o.getTimeOrigin)())},r}(r.Span)},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=100;function o(t){var e=function(){clearTimeout(n),cancelAnimationFrame(o),setTimeout(t)},n=setTimeout(e,r),o=requestAnimationFrame(e)}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{envVars:()=>r});var r={NODE_ENV:"production",AD_SERVER_BASE_URL:"https://ad.vidoomy.com/api/adserver",ELASTIC_APM_SERVICE_NAME:"es6-vidoplayer",ELASTIC_APM_SERVER_URL:"https://apm.vidoomy.com:8200",ELASTIC_APM_SECRET_TOKEN:"MADyREDVnjJfiU0HDNVgg0EVNaR91cq7FGynTF3a5FU60moBgaKRPgShJklJPnqOwGVVz4kQ2VhIleJyhktE2fdZt1f3NlW45fh50UKebrdaJGwlmajjpeiky6Mbvke9",OMID_PARTNER_NAME:"Vidoomy",OMID_PARTNER_VERSION:"1.4.0",OMID_SERVICE_URL:"https://vpaid.vidoomy.com/player/latest/assets/js/omid",GOOGLE_TAG_PUBLISHIER_URL:{AD_SERVER_BASE_URL:"https://ad.vidoomy.com/api/adserver",ELASTIC_APM_SECRET_TOKEN:"MADyREDVnjJfiU0HDNVgg0EVNaR91cq7FGynTF3a5FU60moBgaKRPgShJklJPnqOwGVVz4kQ2VhIleJyhktE2fdZt1f3NlW45fh50UKebrdaJGwlmajjpeiky6Mbvke9",ELASTIC_APM_SERVER_URL:"https://apm.vidoomy.com:8200",ELASTIC_APM_SERVICE_NAME:"es6-vidoplayer",OMID_PARTNER_NAME:"Vidoomy",OMID_PARTNER_VERSION:"1.4.0",OMID_SERVICE_URL:"https://vpaid.vidoomy.com/player/latest/assets/js/omid"}.GOOGLE_TAG_PUBLISHIER_URL}},t=>{"use strict";t.exports=JSON.parse('{"name":"vidoomy-player","version":"3.13.2","description":"Vidoomy Player","main":"src/index.js","keywords":[],"author":"","license":"UNLICENSED","private":true,"engines":{"node":">=16.19.1"},"scripts":{"start":"cross-env NODE_ENV=development webpack serve","clean":"rm -f ./.tsbuildinfo && rm -rf ./dist","watch":"webpack --watch","build":"npm run build:production","build:production":"webpack --node-env=production","build:staging":"webpack --node-env=staging","surge":"npm run build && surge dist vid-ad.surge.sh","lint":"eslint src/**/*.{js,ts}","lint-fix":"eslint src/**/*.{js,ts} --fix","lint-staged":"lint-staged","commitlint":"commitlint --edit","commit":"git-cz","adapter:start":"cd vpaid-adapter && webpack serve --node-env=development","adapter:build:staging":"cd vpaid-adapter && webpack --node-env=staging","adapter:build:production":"cd vpaid-adapter && webpack --node-env=production","prepare":"husky install","test":"echo \\"Error: no test specified\\" && exit 1"},"lint-staged":{"*.{js,ts}":"eslint src/**/*.{js,ts} --fix"},"config":{"commitizen":{"path":"@commitlint/cz-commitlint"}},"dependencies":{"@elastic/apm-rum":"^5.14.0","@fingerprintjs/fingerprintjs":"^3.4.1","@vidoomy/mol-ad-sdk":"^1.2.4","uuid":"^9.0.0"},"devDependencies":{"@babel/cli":"^7.21.5","@babel/core":"^7.24.0","@babel/plugin-syntax-dynamic-import":"^7.8.3","@babel/plugin-transform-arrow-functions":"^7.21.5","@babel/plugin-transform-react-jsx":"^7.21.5","@babel/preset-env":"^7.24.0","@babel/preset-react":"^7.23.3","@commitlint/cli":"^17.7.1","@commitlint/config-conventional":"^17.7.0","@commitlint/cz-commitlint":"^17.7.1","@commitlint/prompt-cli":"^17.7.1","@types/google-publisher-tag":"^1.20240219.0","@types/node":"^20.11.19","@typescript-eslint/eslint-plugin":"^7.0.2","babel-loader":"^9.1.3","clean-webpack-plugin":"^4.0.0","commitizen":"^4.3.0","copy-webpack-plugin":"^11.0.0","cross-env":"^7.0.3","css-loader":"^6.7.3","dotenv":"^16.0.3","eslint":"^8.40.0","eslint-plugin-import":"^2.28.1","eslint-webpack-plugin":"^4.0.1","fork-ts-checker-webpack-plugin":"^9.0.2","html-webpack-plugin":"^5.5.1","husky":"^8.0.3","inquirer":"^8.2.6","lint-staged":"^14.0.1","postcss-loader":"^7.3.0","postcss-nested":"^6.0.1","standard-version":"^9.5.0","style-loader":"^3.3.2","terser-webpack-plugin":"^5.3.8","ts-loader":"^9.5.1","typescript":"^5.3.3","webpack":"^5.82.1","webpack-cli":"^5.1.1","webpack-dev-server":"^4.15.0"}}')},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:String(e)}n.r(e),n.d(e,{default:()=>a});const a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prefixes="".concat(e.prefix?e.prefix:""),this.isEnabled=void 0===e.enabled||e.enabled,this.env=e.environment||"production"}var e,n,r;return e=t,n=[{key:"log",value:function(){if(this.isEnabled&&"production"!==this.env){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.print.apply(this,["log"].concat(e))}}},{key:"error",value:function(){if(this.isEnabled&&"production"!==this.env){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.print.apply(this,["error"].concat(e))}}},{key:"warn",value:function(){if(this.isEnabled&&"production"!==this.env){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.print.apply(this,["warn"].concat(e))}}},{key:"print",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console)[t].apply(e,[this.prefixes].concat(r))}}],n&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},(t,e,n)=>{"use strict";function r(t){var e=t.timeout,n=void 0===e?0:e;return new Promise((function(t,e){var r=window.__tcfapi,o=window.__cmp;r&&"function"==typeof r?r("getTCData",2,(function(n,r){r&&n.tcString?t(n.tcString):e(new Error("Consent string not available from window.__tcfapi"))})):o&&"function"==typeof o?o("getConsentData",null,(function(n){n&&n.tcString?t(n.tcString):e(new Error("Consent string not available from window.__cmp"))})):e(new Error("Functions window.__tcfapi and window.__cmp are not available")),setTimeout((function(){e(new Error("window.__tcfapi and window.__cmp are not responding after ".concat(n,"ms")))}),n)}))}n.r(e),n.d(e,{getConsentString:()=>r})},(t,e,n)=>{"use strict";n.r(e),n.d(e,{DOMManager:()=>_});var r=n(77),o=n(100),i=n(101),a=n(98),s=n(78),c=n(89),u=n(104),l=n(97);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function g(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function y(t,e,n){return(e=b(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:String(e)}function w(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var E=function(t){return{value:t||null}},S=new WeakSet,_=function(){function t(e,n){var u=this,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3?arguments[3]:void 0,v=arguments.length>4?arguments[4]:void 0,m=arguments.length>5?arguments[5]:void 0,b=arguments.length>6?arguments[6]:void 0,_=arguments.length>7?arguments[7]:void 0,T=arguments.length>8?arguments[8]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,S),y(this,"remove",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=u.refs.container.value.getAttribute("data-vido-id");u.idsToRemove.push(e);t?setTimeout((function(){u.idsToRemove.forEach((function(t){var e=u.slot.querySelector('[data-vido-id="'.concat(t,'"]'));e&&(p(e.querySelectorAll("video")).forEach((function(t){t.pause(),t.src="",t.removeAttribute("src"),t.load()})),e.remove())})),u.idsToRemove=u.idsToRemove.filter((function(t){return t!==e}))}),u.animationDuration+3e3):u.element.remove()})),y(this,"hide",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u.refs.container.value&&(u.refs.container.value.classList.remove(s.default.appear,s.default.loaded),t&&u.remove())})),y(this,"prepare",(function(t){u.refs.container.value.classList.add(s.default.loaded),u.refs.container.value.classList[t?"add":"remove"](s.default.vpaid)})),y(this,"show",(function(t){u.flag.end||(u.sizes=t,u.refs.onShow.value&&u.refs.onShow.value(t),u.refs.container.value.classList.add(s.default.appear))})),this.adsManager=T,this.top=e,this.slot="slider"===h.type?this.top.window.document.body:n,this.adapterVideoElement=f,this.htmlConfig=h,this.isMobile=(0,a.checkIsMobile)(),this.appearAt=w(S,this,A).call(this,this.isMobile?this.htmlConfig.appearAtMbl:this.htmlConfig.appearAt),this.margin=this.isMobile?h.marginMbl:h.margin,this.refs={wrapper:E(),displayContainer:E(),video:E(),container:E(),playBtn:E(),playBtnWrapper:E(),volumeDot:E(),mutedBtn:E(),onShow:E(),onImpression:E(),gptSlotContainer:E()},this.element=null,this.animationDuration=600,this.idsToRemove=[],this.flag={end:!1},this.controls="object"!==d(h.controls)?{playPause:!1,volume:!1}:h.controls,this.userClickedMuteBtn=!1;var x=function(t){(0,c.isEventTrusted)(t)&&(u.hide(!1),m())},O=function(t){u.userClickedMuteBtn?(v&&v.set("volume",t),_(t)):_(0)},C=function(){u.userClickedMuteBtn=!0},L=function(t){t&&u.top.window.addEventListener("resize",t)};this.components={slider:function(t){return l(r.default,{refs:u.refs,slot:t,width:h.width,height:h.height,controls:u.controls,appearAt:u.appearAt,margin:u.margin,animationDuration:u.animationDuration,onClose:function(t){return x(t)},closeTxt:u.isMobile?h.closeTextMbl:h.closeText,showCloseBtnAfter:u.isMobile?h.showCloseBtnAfterMbl:h.showCloseBtnAfter,onWindowResize:function(t){return L(t)},onOrientationChange:function(t){return function(t){t&&u.top.window.addEventListener("orientationchange",t)}(t)},onVolumeChange:function(t){return O(t)},onMuteButtonClick:function(){return C()},onPlayChange:function(t,e){return b(t,e)}})},intext:function(t){return l(o.default,{refs:u.refs,slot:t,width:u.isMobile?h.widthMbl:h.width,height:u.isMobile?h.heightMbl:h.height,controls:u.controls,animationDuration:u.animationDuration,onWindowResize:function(t){return L(t)},onVolumeChange:function(t){return O(t)},onMuteButtonClick:function(){return C()},onPlayChange:function(t,e){return b(t,e)}})},adapter:function(){return l(i.default,{refs:u.refs})}},this.render()}var e,n,h;return e=t,(n=[{key:"render",value:function(){this.userClickedMuteBtn=!1;var t=this.htmlConfig.type.toLowerCase(),e=this.components[t];this.refs.video.value=w(S,this,T).call(this),this.element=e(this.slot),this.element.setAttribute("data-vido-id",(0,u.default)()),this.slot.appendChild(this.element)}},{key:"onShow",value:function(t){var e=this;if(!this.flag.end)if("undefined"!=typeof IntersectionObserver){var n=new IntersectionObserver((function(r){var o=f(r,1)[0];"slider"===e.htmlConfig.type?t&&(t(e.sizes),n.disconnect()):o&&o.isIntersecting&&t&&(t(e.sizes),n.disconnect())}));n.observe(this.slot)}else setTimeout((function(){return t?t(e.sizes):function(){}}),600)}},{key:"onImpression",value:function(){this.refs.onImpression.value&&this.refs.onImpression.value()}},{key:"showPlayButton",value:function(){var t,e=this.refs.playBtnWrapper.value;Boolean(e.getAttribute("data-hidden"))&&null!==(t=this.htmlConfig.controls)&&void 0!==t&&t.playPause&&e.setAttribute("data-hidden","false")}},{key:"end",value:function(){this.flag.end=!0,this.hide()}}])&&m(e.prototype,n),h&&m(e,h),Object.defineProperty(e,"prototype",{writable:!1}),t}();function A(t){for(var e=t.split(" "),n=["left","right"],r=["top","bottom"],o="right",i="bottom",a=0;a<e.length;a++)n.includes(e[a])&&(o=e[a]),r.includes(e[a])&&(i=e[a]);return{x:o,y:i}}function T(){return this.adapterVideoElement||l("video",{ref:this.refs.video,autoplay:!0,muted:!0,playsinline:!0,width:this.htmlConfig.width,height:this.htmlConfig.height})}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var r=n(78),o=n(88),i=n(98),a=n(99),s=n(97);const c=function(t){var e=t.refs,n=t.controls,c=t.width,u=t.height,l=t.appearAt,f=t.margin,d=void 0===f?"unset":f,p=t.animationDuration,h=void 0===p?0:p,v=t.closeTxt,m=t.showCloseBtnAfter,g=t.onClose,y=t.onVolumeChange,b=t.onPlayChange,w=t.onWindowResize,E=t.onOrientationChange,S=t.onMuteButtonClick,_=l.x,A=l.y,T=c/u,x={value:null},O=function(t){var e,n,r=(0,i.checkIsMobile)();if(t){e=t[0]+10,n=t[1]+10}else n=(e=r||(t?t[0]:c/window.innerWidth)>.6?.6*window.innerWidth:t?t[0]:c)/T,e+=10,n+=10;return{width:e,height:n}},C=O(),L=function(t){var n=e.container.value;if(n){var r=O(t);n.style.width="".concat(r.width,"px"),n.style.height="".concat(r.height,"px")}};e.onShow.value=function(t){L(t)},e.onImpression.value=function(){setTimeout((function(){x.value.classList.remove(r.default.closerHidden)}),1e3*m)},(0,a.useListeners)((function(){L()}),[w,E]);var k=e.video.value||s("video",{ref:e.video,autoplay:!0,muted:!0,playsinline:!0,width:c,height:u});return s("div",{ref:e.container,class:"".concat(r.default.slider," ").concat(r.default[_]," ").concat(r.default[A]),style:"width: ".concat(C.width,"px; height: ").concat(C.height,"px; margin: ").concat(d,"; transition: all ").concat(h,"ms ease-in-out;")},s((function(t){var e=t.showAfter>0;return s("div",{ref:x,class:"".concat(r.default.closer," ").concat(e?r.default.closerHidden:""),onClick:g},"".concat(v))}),{showAfter:m}),s("div",{ref:e.wrapper,class:"".concat(r.default.wrapper),style:"width:100%; height: 100%;"},k,s(o.default,{controls:n,refs:e,onPlayChange:b,onVolumeChange:y,onMuteButtonClick:S}),s("div",{ref:e.displayContainer}),s("div",{ref:e.gptSlotContainer})))}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(79),o=n.n(r),i=n(80),a=n.n(i),s=n(81),c=n.n(s),u=n(82),l=n.n(u),f=n(83),d=n.n(f),p=n(84),h=n.n(p),v=n(85),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=d();o()(v.default,m);const g=v.default&&v.default.locals?v.default.locals:void 0},t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],u=r.base?c[0]+r.base:c[0],l=i[u]||0,f="".concat(u," ").concat(l);i[u]=l+1;var d=n(f),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var h=o(p,r);r.byIndex=s,e.splice(s,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var c=r(t,o),u=0;u<i.length;u++){var l=n(i[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=c}}},t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(86),o=n.n(r),i=n(87),a=n.n(i)()(o());a.push([t.id,".JnnkLejNKU4bHGW3yOTf {\n\tz-index: 2147483647;\n\tborder-top-left-radius: 5px;\n\tborder-bottom-left-radius: 5px;\n\tborder-bottom-right-radius: 5px;\n\tborder: 1px solid rgb(204, 204, 204);\n\tpadding: 4px;\n\toverflow: visible;\n\tbackground-color: rgb(238, 238, 238);\n\tbox-sizing: border-box;\n\n\tposition: fixed;\n\tbottom: 0;\n\tright: 0;\n}\n\n\t.JnnkLejNKU4bHGW3yOTf.bbs82Z3jwItCKA4idy8H {\n\t\ttop: 25px;\n\t}\n\n\t.JnnkLejNKU4bHGW3yOTf.rNOl8K0dWUc9FqBR59dp {\n\t\tbottom: 10px;\n\t}\n\n\t.JnnkLejNKU4bHGW3yOTf.j9bZ7Ln2CLnWvWG4G2IM {\n\t\tleft: -100%;\n\t\ttransform: translateX(-100%);\n\t}\n\n\t.JnnkLejNKU4bHGW3yOTf.j9bZ7Ln2CLnWvWG4G2IM.iiACSOhlBkRZwex76wd8 {\n\t\t\ttransform: translateX(0);\n\t\t\tleft: 25px;\n\t\t}\n\n\t.JnnkLejNKU4bHGW3yOTf.usC0x8bpN2alkUEQqa4y {\n\t\tright: -100%;\n\t\ttransform: translateX(100%);\n\t}\n\n\t.JnnkLejNKU4bHGW3yOTf.usC0x8bpN2alkUEQqa4y.iiACSOhlBkRZwex76wd8 {\n\t\t\ttransform: translateX(0);\n\t\t\tright: 25px;\n\t\t}\n\n\t.JnnkLejNKU4bHGW3yOTf .OA094g8WYr7Z0qhi643p {\n\t\ttop: -22px;\n\t\tright: -1px;\n\t\theight: auto;\n\t\tline-height: 20px;\n\t\tpadding: 5px;\n\t\tpadding-top: 0px;\n\t\tpadding-bottom: 2px;\n\t\tposition: absolute;\n\t\tbackground-color: rgb(238, 238, 238);\n\t\tborder-top-left-radius: 5px;\n\t\tborder-top-right-radius: 5px;\n\t\tborder: 1px solid rgb(204, 204, 204);\n\t\tborder-bottom: none;\n\t\tz-index: 59999;\n\t\tfont-family: 'Trebuchet MS', Helvetica, Verdana, Arial;\n\t\tfont-size: 12px;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\t\tuser-select: none;\n\t\topacity: 1;\n\t\ttransition: opacity 400ms ease-in-out;\n\t}\n\n\t.JnnkLejNKU4bHGW3yOTf .OA094g8WYr7Z0qhi643p.Mnh1xADCRXYqMKgY3k5V {\n\t\t\topacity: 0;\n\t\t\tpointer-events: none;\n\t\t}\n\n\t.JnnkLejNKU4bHGW3yOTf .BSgCnkHbXnNg4VsVJR38 {\n\t\tposition: relative;\n\t\tmax-width: 100%;\n\t\ttext-align: left;\n\t\tdirection: ltr;\n\t\tbackground-color: #000;\n\t\toverflow: hidden;\n\t}\n\n\t.JnnkLejNKU4bHGW3yOTf video {\n\t\twidth: 100% !important;\n\t\theight: 100% !important;\n\t\tobject-fit: contain !important;\n\t\tmargin: auto;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbackground-color: #000;\n\t}\n\n\n\n.P0Up3bTapI1joHk998sc {\n\tposition: relative;\n\tdisplay: block;\n\tmargin: auto;\n\tbackground-color: #000;\n\toverflow: hidden;\n\n}\n\n\n\n.P0Up3bTapI1joHk998sc:not(.iiACSOhlBkRZwex76wd8) {\n\t\theight: 0px !important;\n\t}\n\n\n\n.P0Up3bTapI1joHk998sc.YHOm9xNzfPxdOVofYBq1:not(.iiACSOhlBkRZwex76wd8) {\n\t\theight: 0px !important;\n\t}\n\n\n\n.P0Up3bTapI1joHk998sc video {\n\t\twidth: 100% !important;\n\t\theight: auto !important;\n\t\tobject-fit: contain !important;\n\t\tmargin: auto;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\tbackground-color: #000;\n\t}",""]),a.locals={slider:"JnnkLejNKU4bHGW3yOTf",top:"bbs82Z3jwItCKA4idy8H",bottom:"rNOl8K0dWUc9FqBR59dp",left:"j9bZ7Ln2CLnWvWG4G2IM",appear:"iiACSOhlBkRZwex76wd8",right:"usC0x8bpN2alkUEQqa4y",closer:"OA094g8WYr7Z0qhi643p",closerHidden:"Mnh1xADCRXYqMKgY3k5V",wrapper:"BSgCnkHbXnNg4VsVJR38",inText:"P0Up3bTapI1joHk998sc",loaded:"YHOm9xNzfPxdOVofYBq1"};const s=a},t=>{"use strict";t.exports=function(t){return t[1]}},t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=n(89),o=n(90),i=n(97);function a(t){var e=t.refs,n=t.onPlayChange,a=t.onVolumeChange,s=t.onMuteButtonClick,c=t.controls;function u(){var t=e.video.value.paused,n=e.playBtn.value;n.classList.remove(o.default.iconPlay.split(" "),o.default.iconPause.split(" ")),n.classList.add(t?o.default.iconPlay:o.default.iconPause)}function l(){var t=e.mutedBtn.value,n=e.video.value;t.classList.remove(o.default.iconMute,o.default.iconSpeaker),t.classList.add(n.muted||n.volume<=0?o.default.iconMute:o.default.iconSpeaker)}function f(t){var n=function(e){var n=1-e/t.offsetHeight;return n<.06&&(n=0),Math.max(0,Math.min(1,n))},i=function(t){(0,r.isEventTrusted)(t)&&(e.video.value.muted=!1,e.video.value.volume=n(t.offsetY))};t.addEventListener("drag",(function(t){return t.preventDefault()})),t.addEventListener("mousedown",(function(r){r.preventDefault(),r.stopPropagation(),t.classList.add(o.default.lock),e.video.value.volume=n(r.offsetY),t.addEventListener("mousemove",i);window.top.addEventListener("mouseup",(function e(){t.removeEventListener("mousemove",i),t.classList.remove(o.default.lock),window.top.removeEventListener("mouseup",e)}))}));var a=e.video.value;a&&(a.addEventListener("volumechange",d),a.addEventListener("play",u),a.addEventListener("pause",u))}function d(t){if((0,r.isEventTrusted)(t)){var n=e.volumeDot.value,o=t.target.muted?0:t.target.volume;n.style.transform="translateY(-".concat(55*o,"px)"),l(),a(o)}}return i("div",{style:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).map((function(e){return t[e]})).filter((function(t){return t})).length}(c)?"display: block;":"display: none;"},i("span",{class:"".concat(o.default.playerBtn," ").concat(o.default.volumeContainer," ").concat(c.volume?"":o.default.hide)},i("span",{ref:f,class:o.default.volume},i("span",{ref:e.volumeDot,class:o.default.volumeDot})),i("span",{ref:e.mutedBtn,class:"".concat(o.default.icon," ").concat(o.default.iconCenter," ").concat(o.default.iconMute),onClick:function(t){if((0,r.isEventTrusted)(t)){s&&s(),t.target.parentElement.setAttribute("data-unmuted","true");var n=e.video.value;!(n.muted=!(n.muted||!(n.volume>0)))&&n.volume<.08?n.volume=.2:n.volume=0,l()}}})),i("span",{class:"".concat(o.default.playerBtn," ").concat(o.default.playPauseBtn),"data-hidden":"true",ref:e.playBtnWrapper},c.volume?"":i("span",{ref:f,class:o.default.volume},i("span",{ref:e.volumeDot,class:o.default.volumeDot})),i("span",{ref:e.playBtn,class:"".concat(o.default.icon," ").concat(o.default.iconCenter," ").concat(o.default.iconPause),onClick:function(t){if((0,r.isEventTrusted)(t)){var o=e.video.value;o.paused?(o.play(),n(t,!0)):(o.pause(),n(t,!1))}}})))}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{isEventTrusted:()=>r});var r=function(t){return!!t&&!!t.isTrusted}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(79),o=n.n(r),i=n(80),a=n.n(i),s=n(81),c=n.n(s),u=n(82),l=n.n(u),f=n(83),d=n.n(f),p=n(84),h=n.n(p),v=n(91),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=d();o()(v.default,m);const g=v.default&&v.default.locals?v.default.locals:void 0},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var r=n(86),o=n.n(r),i=n(87),a=n.n(i),s=n(92),c=n.n(s),u=new URL(n(93),n.b),l=new URL(n(94),n.b),f=new URL(n(95),n.b),d=new URL(n(96),n.b),p=a()(o()),h=c()(u),v=c()(l),m=c()(f),g=c()(d);p.push([t.id,`.N9dr9HTuH5_wl6ntqt58 {\n\tposition: absolute;\n\tbottom: 10px;\n\tborder-radius: 6px;\n\ttransition: all ease 200ms;\n\tcursor: pointer;\n\tz-index: 100;\n\tbackground-color: rgba(103, 103, 103, 0.4);\n}\n\n\t.N9dr9HTuH5_wl6ntqt58:hover {\n\t\tbackground-color: rgba(103, 103, 103, 0.65);\n\t}\n\n\t.N9dr9HTuH5_wl6ntqt58[data-hidden='true'] {\n\t\tdisplay: none;\n\t}\n\n\t.N9dr9HTuH5_wl6ntqt58[data-hidden='false'] {\n\t\tdisplay: inline-block;\n\t}\n.BrCQ28G_32pLWVLMyoyW {\n\tleft: 10px;\n}\n.bQmCWYiyu5ZHkybsYO0c {\n\tright: 10px;\n}\n\n.qVczrsR1F8EdQBOBdqul {\n\tdisplay: inline-block;\n\twidth: 34px;\n\theight: 28px;\n\tbackground-size: auto 20px;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n}\n\n.JaGqcZMowRUVATbIavVp {\n\tbackground-image: url(${h});\n}\n.y8GxYWSGho6qATkSAs_D {\n\tbackground-image: url(${v});\n}\n\n.SJJdmhgqWJxPDohnbtqI {\n\tbackground-image: url(${m});\n}\n\n.bypLu7p1THJe_PQnYROC {\n\tbackground-image: url(${g});\n}\n\n.aZFbZqPj7ykgbC6JprAg {\n\tdisplay: flex;\n    align-items: center;\n}\n\n.KbsUVhntZTf9r9ooPfV3 {\n\tdisplay: block;\n\tcursor: pointer;\n\tposition: relative;\n\ttransition: all ease 200ms;\n\toverflow: hidden;\n}\n\n.KbsUVhntZTf9r9ooPfV3::before {\n\t\tbackground-color: gray;\n\t\twidth: 4px;\n\t\tdisplay: block;\n\t\tmargin: 0 auto;\n\t\tcontent: '';\n\t\theight: 0;\n\t\ttransition: all ease 200ms;\n\t}\n\n.Oc40ngdsM0WJEZDJqgwY {\n\t\theight: 8px;\n\t\twidth: 8px;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 50%;\n\t\tmargin-left: -4px;\n\t\tbackground-color: white;\n\t\tborder-radius: 8px;\n\t\tpointer-events: none;\n\t}\n\n.bQmCWYiyu5ZHkybsYO0c[data-unmuted="true"]:hover .KbsUVhntZTf9r9ooPfV3, .KbsUVhntZTf9r9ooPfV3.Z0M7auxIUUuhNahsu_0g {\n\t\tpadding-top: 15px;\n\t}\n\n.bQmCWYiyu5ZHkybsYO0c[data-unmuted="true"]:hover .KbsUVhntZTf9r9ooPfV3::before, .KbsUVhntZTf9r9ooPfV3.Z0M7auxIUUuhNahsu_0g::before {\n\t\t\theight: 60px;\n\t\t}\n.pwMx6eARCXPcDXk_Aqwb {\n\tdisplay: none;\n}\n`,""]),p.locals={playerBtn:"N9dr9HTuH5_wl6ntqt58",playPauseBtn:"BrCQ28G_32pLWVLMyoyW",volumeContainer:"bQmCWYiyu5ZHkybsYO0c",icon:"qVczrsR1F8EdQBOBdqul",iconMute:"JaGqcZMowRUVATbIavVp",iconSpeaker:"y8GxYWSGho6qATkSAs_D",iconPlay:"SJJdmhgqWJxPDohnbtqI",iconPause:"bypLu7p1THJe_PQnYROC",iconCenter:"aZFbZqPj7ykgbC6JprAg",volume:"KbsUVhntZTf9r9ooPfV3",volumeDot:"Oc40ngdsM0WJEZDJqgwY",lock:"Z0M7auxIUUuhNahsu_0g",hide:"pwMx6eARCXPcDXk_Aqwb"};const y=p},t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAZRJREFUWAntlD1Ow0AQhROEQPxUhI6egIS4QDgJEg00HCSHoEAiBXTkDHAGhBCiouICIAQ05ntOxtk1liJPbNN4pJednd15bzKZTafTWtsBZweSJFkHV870xdIQ3gePIFmMyZGN5gn4kLjMQeFLQWsNXEo0NB9bySwE++AhFDa/JFX56wgdg3cTzK/lGeOMZduK2Pwm16UmxYq0Ki+ARmpebkEvFGS/VxTP7nDosoxg6kAi8TdwD9IiWCWu/w3Fh/mcdM+By/JkkGwDiVsRA3wTv8FfDXO6tuHANYRdzDhshUrffAx2LcZ6B065/h3EZq4K8NiMIfbgOgLqgvAKduIbk13lQyhaxPosFxOJzg/rClD7o8HUeeUFTMXV/i2gtg/AC9DPMS4qgnhaNWflLU0OPmCwV5ANHLEesMGs/RVIbAiiaWev1/Ennk0wh5W9gqAhc91sBvScigyGc/A1l6nOCzTnEDyrS3mrUzfiRngTXP9bAVYNBZyBTyvE4o2uiB+AJxXRqHAohvYGGIWx1m874OnAL1FHkmqT29miAAAAAElFTkSuQmCC"},t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAmtJREFUWAntls9LVFEUx50MKgdnEQaSJC7CSNKFJSlKbdwJugsJWkn07wQtWkWCGKmrFkGbWoQgoqsSFyI0FEiLEApEg+L5+d6553GdH+/NjPN2c+A75957ft4z9517Ozra1K5AkxWIoqgLvG7S/HxmBL4NdkCU5AlxAcyCGdBZTfditcWkNRw9Qf4S5FP0FPAuGAGKcw3blVwud8w4plw8ShlgfAWVF2AhVMVhog/s+tCfB92gCJYw+Q93lGhsSji5xXgNDNua8bQEpId9AfYUKIktbN7DHV2wQS2O8WNk26AieLkNunnwUDyUEfAP87fgHxhDPgB3FFeAxcQDZQblPKwALmaRj4K/4B2y3VAf+TTzKfAD2SvJUisgpXoI59rMV7AHLoFHrA3BQ1pncgJuIOuVoGUJsKMIfANv8PtJzqE5AsV/BzIFV5Iil1zLEij5LP0S6DMjq8T9UMZ438/7xTNJwAfY8HzQc2M//aBHPMsEDnygq54bO/ID9ZVME7CAiTzLClz3kQ/LMrBD6VpylglM+MA6jCG5z4+FX1rMJAE+vQf41uFTQ9oEId30k+/iuqVaQgRVIxoA2rmdfHVDO3S6Ey4js5buumTLEiAQ/iM5t51XtGJkasNKQq3YfY5xAizE9wIKMeH0GZPnQIZp9BGF32Abd/HOZYQfXcvjGkPSc1Q1qAmNY6xHxSrQtXyGaiUeKmHf/HUsRwT5ArsHljVvhPzO7S1QxPZDaF9XBUIDHOpFpJeR62S1KoCenmT6GiaB/uoiqHiSsdY44fwO2AWJbwjEqY/SxqN7C5zr9bPYtIO2YbsCvgKnv2/cU9Aqw4MAAAAASUVORK5CYII="},t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAASlJREFUWAntVrERwjAMDNzRUbMAGzAD7AAzADUlzADMADvADDABC1DTURBedxROYjuSLZsCfPd3jqToFSUvpyj+y9GBsixPwMjhTm8GOa0XcACG6RlrDMRurCf2W2BQC0t3aZCb2wcu1kA/HfMns8lq2d9hmwO9ZIVYSG2mG4xToKNeiI3NY7vAN1YtwkPmc+lJ18fS4iPpHoE46baQcNwk3R0QJl0OAzMmTLrM5JIwku4C4ElXklkYW5GuU7+UVFVWzWRXmFbdpj2rxdmAQthWSTi9ghngJqceSDIyY+kjXALZP0KS4QaQnaC4IXbRINoD2QfRV0fxGU+s8x8p7D8dxxNVATMLqEy1nAXI5npIZY4OhElKoYC4sz2iAB1JBRagJ6mQAn7mnjeRiFQYoN5dcwAAAABJRU5ErkJggg=="},t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAEdJREFUWAnt17EKACAIBUDt//+5WtpsaCro3iIoYtxWxO/JHUCfqWY5U/VX73SvrcVb1QMIECBAgAABAgQIECBA4NaP7J27AxT1CDj6xo1AAAAAAElFTkSuQmCC"},t=>{function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=function t(e,n){n.forEach((function(n){Array.isArray(n)?n.forEach((function(n){return t(e,[n])})):"object"===r(n)?e.appendChild(n):e.appendChild(document.createTextNode(n))}))};t.exports=function(t,n){for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];if("function"==typeof t)return t(n,a);var c=document.createElement(t);return Object.entries(n||{}).forEach((function(t){var n=e(t,2),o=n[0],i=n[1];"ref"===o?"function"==typeof i?i(c):"object"===r(i)&&null!==i&&(i.value=c):o.startsWith("on")&&o.toLowerCase()in window?c.addEventListener(o.toLowerCase().substr(2),i):c.setAttribute(o,i)})),o(c,a),c}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{checkIsMobile:()=>a});var r=n(72),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,i=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,a=function(){var t=!1,e=window.navigator.userAgent||navigator.vendor||window.opera,n=window.navigator.userAgentData;return n&&void 0!==n.mobile&&(t=n.mobile),e&&(t=o.test(e)||i.test(e.substr(0,4))),!("development"!==r.envVars.NODE_ENV||"#mobile"!==window.location.hash&&!t)||t}},(t,e)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.objectToCssStyle=e.base64Decode=e.base64Encode=e.sanitizeString=e.useListeners=e.deepFreeze=e.isObject=e.randomStringOfDigits=e.generateGUUID=void 0;e.generateGUUID=function(t){return t?(0|16*Math.random()).toString(16):"10000000-1000-4000-8000-100000000000".replace(/1|0/g,e.generateGUUID)};e.randomStringOfDigits=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e="0123456789",n="",r=0;r<t;r++){n+=e[Math.floor(10*Math.random())]}return n};e.isObject=function(t){return"object"===o(t)&&null!==t&&!Array.isArray(t)};e.deepFreeze=function(t){return Object.keys(t).forEach((function(n){var r=t[n];"object"===o(r)&&null!==r&&(0,e.deepFreeze)(r)})),Object.freeze(t)};e.useListeners=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||"function"!=typeof t)throw new Error('"useListeners" first argument has to be a callback function');Array.isArray(e)&&e.length>0?e.forEach((function(e){return e(t)})):t()};e.sanitizeString=function(t){return t.replace(/[$%^&*()_\-+={}[\]#./?><:@~"|\\']/g,"")};e.base64Encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return btoa(t)}catch(t){return null}};e.base64Decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return atob(t)}catch(t){return null}};e.objectToCssStyle=function(t){return Object.entries(t).map((function(t){var e=n(t,2),r=e[0],o=e[1],i=r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();return"".concat(i,":").concat(o)})).join(";")}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=n(78),o=n(88),i=n(97);const a=function(t){var e=t.slot,n=t.width,a=t.height,s=t.refs,c=t.controls,u=t.animationDuration,l=void 0===u?0:u,f=t.onWindowResize,d=t.onVolumeChange,p=t.onPlayChange,h=t.onMuteButtonClick,v=n/a,m=function(){var t=(e.getBoundingClientRect().width||n)/v,r=v*t;return r>n&&(r=n),t>a&&(t=a),{width:r,height:t}},g=m();f((function(){var t=m();s.container.value.style.height="".concat(t.height,"px"),s.container.value.style.width="".concat(t.width,"px"),s.wrapper.value.style.height="".concat(t.height,"px"),s.wrapper.value.style.width="".concat(t.width,"px")}));var y=s.video.value||i("video",{ref:s.video,autoplay:!0,muted:!0,playsinline:!0,width:n,height:a});return i("div",{ref:s.container,class:"".concat(r.default.inText),style:"width: ".concat(g.width,"px; height: ").concat(g.height,"px; transition: height ").concat(l,"ms ease-in-out;")},i("div",{ref:s.adSlot}),i("div",{ref:s.wrapper,style:"width: ".concat(g.width,"px; height: ").concat(g.height,"px; margin: 0 auto; position: relative;")},y,i(o.default,{controls:c,refs:s,onPlayChange:p,onVolumeChange:d,onMuteButtonClick:h}),i("div",{ref:s.displayContainer})))}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var r=n(102),o=n(97);const i=function(t){var e=t.refs;return o("div",{ref:e.container,class:"vpaid-adapter ".concat(r.default.vpaidAdapter),style:"width: 100%; height: 100%; max-width: 100%;"},o("div",{ref:e.wrapper,style:"width: 100%; height: 100%; margin: 0 auto; position: relative;"},e.video.value,o("div",{ref:e.displayContainer,style:"position: absolute;"})))}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(79),o=n.n(r),i=n(80),a=n.n(i),s=n(81),c=n.n(s),u=n(82),l=n.n(u),f=n(83),d=n.n(f),p=n(84),h=n.n(p),v=n(103),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=d();o()(v.default,m);const g=v.default&&v.default.locals?v.default.locals:void 0},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(86),o=n.n(r),i=n(87),a=n.n(i)()(o());a.push([t.id,".SJ6J4XzCMBzlLyAgsSfj {\n\tposition: relative;\n\tdisplay: block;\n\tmargin: auto;\n\tbackground-color: #000;\n\toverflow: hidden;\n\n}\n\n\t.SJ6J4XzCMBzlLyAgsSfj video {\n\t\twidth: 100% !important;\n\t\theight: 100% !important;\n\t\tobject-fit: contain !important;\n\t\tmargin: auto;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\tbackground-color: #000;\n\t}\n",""]),a.locals={vpaidAdapter:"SJ6J4XzCMBzlLyAgsSfj"};const s=a},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=n(105),o=n(106),i=n(107);const a=function(t,e,n){if(r.default.randomUUID&&!e&&!t)return r.default.randomUUID();var a=(t=t||{}).random||(t.rng||o.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=a[s];return e}return(0,i.unsafeStringify)(a)}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}},(t,e,n)=>{"use strict";var r;n.r(e),n.d(e,{default:()=>i});var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s,unsafeStringify:()=>a});for(var r=n(108),o=[],i=0;i<256;++i)o.push((i+256).toString(16).slice(1));function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]}const s=function(t){var e=a(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,r.default)(e))throw TypeError("Stringified UUID is invalid");return e}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(109);const o=function(t){return"string"==typeof t&&r.default.test(t)}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},(t,e,n)=>{"use strict";n.r(e),n.d(e,{PLAYER_TYPES:()=>c,resolveConfig:()=>l,setupConfig:()=>f});var r=n(99);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){var r;return r=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==o(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=["slider","intext","adapter"],u={volume:0,test:[],autoloader:!0,logger:!0,loggerPrefix:"[VP]",htmlConfig:{type:"slider",slot:"",width:400,height:225,widthMbl:224,heightMbl:126,controls:{playPause:!1,volume:!1},closeText:"CLOSE AD",closeTextMbl:"CLOSE AD",showCloseBtnAfter:0,showCloseBtnAfterMbl:0,margin:"0px 0px 0px 0px",marginMbl:"0px 0px 0px 0px",appearAt:"bottom right",appearAtMbl:"bottom right",spaSite:!1},dataConfig:{siteId:"16962",zoneId:0,zoneIdMbl:0,pid:0,logTime:5e3,passback:null,passbackMbl:null,passbackEncoded:!1,beginCallFiveSecondsToEnd:!0,consentStringTimeout:1e3,allowedEvents:[],placeholdersReplace:{},adTimeOut:1e4,loop:0,maxServerCalls:999,adVerification:!0,onImpression:""}},l=function(t){return a(a(a({},u),t),{},{htmlConfig:a(a({},u.htmlConfig),t.htmlConfig),dataConfig:a(a({},u.dataConfig),t.dataConfig)})},f=function(t,e,n){var o=n.logger,i=n.isMobile,a=(0,r.deepFreeze)(l(t));try{!function(t,e){if(!e)throw new Error('"top" window reference is required');if(!c.some((function(e){return t.htmlConfig.type===e})))throw new Error('"htmlConfig.type" can be one of: '.concat(c.map((function(t){return'"'.concat(t,'"')})).join(", ")));if("intext"===t.htmlConfig.type&&!t.htmlConfig.slot)throw new Error('"htmlConfig.slot" is required for "intext" player type');if(!t.dataConfig.pid)throw new Error('"dataConfig.pid" is required');if(!t.dataConfig.zoneId&&!t.dataConfig.zoneIdMbl)throw new Error('At least one zone (device) is required: "dataConfig.zoneId" or "dataConfig.zoneIdMbl"')}(a,e),function(t,e){if(e&&!t.dataConfig.zoneIdMbl)throw new Error('"dataConfig.zoneIdMbl" is required for mobile devices');if(!e&&!t.dataConfig.zoneId)throw new Error('"dataConfig.zoneId" is required for desktop devices')}(a,i)}catch(t){return o.error(t),null}return a}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r={firstImpression:{name:"vido_first_impression",expiresIn:864e5,set:!1},visitorId:{name:"vido_visitor_id",expiresIn:864e5}}},(t,e,n)=>{"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";document.cookie="".concat(t,"=").concat(e,";path=").concat(r,";").concat(n?"expires=".concat(n,";"):"","SameSite=None;secure")}function o(t){var e=document.cookie.split("".concat(t,"="));return 2===e.length?e.pop().split(";").shift():null}n.r(e),n.d(e,{getCookie:()=>o,setCookie:()=>r})},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){var o;return o=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==r(o)?o:String(o))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,{createDemoData:()=>s});var s=function(t,e){return{principalTags:t.map((function(t,n){var r=n+1-e,o={id:n+1,url:t,timesToCall:r<0?0:r,delay:n<=2?0:5,r:n<=2?null:"1692402910683000000:0cjfl20er0qh6gvujuggg:1692402900147000000:11@60",brandLiftId:2===n?5:null};return"string"==typeof t?o:i(i({},o),t)})),gptTags:[{id:"gpt-banner-1",unitCode:"/22243774984/VID_0017_300x250_Lexus1_Display_Display",sizes:[[300,250]],reloadTime:0,duration:0,showAfter:10,r:""}]}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{useUrlListener:()=>r});var r=function(t,e,n){var r=n.logger,o=t.location.href,i=t.location.hash;new MutationObserver((function(){t.location.href!==o&&(o=t.location.href,r.log("[URL] href: ".concat(t.location.href)),e(o,i))})).observe(t.document,{subtree:!0,childList:!0}),t.onhashchange=function(){var n=t.location.hash;n!==i&&(r.log("[URL] hash: ".concat(n)),e(o,i=n))}}},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){var o;return o=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==r(o)?o:String(o))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return t.replace(/_/g,"").toLowerCase()}function c(t){var e={},n=[/{{\s*([a-zA-Z0-9_]+)\s*}}/g,/\$\$\s*([a-zA-Z0-9_]+)\s*\$\$/g,/\[\s*([a-zA-Z0-9_]+)\s*\]/g];for(var r in t)e[s(r)]=t[r];var o=function(t,n){e[s(t)]="function"==typeof n?n:String(n)};return{get:function(t){var n=s(t);return"function"==typeof e[n]?e[n](e):String(e[n])},set:o,setAll:function(t){for(var e in t)o(e,t[e])},replace:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="";o="string"==typeof t?t:function(t){var e=Object.keys(t).map((function(e){return"".concat(e,"={{").concat(t[e],"}}")}));return e.join("&")}(t);var a=i(i({},e),r);return n.forEach((function(t){o=o.replace(t,(function(t,e){e=s(e);var n=a[e];return(n="function"==typeof n?n(a):n)||0===n?n:""}))})),o}}}n.r(e),n.d(e,{Macro:()=>c})},(t,e,n)=>{"use strict";function r(t){for(var e=t.split("."),n=[],r=e.length-1;r>=0&&(n.push(e[r]),!(1!==n.length&&e[r].length>3));r--);return n.reverse().join(".")}n.r(e),n.d(e,{getDomainWithoutSubdomain:()=>r})},(t,e,n)=>{"use strict";function r(t){var e=document.createElement("script");e.text=t,(top.document||document).body.appendChild(e)}n.r(e),n.d(e,{safeEval:()=>r})},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupTimeAlive=void 0;var r=n(119);e.setupTimeAlive=function(t){var e=0,n=30,o=0,i=function(){r.TimeAliveAPI.getTimeAlive(t,e,o),o=e,n=e+300};setInterval((function(){++e>=n&&i()}),1e3),window.addEventListener("beforeunload",(function(){i()}))}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{AdsAPI:()=>r.default,TagAPI:()=>i.default,TimeAliveAPI:()=>a.default,TrackingAPI:()=>o.default});var r=n(120),o=n(123),i=n(124),a=n(125)},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(72),o=n(121),i=n(99),a=n(122);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var S={};f(S,a,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(P([])));A&&A!==n&&r.call(A,a)&&(S=A);var T=E.prototype=b.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=E,o(T,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},x(O.prototype),f(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(T),f(T,l,"Generator"),f(T,a,(function(){return this})),f(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var l=r.envVars.AD_SERVER_BASE_URL;const f={getAds:function(t,e){return(n=c().mark((function n(){var r,s,u,f,d;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={domain:"DOMAIN",format:"FORMAT",u:"UNIQUE",zoneId:"ZONEID",loop:"LOOP",cStringStatus:"CSTRINGSTATUS",pageUrl:"PAGEURL",keywords:"PAGEKEYWORDS",pversion:"PVERSION"},s=t.replace(r),s+="&timeElapsed=".concat(e),u=JSON.parse(window.localStorage.getItem(a.itemBrandLiftTags)||"[]"),f={"vidoomy-brandlift":(0,i.base64Encode)(JSON.stringify(u.filter((function(t){return!t.complete})).map((function(t){return t.id})))),"Content-Transfer-Encoding":"base64"},d="".concat(l,"/ad/get?data=").concat((0,i.base64Encode)(s)),n.abrupt("return",(0,o.requestGETXHR)(d,f,null,!0,!0));case 7:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))})();var n}}},(t,e,n)=>{"use strict";function r(){r=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:C(t,n,s)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var S={};f(S,c,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(P([])));A&&A!==n&&o.call(A,c)&&(S=A);var T=E.prototype=b.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(r,a,s,c){var u=p(t[r],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var r;a(this,"_invoke",{value:function(t,o){function i(){return new e((function(e,r){n(t,o,e,r)}))}return r=r?r.then(i,i):i()}})}function C(e,n,r){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=E,a(T,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},x(O.prototype),f(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(T),f(T,l,"Generator"),f(T,c,(function(){return this})),f(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function o(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){var r;return r=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==i(r)?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,{requestGET:()=>d,requestGETXHR:()=>h,requestPOST:()=>p,requestPOSTXHR:()=>v});var u=!window.navigator.cookieEnabled||!("cookie"in document);function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((function(l,f){var d={method:t.toUpperCase(),credentials:c?"include":"same-origin",headers:{}};if(n&&(d.headers=s(s({},d.headers),n)),"get"!==t&&a)try{"string"==typeof a?d.body=a:("object"===i(a)||Array.isArray(a))&&(d.body=JSON.stringify(a),d.headers["Content-Type"]="application/json")}catch(t){d.body=a}u&&(d.headers["Accept-Cookie"]="false"),fetch(e,d).then(function(){var t,e=(t=r().mark((function t(e){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=6;break}return t.t0=Error,t.next=4,e.text();case 4:throw t.t1=t.sent,new t.t0(t.t1);case 6:if(!(n=e.headers.get("content-type"))||!n.includes("application/json")){t.next=11;break}return t.abrupt("return",e.json().then((function(t){return{json:t,headers:e.headers}})));case 11:return t.abrupt("return",e.text().then((function(t){return{text:t,headers:e.headers}})));case 12:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,c,"next",t)}function c(t){o(a,r,i,s,c,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}()).then((function(t){var e=t.json,n=t.text,r=t.headers;l({data:e||n||null,headers:Object.fromEntries(r)})})).catch((function(t){f(t)}))}))}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return new Promise((function(s,l){var f=new XMLHttpRequest,d="get"!==t&&r?n["Content-Transfer-Encoding"]?r:JSON.stringify(r):null;if(f.open(t.toUpperCase(),e,o),f.withCredentials=i,o||(f.timeout=a),u&&f.setRequestHeader("Accept-Cookie","false"),"get"!==t&&r&&f.setRequestHeader("Content-Type","application/json"),n)for(var p in n)f.setRequestHeader(p,n[p]);f.send.apply(f,d?[d]:[]);var h=function(){var t=null;if(f.responseText)try{t=JSON.parse(f.responseText)}catch(t){}var e=f.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce((function(t,e){var n=e.split(": ",2);return Object.assign(t,c({},n[0],n.slice(1).join(": ")))}),{});return{status:f.status,data:t||f.responseText||null,headers:e}};f.onload=function(){f.status>=400?l(new Error("HTTP ".concat(f.status))):s(h())},f.onerror=function(t){t.response={data:h()},l(t)}}))}var d=l.bind(null,"get"),p=l.bind(null,"post"),h=f.bind(null,"get"),v=f.bind(null,"post")},(t,e,n)=>{"use strict";n.r(e),n.d(e,{itemBrandLiftTags:()=>r});var r="vidoomy-brand-lift-tags"},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(121),o=n(99);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var S={};f(S,c,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(P([])));A&&A!==n&&r.call(A,c)&&(S=A);var T=E.prototype=b.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,a,s,c){var u=p(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=E,o(T,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},x(O.prototype),f(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(T),f(T,l,"Generator"),f(T,c,(function(){return this})),f(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}const u={postTrackingEvent:function(t){return c(a().mark((function e(){var n,i,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL(t),i=n.search.substring(1),s=(0,o.base64Encode)(i),n.search="?data=".concat(s),c=n.toString(),u={"Content-Transfer-Encoding":"base64"},e.abrupt("return",(0,r.requestPOSTXHR)(c,u,null,!0,!0));case 7:case"end":return e.stop()}}),e)})))()},postAdTagRequest:function(t){var e=arguments;return c(a().mark((function n(){var i,s,c,u,l,f,d,p;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.length>1&&void 0!==e[1]?e[1]:null,s=e.length>2?e[2]:void 0,c=new URL(t),u=c.search.substring(1),l=(0,o.base64Encode)(u),c.search="?data=".concat(l),f=c.toString(),d=i?(0,o.base64Encode)(JSON.stringify(i)):i,p={"Content-Transfer-Encoding":"base64"},n.abrupt("return",(0,r.requestPOSTXHR)(f,p,d,s,!0));case 10:case"end":return n.stop()}}),n)})))()},postWaterfallComplete:function(t){var e=new URL(t),n=e.search.substring(1),i=(0,o.base64Encode)(n);e.search="?data=".concat(i);var a=e.toString();return(0,r.requestPOSTXHR)(a,{"Content-Transfer-Encoding":"base64"},null,!0,!0)}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(121);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:C(t,n,s)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var S={};f(S,c,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(P([])));A&&A!==n&&r.call(A,c)&&(S=A);var T=E.prototype=b.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,a,s,c){var u=p(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return w.prototype=E,a(T,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},x(O.prototype),f(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(T),f(T,l,"Generator"),f(T,c,(function(){return this})),f(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function a(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}const s={getTag:function(t,e){return(n=i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,r.requestGETXHR)(t,null,null,!0,e,2e3));case 1:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function s(t){a(i,r,o,s,c,"next",t)}function c(t){a(i,r,o,s,c,"throw",t)}s(void 0)}))})();var n}}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var r=n(72),o=n(121),i=n(99);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var S={};f(S,c,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(P([])));A&&A!==n&&r.call(A,c)&&(S=A);var T=E.prototype=b.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,s,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=E,o(T,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},x(O.prototype),f(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(T),f(T,l,"Generator"),f(T,c,(function(){return this})),f(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var u=r.envVars.AD_SERVER_BASE_URL;const l={getTimeAlive:function(t,e,n){return(r=s().mark((function r(){var a,c,l,f;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={zoneId:"ZONEID",pageUrl:"PAGEURL"},(c=new URLSearchParams(t.replace(a))).set("timeAlive",e),c.set("lastReportedTimeAlive",n),(l=new URL("".concat(u,"/timealive"))).searchParams.set("data",(0,i.base64Encode)(c.toString())),f={"Content-Transfer-Encoding":"base64"},r.abrupt("return",(0,o.requestGETXHR)(l,f,null,!0,!0));case 8:case"end":return r.stop()}}),r)})),function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){c(i,n,o,a,s,"next",t)}function s(t){c(i,n,o,a,s,"throw",t)}a(void 0)}))})();var r}}},(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:String(e)}n.r(e),n.d(e,{default:()=>a});const a=function(){function t(e){var n=e.interval,r=void 0===n?1e3:n,o=e.limit,i=e.callback;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.counter=0,this.limit=o,this.interval=r,this.intervalRef=null,this.callback=i}var e,n,r;return e=t,(n=[{key:"handler",value:function(){this.counter+=1,this.counter<=this.limit?this.callback():this.stop(),this.counter===this.limit&&this.stop()}},{key:"start",value:function(){clearInterval(this.intervalRef),this.counter=0,this.intervalRef=setInterval(this.handler.bind(this),this.interval)}},{key:"stop",value:function(){this.counter=0,clearInterval(this.intervalRef)}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var r=n(123),o=n(128),i=n(129),a=n(122);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:String(e)}function p(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function h(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var v=new WeakSet;function m(t){var e=this,n=u({},this.accumulatorTagRequest),i=!1;for(var a in this.accumulatorTagRequest){var s=this.accumulatorTagRequest[a];Array.isArray(s)&&s.length>0&&(i=!0),this.accumulatorTagRequest[a]=[]}if(i){var c=this.macro.replace(this.trackingUrl,{event:o.adTagRequest,loop:this.currentTag?this.currentTag.loop:this.loop});r.default.postAdTagRequest(c,n,t).catch((function(t){return e.logger.error(t)}))}}function g(t){var e=window.localStorage.getItem(a.itemBrandLiftTags)||"[]";if(e=JSON.parse(e),t.brandLiftId){-1===e.findIndex((function(e){return e.id===t.brandLiftId}))&&(e.push({id:t.brandLiftId,complete:!1}),window.localStorage.setItem(a.itemBrandLiftTags,JSON.stringify(e)))}else{var n=e.findIndex((function(e){return e.id===t.id}));n>-1&&!e[n].complete&&(e[n].complete=!0,window.localStorage.setItem(a.itemBrandLiftTags,JSON.stringify(e)))}}const y=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,v),this._trackingUrl="",this.trackingListeners=[],this.macro=e,this.logger=r.logger,this.eventHistory=n,this.accumulatorTagRequest={},this.timeoutTagRequestRef=null}var e,n,a;return e=t,(n=[{key:"trackingUrl",get:function(){return this._trackingUrl},set:function(t){this._trackingUrl=t}},{key:"trackEvent",value:function(t,e,n){var o=this,a=this.eventHistory.getTimeElapsed(t).range;t===i.adImpression&&h(v,this,g).call(this,e);var s=this.macro.replace(this.trackingUrl,u({event:t,id:e.id,loop:e.loop,requeststatus:e.status,requestsize:e.size,timeelapsed:a,r:e.r,timescalled:e._meta.timesCalled,tagresponsetype:e._meta.responseType},n&&n.message&&{errormessage:encodeURIComponent(n.message)}));r.default.postTrackingEvent(s,a).catch((function(t){return o.logger.error(t)})),this.trackingListeners.forEach((function(e){"function"==typeof e&&e(t)}))}},{key:"addTrackingEventListener",value:function(t){this.trackingListeners.push(t)}},{key:"setupTagRequest",value:function(t){var e=this;top.onbeforeunload=function(){h(v,e,m).call(e,!1)},top.onblur=function(){h(v,e,m).call(e,!0)},this.timeoutTagRequestRef=setInterval((function(){h(v,e,m).call(e,!0)}),t)}},{key:"accumulateTagRequest",value:function(t){var e=this.eventHistory.getTimeElapsed(o.adTagRequest).range;Array.isArray(this.accumulatorTagRequest[t.id])||(this.accumulatorTagRequest[t.id]=[]),this.accumulatorTagRequest[t.id].push({timeElapsed:e,timesCalled:t._meta.timesCalled,responseType:t._meta.responseType})}}])&&f(e.prototype,n),a&&f(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},(t,e,n)=>{"use strict";n.r(e),n.d(e,{adFormatLoad:()=>o,adTagRequest:()=>i,adViewableImpression:()=>a,default:()=>c,playerLoad:()=>r,waterfallComplete:()=>s});var r="PlayerLoad",o="AdFormatLoad",i="AdTagRequest",a="AdViewableImpression",s="WaterfallComplete";const c={playerLoad:r,adFormatLoad:o,adTagRequest:i,waterfallComplete:s}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{adClickThru:()=>r,adError:()=>o,adImpression:()=>i,adInteraction:()=>d,adPaused:()=>p,adResumed:()=>h,adSkipped:()=>v,adStarted:()=>m,adVideoComplete:()=>u,adVideoFirstQuartile:()=>a,adVideoMidpoint:()=>s,adVideoMuted:()=>l,adVideoThirdQuartile:()=>c,adVideoUnmuted:()=>f,closeLinear:()=>g,default:()=>y});var r="AdClickThru",o="AdError",i="AdImpression",a="AdVideoFirstQuartile",s="AdVideoMidpoint",c="AdVideoThirdQuartile",u="AdVideoComplete",l="AdVideoMuted",f="AdVideoUnmuted",d="AdInteraction",p="AdPaused",h="AdResumed",v="AdSkipped",m="AdStarted",g="closeLinear";const y={adClickThru:r,closeLinear:g,adError:o,adImpression:i,adVideoFirstQuartile:a,adVideoMidpoint:s,adVideoThirdQuartile:c,adVideoComplete:u,adVideoMuted:l,adVideoUnmuted:f,adInteraction:d,adStarted:m,adPaused:p,adResumed:h,adSkipped:v}},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var r=n(124),o=n(131);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var S={};f(S,s,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(P([])));A&&A!==n&&r.call(A,s)&&(S=A);var T=E.prototype=b.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,a,s,c){var u=p(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=E,o(T,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},x(O.prototype),f(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(T),f(T,l,"Generator"),f(T,s,(function(){return this})),f(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}function p(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function h(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var v=new WeakSet,m=function(){function t(e,n){var r=n.logger;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,v),this.tagService=e,this.domParser=new DOMParser,this.logger=r,this.abortController=new AbortController,this.nextLoop=0,this.currentLoop=0,this.impressions=[],this.macroReplacer=null,this.flag={initialized:!1,aborted:!1},this.tags={current:[],unprocessed:[],processing:[],ready:[],gptTags:[]}}var e,n,r,i,a;return e=t,n=[{key:"update",value:(a=l(c().mark((function t(){var e,n,r,o=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=o.length>0&&void 0!==o[0]?o[0]:[],n=o.length>1&&void 0!==o[1]?o[1]:[],r=o.length>2?o[2]:void 0,this.logger.log("Update tags:",e),this.flag.initialized=!0,this.flag.aborted=!1,this.tags.current=e.filter((function(t){return t._meta.timesCalled<t.timesToCall})),this.tags.unprocessed=[],this.tags.processing=[],this.tags.ready=[],this.tags.gptTags=n,this.macroReplacer=r,this.abortController=new AbortController,e.length&&h(v,this,b).call(this,e);case 14:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"abort",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"No reason";this.logger.log("Aborting tag requests. Reason:",t),this.flag.aborted=!0;try{this.abortController&&this.abortController.abort("Aborted"),this.tags.current=[],this.tags.unprocessed=[],this.tags.processing=[],this.tags.ready=[],this.tags.gptTags=[]}catch(t){this.logger.log(t)}}},{key:"getNextTag",value:(i=l(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.flag.initialized){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,h(v,this,g).call(this);case 4:if(e=t.sent){t.next=7;break}return t.abrupt("return",null);case 7:if(!h(v,this,P).call(this,e)){t.next=12;break}return t.abrupt("return",e);case 12:return t.next=14,this.getNextTag();case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"onAdCompleted",value:function(t){this.currentLoop=t}},{key:"onAdError",value:function(t){this.logger.log("onAdError",t),t._meta.adapter!==o.AdAdaptorEnum.GPT&&t._meta.timesCalled<t.timesToCall&&(this.tags.unprocessed.push(t),h(v,this,T).call(this,t))}},{key:"onAdImpression",value:function(t,e){this.nextLoop=t,this.impressions=e,this.tags.unprocessed=[],this.tags.processing=[],this.tags.ready=[],this.abort("Achieved AdImpression")}}],n&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(){return y.apply(this,arguments)}function y(){return(y=l(c().mark((function t(){var e=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=!1,r=Date.now(),o=setInterval((function(){if(n||(e.logger.log("resolving next tag...",e.tags),n=!0),e.tags.ready.length>0)return t(e.tags.ready.shift()),void clearInterval(o);if(h(v,e,E).call(e)&&0===e.tags.gptTags.length)return t(null),void clearInterval(o);if(h(v,e,E).call(e)&&e.tags.gptTags.length>0)return t(e.tags.gptTags.shift()),void clearInterval(o);if(!h(v,e,E).call(e)&&e.tags.gptTags.length>0&&(Date.now()-r)/1e3>=e.tags.gptTags[0].showAfter)return t(e.tags.gptTags.shift()),void clearInterval(o)}),100)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return w=l(c().mark((function t(e){var n,r,o,i,a,s,u,f,d,p,m=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=function(){return f=l(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.logger.log("Running ads with delay ".concat(e," seconds")),n=a[e],r=n.map((function(t){return h(v,s,T).call(s,t)})),t.next=5,Promise.all(r);case 5:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)},u=function(t){return f.apply(this,arguments)},t.next=4,h(v,this,O).call(this,e);case 4:n=t.sent,r=n.all,o=n.group,i=n.delays,this.tags.unprocessed=r,a=o,s=this,0!==Number(i[0])&&(a=h(v,this,_).call(this,o,i)),d=c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Number(e)){t.next=4;break}setTimeout(l(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.impressions[m.currentLoop]){t.next=3;break}return t.next=3,u(e);case 3:case"end":return t.stop()}}),t)}))),1e3*Number(e)),t.next=6;break;case 4:return t.next=6,u(e);case 6:case"end":return t.stop()}}),t)})),t.t0=c().keys(a);case 14:if((t.t1=t.t0()).done){t.next=19;break}return p=t.t1.value,t.delegateYield(d(p),"t2",17);case 17:t.next=14;break;case 19:case"end":return t.stop()}}),t,this)}))),w.apply(this,arguments)}function E(){return!(this.tags.current.filter((function(t){return t._meta.timesCalled<t.timesToCall})).length||this.tags.unprocessed.length||this.tags.processing.length||this.tags.ready.length)}function S(t,e){var n=this;return new Promise((function(r,o){n.abortController.signal.addEventListener("abort",(function r(i){var a=i.target;n.abortController.signal.removeEventListener("abort",r),o(new Error("".concat(a.reason," - tag: ").concat(t.id,", attempt: ").concat(e)))}))}))}function _(t,e){if(e.length){var n={};for(var r in t)n[r-e[0]]=t[r].map((function(t){return t.delay=t.delay-e[0],t}));return e=e.map((function(t){return t-e[0]})),n}return t}function A(t,e,n){t&&e&&n&&(this.tags[e].includes(t)&&this.tags[e].splice(this.tags[e].indexOf(t),1),"ready"!==n&&this.tags[n].includes(t)||this.tags[n].push(t))}function T(t){return x.apply(this,arguments)}function x(){return x=l(c().mark((function t(e){var n,r,o=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.logger.log("Run tag: ".concat(e.id," - TC: ").concat(e._meta.timesCalled,", TTC: ").concat(e.timesToCall)),n=e.timesToCall,r=function(){var t=l(c().mark((function t(i){var a,s,u,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i>n)){t.next=2;break}return t.abrupt("return");case 2:if(!o.flag.aborted){t.next=5;break}return o.logger.log("Cancelling the tag: ".concat(e.id,", attempt: ").concat(e._meta.timesCalled)),t.abrupt("return");case 5:return a=i+1,h(v,o,A).call(o,e,"unprocessed","processing"),t.prev=7,t.next=10,Promise.race([h(v,o,L).call(o,e),h(v,o,S).call(o,e,i)]);case 10:s=t.sent,o.logger.log("Tag: ".concat(s.id," succeeded (attempt ").concat(e._meta.timesCalled,"/").concat(n,")")),h(v,o,A).call(o,e,"processing","ready"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(7),(null===t.t0||void 0===t.t0||null===(u=t.t0.message)||void 0===u?void 0:u.indexOf("Aborted"))>-1?o.logger.log("Tag: ".concat(e.id," aborted (attempt ").concat(e._meta.timesCalled,"/").concat(n,")")):(o.logger.log("Tag: ".concat(e.id," failed (attempt ").concat(e._meta.timesCalled,"/").concat(n,")")),l=i===n,o.tags.processing.includes(e)&&l&&o.tags.processing.splice(o.tags.processing.indexOf(e),1)),r(a);case 19:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e){return t.apply(this,arguments)}}(),r(1);case 4:case"end":return t.stop()}}),t,this)}))),x.apply(this,arguments)}function O(t){return C.apply(this,arguments)}function C(){return(C=l(c().mark((function t(e){var n,r,i,a=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.filter((function(t){if(t._meta.timesCalled>=t.timesToCall)return a.tags.unprocessed.includes(t)&&a.tags.unprocessed.splice(a.tags.unprocessed.indexOf(t),1),!1;t.loop=a.nextLoop;var e=t.r&&Number(t.r.split("@")[1]);return t._meta.rDuration=e||null,t.url=decodeURIComponent(t.url),t.url.startsWith("http://")&&(t.url=t.url.replace(/^http:\/\//i,"https://")),t._meta.adapter===o.AdAdaptorEnum.MOL&&(t.parsedUrl=a.macroReplacer(t.url)),t.delay=Number(t.delay)||0,!0})),r={},n.forEach((function(t){r[t.delay]||(r[t.delay]=[]),r[t.delay].push(t)})),i=Object.keys(r),t.abrupt("return",{all:n,group:r,delays:i});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return k.apply(this,arguments)}function k(){return(k=l(c().mark((function t(e){var n,o,i,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.status="ready-to-request",e.size=-1,e._meta.timesCalled++,t.prev=3,t.next=6,r.default.getTag(e.parsedUrl,!0);case 6:return n=t.sent,o=n.headers["content-type"].includes("application/xml")||n.headers["content-type"].includes("text/xml"),i=o?String(n.data):"",a=h(v,this,I).call(this,i,n),e.xml=i,e.status="success-with-credentials",e.size=e.xml.length,e.isVpaid=a.isVpaid,e.containsAd=a.containsAd,e.verifications=a.verifications,e.verificationNotExecuted=a.verificationNotExecuted,e._meta.responseType=a.responseType,t.abrupt("return",e);case 21:throw t.prev=21,t.t0=t.catch(3),e.status="error-with-credentials",this.logger.error("Failed to fech the tag.",t.t0),t.t0;case 26:return t.prev=26,this.tagService.accumulateTagRequest(e),t.finish(26);case 29:case"end":return t.stop()}}),t,this,[[3,21,26,29]])})))).apply(this,arguments)}function I(t,e){if(!t)return!1;var n={verifications:null,verificationNotExecuted:null,containsAd:!1,isVpaid:!1,responseType:""},r=this.domParser.parseFromString(t,"application/xml"),o=[].concat(a(r.querySelectorAll("MediaFile")),a(r.querySelectorAll("InteractiveCreativeFile"))),i=a(r.querySelectorAll("Ad")),s=a(r.querySelectorAll("Wrapper")),c=i[0]||null,u=c?c.querySelector("AdVerifications"):null,l=u?a(u.querySelectorAll("Verification")):[],f=u?u.querySelector("Tracking[event=verificationNotExecuted]"):null;return n.verifications=l.filter((function(t){return t.querySelector("JavaScriptResource")})),n.verificationNotExecuted=null!=f&&f.textContent?decodeURIComponent(f.textContent):null,(i.length>0||o.length>0||s.length>0)&&(n.containsAd=!0,n.isVpaid=o.some((function(t){var e=t&&t.getAttribute("apiFramework");return!!e&&"vpaid"===e.toLowerCase()}))),n.responseType=h(v,this,R).call(this,e.status,n),n}function R(t,e){return 204!==t&&e.containsAd?t<200||t>=400?"error":e.isVpaid?e.isVpaid?"vpaid":"error":"vast":"empty"}function P(t){if(!t)return!1;var e=t._meta,n=e.rDuration,r=e.receivedAt;if(null!=n){var o=Date.now()-r,i=Math.floor(o/1e3);return this.logger.log("[VALIDATION] Tag: ".concat(t.id," ").concat(i>=n?"invalid":"valid"," - ").concat(i,"sec/").concat(n,"sec (elapsed/duration)")),!(i>=n)}return this.logger.log("[VALIDATION] Tag: ".concat(t.id," skipping expiration check, duration is:"),n),!0}},(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.AdAdaptorEnum=void 0,function(t){t.MOL="mol",t.IMA="ima",t.GPT="gpt"}(n||(e.AdAdaptorEnum=n={}))},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var r=n(128),o=n(129);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e,n){return(e=c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}function u(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}var l=new WeakSet,f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l),this.events={}}var e,n,r;return e=t,n=[{key:"record",value:function(t){this.events[t]={createdAt:Date.now(),dateTime:new Date}}},{key:"getTimeElapsed",value:function(t){var e={seconds:null,range:""},n=p[t];if(!n)return e;var r=this.events[n.start].createdAt,o=Date.now()-r,i=function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}(l,this,d).call(this,o);return e.seconds=i.seconds,e.range=i.range,e}}],n&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){var e={seconds:null,range:""};if(t<0||isNaN(t))return e;var n=t/1e3,r=n<=1.99?0:2*Math.floor(n/2),o=r+1.99;return e.seconds=n,e.range="".concat(r,"-").concat(o),e}var p=a(a(a(a(a(a(a(a(a(a({},r.adFormatLoad,{start:r.playerLoad}),r.adTagRequest,{start:r.playerLoad}),o.adImpression,{start:r.playerLoad}),r.adViewableImpression,{start:r.playerLoad}),o.adVideoFirstQuartile,{start:o.adImpression}),o.adVideoMidpoint,{start:o.adImpression}),o.adVideoThirdQuartile,{start:o.adImpression}),o.adVideoComplete,{start:o.adImpression}),o.adClickThru,{start:o.adImpression}),r.waterfallComplete,{start:r.adFormatLoad})},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var r=n(74),o=n(72),i=n(121),a=n(129);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new R(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var S={};f(S,a,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(P([])));A&&A!==n&&r.call(A,a)&&(S=A);var T=E.prototype=b.prototype=Object.create(S);function x(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?g:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=E,o(T,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},x(O.prototype),f(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(T),f(T,l,"Generator"),f(T,a,(function(){return this})),f(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:String(e)}function d(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function p(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var h=new WeakSet,v=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,h),this.logger=new r.default({environment:o.envVars.NODE_ENV,prefix:"[AdVerification]"}),this.sessionClient=null,this.tag=e,this.refs=n,this.addTrackingEventListener=null,this.videoElement=n.video.value,this.adSession=null,this.adEvents=null,this.mediaEvents=null,this.context=null,this.partner=null,this.resources=null,this.iframe=null,this.events={start:{name:a.default.adStarted,handler:"mediaEvents"},impressionOccurred:{name:a.default.adImpression,handler:"adEvents"},firstQuartile:{name:a.default.adVideoFirstQuartile,handler:"mediaEvents"},midpoint:{name:a.default.adVideoMidpoint,handler:"mediaEvents"},thirdQuartile:{name:a.default.adVideoThirdQuartile,handler:"mediaEvents"},complete:{name:a.default.adVideoComplete,handler:"mediaEvents"}},p(h,this,m).call(this)}var e,n,i;return e=t,(n=[{key:"setAddTrackingEventListener",value:function(t){"function"==typeof t&&(this.addTrackingEventListener=t,p(h,this,E).call(this))}}])&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(){return g.apply(this,arguments)}function g(){var t;return t=c().mark((function t(){var e,n,r,i=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=document.createElement("div"),this.iframe=document.createElement("iframe"),this.iframe.style.display="none",this.iframe.setAttribute("id","vidoomy-verification-frame"),this.iframe.setAttribute("allow-scripts","true"),this.iframe.setAttribute("allow-same-origin","true"),e.appendChild(this.iframe),this.refs.container.value.appendChild(e),n=this.iframe.contentDocument||this.iframe.contentWindow.document,(r=document.createElement("script")).src="".concat(o.envVars.OMID_SERVICE_URL,"/omweb-v1.js"),r.async=!0,r.onload=function(){p(h,i,y).call(i,n)},n.head.appendChild(r);case 14:case"end":return t.stop()}}),t,this)})),g=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))},g.apply(this,arguments)}function y(t){var e=this;if(!this.iframe.contentWindow.sessionClient){var n=t.createElement("script");n.src="".concat(o.envVars.OMID_SERVICE_URL,"/omid-session-client-v1.js"),n.async=!0,n.onload=function(){p(h,e,b).call(e,t)},t.head.appendChild(n)}}function b(t){var e=this,n=document.createElement("script");n.src="".concat(o.envVars.OMID_SERVICE_URL,"/omid-window-manager.js"),n.async=!0,n.onload=function(){p(h,e,w).call(e)},t.head.appendChild(n)}function w(){var t=this;try{if(this.sessionClient=this.iframe.contentWindow.sessionClient,p(h,this,_).call(this),p(h,this,A).call(this,this.partner),this.adSession=new this.sessionClient.AdSession(this.context),this.adSession.setCreativeType("video"),this.adSession.setImpressionType("beginToRender"),this.adEvents=new this.sessionClient.AdEvents(this.adSession),this.mediaEvents=new this.sessionClient.MediaEvents(this.adSession),!this.adSession.isSupported())return this.adSession.error(2,"Verification not supported");try{this.adSession.start()}catch(t){this.adSession.error(3,t.message)}this.adSession.registerSessionObserver((function(e){if("sessionStart"===e.type)t.adEvents.loaded();else{var n;if("sessionError"===e.type&&t.tag.verificationNotExecuted)return p(h,t,T).call(t,(null===(n=e.data)||void 0===n?void 0:n.message)||"Error while starting session");"sessionFinish"===e.type&&p(h,t,x).call(t)}}))}catch(t){this.logger.error(t,"error while initializing AdSession")}}function E(){var t=this,e=function(e){var n=t.events[e];t.addTrackingEventListener((function(r){r===n.name&&p(h,t,S).call(t,e,n)}))};for(var n in this.events)e(n)}function S(t,e){this[e.handler]&&("start"===t?this[e.handler][t](this.videoElement.duration,this.videoElement.volume):this[e.handler][t]())}function _(){var t=this.sessionClient.Partner;this.partner=new t(o.envVars.OMID_PARTNER_NAME,o.envVars.OMID_PARTNER_VERSION)}function A(t){var e=this.sessionClient.Context,n=this.sessionClient.VerificationScriptResource;this.resources=this.tag.verifications.map((function(t){var e=t.querySelector("JavaScriptResource").textContent;return new n(e,t.vendor,t.verificationParameters,"full")})),this.context=new e(t,this.resources),this.context.setVideoElement(this.refs.video.value),this.context.setServiceWindow(window.top)}function T(t){var e=this,n=this.tag.verificationNotExecuted.replace("[REASON]",encodeURIComponent(t));(0,i.requestGETXHR)(n).then((function(t){if(!t.ok)throw new Error("Network response was not ok")})).catch((function(t){e.logger.error("Error sending event to:",n,t)}))}function x(){return this.logger.log("OMID Session: Finished"),this.adSession.finish()}},function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:String(e)}var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(72),c=a(n(135)),u=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onAdImpression=o,this.show=r,this.onAdError=i,this.adSlot=new c.default(n,e),this.tag=e,this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;if(s.envVars.GOOGLE_TAG_PUBLISHIER_URL&&void 0!==this.tag&&null!==this.tag){var e=document.createElement("script");e.src=s.envVars.GOOGLE_TAG_PUBLISHIER_URL||"",e.onload=function(){googletag.cmd.push((function(){googletag.enableServices();var e=googletag.defineSlot(t.tag.unitCode,t.tag.sizes,t.tag.id).addService(googletag.pubads());googletag.pubads().addEventListener("slotRenderEnded",(function(n){if(n.slot===e){if(n.isEmpty)return void t.onAdError(t.tag);t.adSlot.updateAdSlotSize(n.size),t.show(n.size),t.tag.duration>0&&setTimeout((function(){googletag.pubads().clear([e]),t.onAdImpression(t.tag.id)}),1e3*t.tag.duration)}})),googletag.display(t.tag.id),googletag.pubads().isInitialLoadDisabled()&&googletag.pubads().refresh([e])}))},document.head.appendChild(e)}}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=u},(t,e,n)=>{"use strict";var r=n(97);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:String(e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(99),c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.style=this.buildStyle(),this.adSlot=this.createAdSlot(n.id),e.append(this.adSlot)}var e,n,o;return e=t,(n=[{key:"updateAdSlotSize",value:function(t){t&&(this.adSlot.style.width="width: ".concat(t[0]),this.adSlot.style.height="width: ".concat(t[1]))}},{key:"buildStyle",value:function(){return{width:"300px",height:"250px",position:"absolute",zIndex:"150"}}},{key:"createAdSlot",value:function(t){return r("div",{id:t,style:(0,s.objectToCssStyle)(this.style)})}}])&&i(e.prototype,n),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=c},(t,e,n)=>{"use strict";n.r(e),n.d(e,{componentsToDebugString:()=>st,default:()=>dt,getFullscreenElement:()=>P,getScreenFrame:()=>z,hashComponents:()=>ct,isAndroid:()=>N,isChromium:()=>L,isDesktopSafari:()=>I,isEdgeHTML:()=>C,isGecko:()=>R,isTrident:()=>O,isWebKit:()=>k,load:()=>ft,loadSources:()=>T,murmurX64Hash128:()=>pt,prepareForSources:()=>ut,sources:()=>ot,transformSource:()=>x,withIframe:()=>M});var r=n(137);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var i="3.4.2";function a(t,e){return new Promise((function(n){return setTimeout(n,t,e)}))}function s(t){return!!t&&"function"==typeof t.then}function c(t,e){try{var n=t();s(n)?n.then((function(t){return e(!0,t)}),(function(t){return e(!1,t)})):e(!0,n)}catch(t){e(!1,t)}}function u(t,e,n){return void 0===n&&(n=16),(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i,s,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:o=Array(t.length),i=Date.now(),s=0,r.label=1;case 1:return s<t.length?(o[s]=e(t[s],s),(c=Date.now())>=i+n?(i=c,[4,a(0)]):[3,3]):[3,4];case 2:r.sent(),r.label=3;case 3:return++s,[3,1];case 4:return[2,o]}}))}))}function l(t){t.then(void 0,(function(){}))}function f(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]+e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]+e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]+e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]+e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function d(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]*e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]*e[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=t[3]*e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]*e[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[2]*e[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[3]*e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function p(t,e){return 32===(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])}function h(t,e){return 0===(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]}function v(t,e){return[t[0]^e[0],t[1]^e[1]]}function m(t){return t=v(t,[0,t[0]>>>1]),t=v(t=d(t,[4283543511,3981806797]),[0,t[0]>>>1]),t=v(t=d(t,[3301882366,444984403]),[0,t[0]>>>1])}function g(t,e){e=e||0;var n,r=(t=t||"").length%16,o=t.length-r,i=[0,e],a=[0,e],s=[0,0],c=[0,0],u=[2277735313,289559509],l=[1291169091,658871167];for(n=0;n<o;n+=16)s=[255&t.charCodeAt(n+4)|(255&t.charCodeAt(n+5))<<8|(255&t.charCodeAt(n+6))<<16|(255&t.charCodeAt(n+7))<<24,255&t.charCodeAt(n)|(255&t.charCodeAt(n+1))<<8|(255&t.charCodeAt(n+2))<<16|(255&t.charCodeAt(n+3))<<24],c=[255&t.charCodeAt(n+12)|(255&t.charCodeAt(n+13))<<8|(255&t.charCodeAt(n+14))<<16|(255&t.charCodeAt(n+15))<<24,255&t.charCodeAt(n+8)|(255&t.charCodeAt(n+9))<<8|(255&t.charCodeAt(n+10))<<16|(255&t.charCodeAt(n+11))<<24],s=p(s=d(s,u),31),i=f(i=p(i=v(i,s=d(s,l)),27),a),i=f(d(i,[0,5]),[0,1390208809]),c=p(c=d(c,l),33),a=f(a=p(a=v(a,c=d(c,u)),31),i),a=f(d(a,[0,5]),[0,944331445]);switch(s=[0,0],c=[0,0],r){case 15:c=v(c,h([0,t.charCodeAt(n+14)],48));case 14:c=v(c,h([0,t.charCodeAt(n+13)],40));case 13:c=v(c,h([0,t.charCodeAt(n+12)],32));case 12:c=v(c,h([0,t.charCodeAt(n+11)],24));case 11:c=v(c,h([0,t.charCodeAt(n+10)],16));case 10:c=v(c,h([0,t.charCodeAt(n+9)],8));case 9:c=d(c=v(c,[0,t.charCodeAt(n+8)]),l),a=v(a,c=d(c=p(c,33),u));case 8:s=v(s,h([0,t.charCodeAt(n+7)],56));case 7:s=v(s,h([0,t.charCodeAt(n+6)],48));case 6:s=v(s,h([0,t.charCodeAt(n+5)],40));case 5:s=v(s,h([0,t.charCodeAt(n+4)],32));case 4:s=v(s,h([0,t.charCodeAt(n+3)],24));case 3:s=v(s,h([0,t.charCodeAt(n+2)],16));case 2:s=v(s,h([0,t.charCodeAt(n+1)],8));case 1:s=d(s=v(s,[0,t.charCodeAt(n)]),u),i=v(i,s=d(s=p(s,31),l))}return i=f(i=v(i,[0,t.length]),a=v(a,[0,t.length])),a=f(a,i),i=f(i=m(i),a=m(a)),a=f(a,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}function y(t){return parseInt(t)}function b(t){return parseFloat(t)}function w(t,e){return"number"==typeof t&&isNaN(t)?e:t}function E(t){return t.reduce((function(t,e){return t+(e?1:0)}),0)}function S(t,e){if(void 0===e&&(e=1),Math.abs(e)>=1)return Math.round(t/e)*e;var n=1/e;return Math.round(t*n)/n}function _(t){return t&&"object"===o(t)&&"message"in t?t:{message:t}}function A(t){return"function"!=typeof t}function T(t,e,n){var o=Object.keys(t).filter((function(t){return!function(t,e){for(var n=0,r=t.length;n<r;++n)if(t[n]===e)return!0;return!1}(n,t)})),i=u(o,(function(n){return function(t,e){var n=new Promise((function(n){var r=Date.now();c(t.bind(null,e),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=Date.now()-r;if(!t[0])return n((function(){return{error:_(t[1]),duration:o}}));var i=t[1];if(A(i))return n((function(){return{value:i,duration:o}}));n((function(){return new Promise((function(t){var e=Date.now();c(i,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=o+Date.now()-e;if(!n[0])return t({error:_(n[1]),duration:i});t({value:n[1],duration:i})}))}))}))}))}));return l(n),function(){return n.then((function(t){return t()}))}}(t[n],e)}));return l(i),function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e,n,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,i];case 1:return[4,u(r.sent(),(function(t){var e=t();return l(e),e}))];case 2:return t=r.sent(),[4,Promise.all(t)];case 3:for(e=r.sent(),n={},a=0;a<o.length;++a)n[o[a]]=e[a];return[2,n]}}))}))}}function x(t,e){var n=function(t){return A(t)?e(t):function(){var n=t();return s(n)?n.then(e):e(n)}};return function(e){var r=t(e);return s(r)?r.then(n):n(r)}}function O(){var t=window,e=navigator;return E(["MSCSSMatrix"in t,"msSetImmediate"in t,"msIndexedDB"in t,"msMaxTouchPoints"in e,"msPointerEnabled"in e])>=4}function C(){var t=window,e=navigator;return E(["msWriteProfilerMark"in t,"MSStream"in t,"msLaunchUri"in e,"msSaveBlob"in e])>=3&&!O()}function L(){var t=window,e=navigator;return E(["webkitPersistentStorage"in e,"webkitTemporaryStorage"in e,0===e.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in t,"BatteryManager"in t,"webkitMediaStream"in t,"webkitSpeechGrammar"in t])>=5}function k(){var t=window,e=navigator;return E(["ApplePayError"in t,"CSSPrimitiveValue"in t,"Counter"in t,0===e.vendor.indexOf("Apple"),"getStorageUpdates"in e,"WebKitMediaKeys"in t])>=4}function I(){var t=window;return E(["safari"in t,!("DeviceMotionEvent"in t),!("ongestureend"in t),!("standalone"in navigator)])>=3}function R(){var t,e,n=window;return E(["buildID"in navigator,"MozAppearance"in(null!==(e=null===(t=document.documentElement)||void 0===t?void 0:t.style)&&void 0!==e?e:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function P(){var t=document;return t.fullscreenElement||t.msFullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||null}function N(){var t=L(),e=R();if(!t&&!e)return!1;var n=window;return E(["onorientationchange"in n,"orientation"in n,t&&!("SharedWorker"in n),e&&/android/i.test(navigator.appVersion)])>=2}function j(t){var e=new Error(t);return e.name=t,e}function M(t,e,n){var o,i,s;return void 0===n&&(n=50),(0,r.__awaiter)(this,void 0,void 0,(function(){var c,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:c=document,r.label=1;case 1:return c.body?[3,3]:[4,a(n)];case 2:return r.sent(),[3,1];case 3:u=c.createElement("iframe"),r.label=4;case 4:return r.trys.push([4,,10,11]),[4,new Promise((function(t,n){var r=!1,o=function(){r=!0,t()};u.onload=o,u.onerror=function(t){r=!0,n(t)};var i=u.style;i.setProperty("display","block","important"),i.position="absolute",i.top="0",i.left="0",i.visibility="hidden",e&&"srcdoc"in u?u.srcdoc=e:u.src="about:blank",c.body.appendChild(u);!function t(){var e,n;r||("complete"===(null===(n=null===(e=u.contentWindow)||void 0===e?void 0:e.document)||void 0===n?void 0:n.readyState)?o():setTimeout(t,10))}()}))];case 5:r.sent(),r.label=6;case 6:return(null===(i=null===(o=u.contentWindow)||void 0===o?void 0:o.document)||void 0===i?void 0:i.body)?[3,8]:[4,a(n)];case 7:return r.sent(),[3,6];case 8:return[4,t(u,u.contentWindow)];case 9:return[2,r.sent()];case 10:return null===(s=u.parentNode)||void 0===s||s.removeChild(u),[7];case 11:return[2]}}))}))}function V(t){for(var e=function(t){for(var e,n,r="Unexpected syntax '".concat(t,"'"),o=/^\s*([a-z-]*)(.*)$/i.exec(t),i=o[1]||void 0,a={},s=/([.:#][\w-]+|\[.+?\])/gi,c=function(t,e){a[t]=a[t]||[],a[t].push(e)};;){var u=s.exec(o[2]);if(!u)break;var l=u[0];switch(l[0]){case".":c("class",l.slice(1));break;case"#":c("id",l.slice(1));break;case"[":var f=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(l);if(!f)throw new Error(r);c(f[1],null!==(n=null!==(e=f[4])&&void 0!==e?e:f[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[i,a]}(t),n=e[0],r=e[1],o=document.createElement(null!=n?n:"div"),i=0,a=Object.keys(r);i<a.length;i++){var s=a[i],c=r[s].join(" ");"style"===s?F(o.style,c):o.setAttribute(s,c)}return o}function F(t,e){for(var n=0,r=e.split(";");n<r.length;n++){var o=r[n],i=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(o);if(i){var a=i[1],s=i[2],c=i[4];t.setProperty(a,s,c||"")}}}var U=["monospace","sans-serif","serif"],D=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function G(t){return t.toDataURL()}var H,B,W=2500;function z(){var t=this;return void 0===B&&function t(){var e=Y();q(e)?B=setTimeout(t,W):(H=e,B=void 0)}(),function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return q(t=Y())?H?[2,(0,r.__spreadArray)([],H,!0)]:P()?[4,(n=document,(n.exitFullscreen||n.msExitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen).call(n))]:[3,2]:[3,2];case 1:e.sent(),t=Y(),e.label=2;case 2:return q(t)||(H=t),[2,t]}var n}))}))}}function Y(){var t=screen;return[w(b(t.availTop),null),w(b(t.width)-b(t.availWidth)-w(b(t.availLeft),0),null),w(b(t.height)-b(t.availHeight)-w(b(t.availTop),0),null),w(b(t.availLeft),null)]}function q(t){for(var e=0;e<4;++e)if(t[e])return!1;return!0}function X(t){var e;return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,s,c,u,l;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:for(n=document,o=n.createElement("div"),i=new Array(t.length),s={},Z(o),l=0;l<t.length;++l)"DIALOG"===(c=V(t[l])).tagName&&c.show(),Z(u=n.createElement("div")),u.appendChild(c),o.appendChild(u),i[l]=c;r.label=1;case 1:return n.body?[3,3]:[4,a(50)];case 2:return r.sent(),[3,1];case 3:n.body.appendChild(o);try{for(l=0;l<t.length;++l)i[l].offsetParent||(s[t[l]]=!0)}finally{null===(e=o.parentNode)||void 0===e||e.removeChild(o)}return[2,s]}}))}))}function Z(t){t.style.setProperty("display","block","important")}function J(t){return matchMedia("(inverted-colors: ".concat(t,")")).matches}function Q(t){return matchMedia("(forced-colors: ".concat(t,")")).matches}function K(t){return matchMedia("(prefers-contrast: ".concat(t,")")).matches}function $(t){return matchMedia("(prefers-reduced-motion: ".concat(t,")")).matches}function tt(t){return matchMedia("(dynamic-range: ".concat(t,")")).matches}var et=Math,nt=function(){return 0};var rt={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};var ot={fonts:function(){return M((function(t,e){var n=e.document,r=n.body;r.style.fontSize="48px";var o=n.createElement("div"),i={},a={},s=function(t){var e=n.createElement("span"),r=e.style;return r.position="absolute",r.top="0",r.left="0",r.fontFamily=t,e.textContent="mmMwWLliI0O&1",o.appendChild(e),e},c=U.map(s),u=function(){for(var t={},e=function(e){t[e]=U.map((function(t){return function(t,e){return s("'".concat(t,"',").concat(e))}(e,t)}))},n=0,r=D;n<r.length;n++){e(r[n])}return t}();r.appendChild(o);for(var l=0;l<U.length;l++)i[U[l]]=c[l].offsetWidth,a[U[l]]=c[l].offsetHeight;return D.filter((function(t){return e=u[t],U.some((function(t,n){return e[n].offsetWidth!==i[t]||e[n].offsetHeight!==a[t]}));var e}))}))},domBlockers:function(t){var e=(void 0===t?{}:t).debug;return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,i,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return k()||N()?(s=atob,t={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',s("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",s("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",s("LnNwb25zb3JpdA=="),".ylamainos",s("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",s("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",s("LmhlYWRlci1ibG9ja2VkLWFk"),s("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",s("I2FkXzMwMFgyNTA="),s("I2Jhbm5lcmZsb2F0MjI="),s("I2NhbXBhaWduLWJhbm5lcg=="),s("I0FkLUNvbnRlbnQ=")],adGuardChinese:[s("LlppX2FkX2FfSA=="),s("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",s("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),s("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",s("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",s("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",s("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),s("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),s("LmFkZ29vZ2xl"),s("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[s("YW1wLWF1dG8tYWRz"),s("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",s("I2FkX2ludmlld19hcmVh")],adGuardRussian:[s("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),s("LnJlY2xhbWE="),'div[id^="smi2adblock"]',s("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[s("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),s("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",s("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),s("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),s("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",s("I3Jla2xhbWk="),s("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),s("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),s("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[s("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",s("LndpZGdldF9wb19hZHNfd2lkZ2V0"),s("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",s("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[s("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),s("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",s("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",s("I3Jla2xhbW5pLWJveA=="),s("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",s("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[s("I2FkdmVydGVudGll"),s("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",s("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",s("LnNwb25zb3JsaW5rZ3J1ZW4="),s("I3dlcmJ1bmdza3k="),s("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),s("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[s("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",s("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[s("LnJla2xhbW9zX3RhcnBhcw=="),s("LnJla2xhbW9zX251b3JvZG9z"),s("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),s("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),s("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[s("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[s("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),s("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",s("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[s("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),s("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),s("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",s("LmFkX19tYWlu"),s("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[s("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[s("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),s("I2xpdmVyZUFkV3JhcHBlcg=="),s("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),s("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[s("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",s("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),s("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),s("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[s("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),s("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),s("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",s("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),s("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),s("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),s("ZGl2I3NrYXBpZWNfYWQ=")],ro:[s("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),s("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[s("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),s("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),s("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",s("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),s("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",s("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(t),[4,X((a=[]).concat.apply(a,n.map((function(e){return t[e]}))))]):[2,void 0];case 1:return o=r.sent(),e&&function(t,e){for(var n="DOM blockers debug:\n```",r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];n+="\n".concat(i,":");for(var a=0,s=t[i];a<s.length;a++){var c=s[a];n+="\n  ".concat(e[c]?"🚫":"➡️"," ").concat(c)}}console.log("".concat(n,"\n```"))}(t,o),(i=n.filter((function(e){var n=t[e];return E(n.map((function(t){return o[t]})))>.6*n.length}))).sort(),[2,i]}var s}))}))},fontPreferences:function(){return function(t,e){void 0===e&&(e=4e3);return M((function(n,o){var i=o.document,a=i.body,s=a.style;s.width="".concat(e,"px"),s.webkitTextSizeAdjust=s.textSizeAdjust="none",L()?a.style.zoom="".concat(1/o.devicePixelRatio):k()&&(a.style.zoom="reset");var c=i.createElement("div");return c.textContent=(0,r.__spreadArray)([],Array(e/20<<0),!0).map((function(){return"word"})).join(" "),a.appendChild(c),t(i,a)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}((function(t,e){for(var n={},r={},o=0,i=Object.keys(rt);o<i.length;o++){var a=i[o],s=rt[a],c=s[0],u=void 0===c?{}:c,l=s[1],f=void 0===l?"mmMwWLliI0fiflO&1":l,d=t.createElement("span");d.textContent=f,d.style.whiteSpace="nowrap";for(var p=0,h=Object.keys(u);p<h.length;p++){var v=h[p],m=u[v];void 0!==m&&(d.style[v]=m)}n[a]=d,e.appendChild(t.createElement("br")),e.appendChild(d)}for(var g=0,y=Object.keys(rt);g<y.length;g++){r[a=y[g]]=n[a].getBoundingClientRect().width}return r}))},audio:function(){var t=window,e=t.OfflineAudioContext||t.webkitOfflineAudioContext;if(!e)return-2;if(k()&&!I()&&!function(){var t=window;return E(["DOMRectList"in t,"RTCPeerConnectionIceEvent"in t,"SVGGeometryElement"in t,"ontransitioncancel"in t])>=3}())return-1;var n=new e(1,5e3,44100),r=n.createOscillator();r.type="triangle",r.frequency.value=1e4;var o=n.createDynamicsCompressor();o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=0,o.release.value=.25,r.connect(o),o.connect(n.destination),r.start(0);var i=function(t){var e=3,n=500,r=500,o=5e3,i=function(){},a=new Promise((function(a,c){var u=!1,f=0,d=0;t.oncomplete=function(t){return a(t.renderedBuffer)};var p=function(){setTimeout((function(){return c(j("timeout"))}),Math.min(r,d+o-Date.now()))};(function r(){try{var o=t.startRendering();switch(s(o)&&l(o),t.state){case"running":d=Date.now(),u&&p();break;case"suspended":document.hidden||f++,u&&f>=e?c(j("suspended")):setTimeout(r,n)}}catch(t){c(t)}})(),i=function(){u||(u=!0,d>0&&p())}}));return[a,i]}(n),a=i[0],c=i[1],u=a.then((function(t){return function(t){for(var e=0,n=0;n<t.length;++n)e+=Math.abs(t[n]);return e}(t.getChannelData(0).subarray(4500))}),(function(t){if("timeout"===t.name||"suspended"===t.name)return-3;throw t}));return l(u),function(){return c(),u}},screenFrame:function(){var t=this,e=z();return function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,e()];case 1:return t=r.sent(),[2,[(n=function(t){return null===t?null:S(t,10)})(t[0]),n(t[1]),n(t[2]),n(t[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var t,e=navigator,n=[],r=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(void 0!==r&&n.push([r]),Array.isArray(e.languages))L()&&E([!("MediaSettingsRange"in(t=window)),"RTCEncodedAudioFrame"in t,""+t.Intl=="[object Intl]",""+t.Reflect=="[object Reflect]"])>=3||n.push(e.languages);else if("string"==typeof e.languages){var o=e.languages;o&&n.push(o.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return w(b(navigator.deviceMemory),void 0)},screenResolution:function(){var t=screen,e=function(t){return w(y(t),null)},n=[e(t.width),e(t.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return w(y(navigator.hardwareConcurrency),void 0)},timezone:function(){var t,e=null===(t=window.Intl)||void 0===t?void 0:t.DateTimeFormat;if(e){var n=(new e).resolvedOptions().timeZone;if(n)return n}var r,o=(r=(new Date).getFullYear(),-Math.max(b(new Date(r,0,1).getTimezoneOffset()),b(new Date(r,6,1).getTimezoneOffset())));return"UTC".concat(o>=0?"+":"").concat(Math.abs(o))},sessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},localStorage:function(){try{return!!window.localStorage}catch(t){return!0}},indexedDB:function(){if(!O()&&!C())try{return!!window.indexedDB}catch(t){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var t=navigator.platform;return"MacIntel"===t&&k()&&!I()?function(){if("iPad"===navigator.platform)return!0;var t=screen,e=t.width/t.height;return E(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,e>.65&&e<1.53])>=2}()?"iPad":"iPhone":t},plugins:function(){var t=navigator.plugins;if(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];if(r){for(var o=[],i=0;i<r.length;++i){var a=r[i];o.push({type:a.type,suffixes:a.suffixes})}e.push({name:r.name,description:r.description,mimeTypes:o})}}return e}},canvas:function(){var t,e,n=!1,r=function(){var t=document.createElement("canvas");return t.width=1,t.height=1,[t,t.getContext("2d")]}(),o=r[0],i=r[1];if(function(t,e){return!(!e||!t.toDataURL)}(o,i)){n=function(t){return t.rect(0,0,10,10),t.rect(2,2,6,6),!t.isPointInPath(5,5,"evenodd")}(i),function(t,e){t.width=240,t.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(n,4,45)}(o,i);var a=G(o);a!==G(o)?t=e="unstable":(e=a,function(t,e){t.width=122,t.height=110,e.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var o=r[n],i=o[0],a=o[1],s=o[2];e.fillStyle=i,e.beginPath(),e.arc(a,s,40,0,2*Math.PI,!0),e.closePath(),e.fill()}e.fillStyle="#f9c",e.arc(60,60,60,0,2*Math.PI,!0),e.arc(60,60,20,0,2*Math.PI,!0),e.fill("evenodd")}(o,i),t=G(o))}else t=e="";return{winding:n,geometry:t,text:e}},touchSupport:function(){var t,e=navigator,n=0;void 0!==e.maxTouchPoints?n=y(e.maxTouchPoints):void 0!==e.msMaxTouchPoints&&(n=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return{maxTouchPoints:n,touchEvent:t,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var t=[],e=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];e<n.length;e++){var r=n[e],i=window[r];i&&"object"===o(i)&&t.push(r)}return t.sort()},cookiesEnabled:function(){var t=document;try{t.cookie="cookietest=1; SameSite=Strict;";var e=-1!==t.cookie.indexOf("cookietest=");return t.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(t){return!1}},colorGamut:function(){for(var t=0,e=["rec2020","p3","srgb"];t<e.length;t++){var n=e[t];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!J("inverted")||!J("none")&&void 0},forcedColors:function(){return!!Q("active")||!Q("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var t=0;t<=100;++t)if(matchMedia("(max-monochrome: ".concat(t,")")).matches)return t;throw new Error("Too high value")}},contrast:function(){return K("no-preference")?0:K("high")||K("more")?1:K("low")||K("less")?-1:K("forced")?10:void 0},reducedMotion:function(){return!!$("reduce")||!$("no-preference")&&void 0},hdr:function(){return!!tt("high")||!tt("standard")&&void 0},math:function(){var t,e=et.acos||nt,n=et.acosh||nt,r=et.asin||nt,o=et.asinh||nt,i=et.atanh||nt,a=et.atan||nt,s=et.sin||nt,c=et.sinh||nt,u=et.cos||nt,l=et.cosh||nt,f=et.tan||nt,d=et.tanh||nt,p=et.exp||nt,h=et.expm1||nt,v=et.log1p||nt;return{acos:e(.12312423423423424),acosh:n(1e308),acoshPf:(t=1e154,et.log(t+et.sqrt(t*t-1))),asin:r(.12312423423423424),asinh:o(1),asinhPf:function(t){return et.log(t+et.sqrt(t*t+1))}(1),atanh:i(.5),atanhPf:function(t){return et.log((1+t)/(1-t))/2}(.5),atan:a(.5),sin:s(-1e300),sinh:c(1),sinhPf:function(t){return et.exp(t)-1/et.exp(t)/2}(1),cos:u(10.000000000123),cosh:l(1),coshPf:function(t){return(et.exp(t)+1/et.exp(t))/2}(1),tan:f(-1e300),tanh:d(1),tanhPf:function(t){return(et.exp(2*t)-1)/(et.exp(2*t)+1)}(1),exp:p(1),expm1:h(1),expm1Pf:function(t){return et.exp(t)-1}(1),log1p:v(10),log1pPf:function(t){return et.log(1+t)}(10),powPI:function(t){return et.pow(et.PI,t)}(-100)}},videoCard:function(){var t,e=document.createElement("canvas"),n=null!==(t=e.getContext("webgl"))&&void 0!==t?t:e.getContext("experimental-webgl");if(n&&"getExtension"in n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r)return{vendor:(n.getParameter(r.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var t=new Float32Array(1),e=new Uint8Array(t.buffer);return t[0]=1/0,t[0]=t[0]-t[0],e[3]}};var it="$ if upgrade to Pro: https://fpjs.dev/pro";function at(t){var e=function(t){if(N())return.4;if(k())return I()?.5:.3;var e=t.platform.value||"";if(/^Win/.test(e))return.6;if(/^Mac/.test(e))return.5;return.7}(t),n=function(t){return S(.99+.01*t,1e-4)}(e);return{score:e,comment:it.replace(/\$/g,"".concat(n))}}function st(t){return JSON.stringify(t,(function(t,e){return e instanceof Error?(n=e,(0,r.__assign)({name:n.name,message:n.message,stack:null===(o=n.stack)||void 0===o?void 0:o.split("\n")},n)):e;var n,o}),2)}function ct(t){return g(function(t){for(var e="",n=0,r=Object.keys(t).sort();n<r.length;n++){var o=r[n],i=t[o],a=i.error?"error":JSON.stringify(i.value);e+="".concat(e?"|":"").concat(o.replace(/([:|\\])/g,"\\$1"),":").concat(a)}return e}(t))}function ut(t){return void 0===t&&(t=50),function(t,e){void 0===e&&(e=1/0);var n=window.requestIdleCallback;return n?new Promise((function(t){return n.call(window,(function(){return t()}),{timeout:e})})):a(Math.min(t,e))}(t,2*t)}function lt(t,e){var n=Date.now();return{get:function(o){return(0,r.__awaiter)(this,void 0,void 0,(function(){var a,s,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return a=Date.now(),[4,t()];case 1:return s=r.sent(),c=function(t){var e;return{get visitorId(){return void 0===e&&(e=ct(this.components)),e},set visitorId(t){e=t},confidence:at(t),components:t,version:i}}(s),(e||(null==o?void 0:o.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(c.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(a-n,"\nvisitorId: ").concat(c.visitorId,"\ncomponents: ").concat(st(s),"\n```")),[2,c]}}))}))}}}function ft(t){var e=void 0===t?{}:t,n=e.delayFallback,o=e.debug,a=e.monitoring,s=void 0===a||a;return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return s&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var t=new XMLHttpRequest;t.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(i,"/npm-monitoring"),!0),t.send()}catch(t){console.error(t)}}(),[4,ut(n)];case 1:return t.sent(),[2,lt(T(ot,{debug:o},[]),o)]}}))}))}var dt={load:ft,hashComponents:ct,componentsToDebugString:st},pt=g},(t,e,n)=>{"use strict";n.r(e),n.d(e,{__addDisposableResource:()=>N,__assign:()=>i,__asyncDelegator:()=>T,__asyncGenerator:()=>A,__asyncValues:()=>x,__await:()=>_,__awaiter:()=>h,__classPrivateFieldGet:()=>I,__classPrivateFieldIn:()=>P,__classPrivateFieldSet:()=>R,__createBinding:()=>m,__decorate:()=>s,__disposeResources:()=>M,__esDecorate:()=>u,__exportStar:()=>g,__extends:()=>o,__generator:()=>v,__importDefault:()=>k,__importStar:()=>L,__makeTemplateObject:()=>O,__metadata:()=>p,__param:()=>c,__propKey:()=>f,__read:()=>b,__rest:()=>a,__runInitializers:()=>l,__setFunctionName:()=>d,__spread:()=>w,__spreadArray:()=>S,__spreadArrays:()=>E,__values:()=>y,default:()=>V});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e,n,r,o,i){function a(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var s,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!e&&t?r.static?t:t.prototype:null,f=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d=!1,p=n.length-1;p>=0;p--){var h={};for(var v in r)h[v]="access"===v?{}:r[v];for(var v in r.access)h.access[v]=r.access[v];h.addInitializer=function(t){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(t||null))};var m=(0,n[p])("accessor"===c?{get:f.get,set:f.set}:f[u],h);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(s=a(m.get))&&(f.get=s),(s=a(m.set))&&(f.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===c?o.unshift(s):f[u]=s)}l&&Object.defineProperty(l,r.name,f),d=!0}function l(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function f(t){return"symbol"==typeof t?t:"".concat(t)}function d(t,e,n){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function p(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function v(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var m=Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function g(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||m(e,t,n)}function y(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function w(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t}function E(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function S(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function A(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=o[t](e)).value instanceof _?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function c(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function T(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:_(t[r](e)),done:!1}:o?o(e):e}:o}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=y(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}function O(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var C=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function L(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&m(e,t,n);return C(e,t),e}function k(t){return t&&t.__esModule?t:{default:t}}function I(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function R(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n}function P(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}function N(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if("function"!=typeof r)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var j="function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function M(t){function e(e){t.error=t.hasError?new j(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}return function n(){for(;t.stack.length;){var r=t.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(t){return e(t),n()}))}catch(t){e(t)}}if(t.hasError)throw t.error}()}const V={__extends:o,__assign:i,__rest:a,__decorate:s,__param:c,__metadata:p,__awaiter:h,__generator:v,__createBinding:m,__exportStar:g,__values:y,__read:b,__spread:w,__spreadArrays:E,__spreadArray:S,__await:_,__asyncGenerator:A,__asyncDelegator:T,__asyncValues:x,__makeTemplateObject:O,__importStar:L,__importDefault:k,__classPrivateFieldGet:I,__classPrivateFieldSet:R,__classPrivateFieldIn:P,__addDisposableResource:N,__disposeResources:M}}],e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href,n.nc=void 0;var r={};(()=>{"use strict";n.r(r),n.d(r,{default:()=>G});var t=n(1),e=n(136),o=n(75),i=n(76),a=n(98),s=n(3),c=n(110),u=n(72),l=n(111),f=n(112),d=n(99),p=n(113),h=n(114),v=n(115),m=n(116),g=n(117),y=n(118),b=n(74),w=n(126),E=n(73),S=n(127),_=n(119),A=n(130),T=n(132),x=n(128),O=n(129),C=n(133),L=n(123),k=n(131),I=n(134),R=n.n(I);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t,e,n){return(e=D(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(){M=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),s=new k(r||[]);return o(a,"_invoke",{value:x(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function g(){}function y(){}function b(){}var w={};u(w,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(I([])));S&&S!==n&&r.call(S,a)&&(w=S);var _=b.prototype=g.prototype=Object.create(w);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==P(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,n,r){var o=d;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:p,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(P(e)+" is not iterable")}return y.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},A(T.prototype),u(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(_),u(_,c,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function V(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function F(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){V(i,r,o,a,s,"next",t)}function s(t){V(i,r,o,a,s,"throw",t)}a(void 0)}))}}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D(r.key),r)}}function D(t){var e=function(t,e){if("object"!=P(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==P(e)?e:String(e)}var G=function(){function n(t,e){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.isMobile=(0,a.checkIsMobile)(),this.logger=new b.default({environment:u.envVars.NODE_ENV,prefix:t.loggerPrefix,enabled:t.logger}),this.config=(0,c.setupConfig)(t,e,{logger:this.logger,isMobile:this.isMobile}),this.config){if(this.top=e||top||parent||window,this.initialized={counter:0,status:!1},this.videoEl=o,this.config.autoloader){this.autoloader=new w.default({interval:500,limit:20,callback:function(){!1===r.initialized.status?r.init():r.autoloader.stop()}}),this.autoloader.start()}if(this.config.htmlConfig.spaSite){(0,h.useUrlListener)(this.top.window,(function(){var t,e;null==r||null===(t=r.dom)||void 0===t||t.remove(!1),null===(e=r.manager)||void 0===e||null===(e=e.dataGiver)||void 0===e||e.abort("Change in SPA URL"),r.flag.firstAdImpression=!1,r.flag.shouldExecutePassback=!1,r.impressions=[],r.initialized.status=!1,r.autoloader.stop(),r.autoloader.start()}),{logger:this.logger})}}}var r,I,P,V,D,G,H,B,W;return r=n,I=[{key:"init",value:(W=F(M().mark((function e(){var n=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config){e.next=2;break}return e.abrupt("return");case 2:if(this.initialized.counter+=1,this.logger.log("======= Initialize (".concat(this.initialized.counter,") ========")),this.slot=this.getSlot(),this.slot){e.next=9;break}if(this.logger.warn('slot was not found, slot: "'.concat(this.config.htmlConfig.slot,'"')),"intext"!==this.config.htmlConfig.type){e.next=9;break}return e.abrupt("return");case 9:this.initialized.status=!0,this.version=E.version,this.macro=this.getMacros(),this.visitorId=null,this.loop=0,this.currentLoop=0,this.impressions=[],this.sdk=t.AdsManager.sdkName,this.nextTag=null,this.requestToOurServerNumber=0,this.totalPlayedVideoCount=0,this.cookies=l.default,this.eventHistory=new T.default,(0,y.setupTimeAlive)(this.macro),this.eventHistory.record(x.default.playerLoad),this.manager={},this.manager.tag=new S.default(this.macro,this.eventHistory,{logger:this.logger}),this.manager.dataGiver=new A.default(this.manager.tag,{logger:this.logger}),this.flag={end:!1,noMoreTagsToCall:!1,firstAdImpression:!1,shouldExecutePassback:!0},this.resize={interval:null,triggered:!1},this.playerHandlers={handleClose:function(){n.flag.shouldExecutePassback=!1,n.flag.end=!0,n.dom.hide(!1),n.adsManager&&n.adsManager.onAdClose&&n.adsManager.onAdClose(!1)},handlePlayChange:function(t,e){if(n.adsManager&&"VPAID"===n.adsManager.adUnit.type){var r=n.adsManager.adUnit.creativeAd;e?r.resumeAd&&r.resumeAd():r.pauseAd&&r.pauseAd()}},onVolumeChange:function(t){var e;n.adsManager&&n.adsManager.adUnit&&"VPAID"===n.adsManager.adUnit.type&&(null===(e=n.adsManager.adUnit.creativeAd)||void 0===e||e.setAdVolume(t))},handleSlotResize:function(){}},this.dom=new i.DOMManager(this.top,this.slot,this.videoEl,this.config.htmlConfig,this.macro,this.playerHandlers.handleClose,this.playerHandlers.handlePlayChange,this.playerHandlers.onVolumeChange,this.adsManager),this.containerEl=this.dom.refs.container.value,this.dom.onShow((function(){n.start()}));case 31:case"end":return e.stop()}}),e,this)}))),function(){return W.apply(this,arguments)})},{key:"start",value:(B=F(M().mark((function t(){var n,r=this;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[(0,o.getConsentString)({timeout:this.config.dataConfig.consentStringTimeout}).then((function(t){r.logger.log("cString obtained:",t),r.macro.setAll({cString:t,cStringStatus:"obtained"})})).catch((function(t){r.logger.warn("cString:",t.message),r.macro.setAll({cString:"",cStringStatus:"not-found"});var e=1,n=setInterval((function(){if(e>=20)return r.logger.warn("cString: Can not be obtained after ".concat(e," tries")),clearInterval(n);e++,(0,o.getConsentString)({timeout:0}).then((function(t){r.logger.log("cString obtained:",t),r.macro.setAll({cString:t,cStringStatus:"obtained-via-retry"}),clearInterval(n)})).catch((function(){}))}),1e3)})),(0,e.load)().then((function(t){return t.get()})).then((function(t){r.visitorId=t.visitorId;var e=new Date;e.setTime(e.getTime()+r.cookies.visitorId.expiresIn),(0,f.setCookie)(r.cookies.visitorId.name,t.visitorId,e.toUTCString())})).catch((function(t){return r.logger.error("fingerprint error:",t)}))],t.next=3,Promise.all(n);case 3:return this.playerHandlers.handleSlotResize(),top.document.addEventListener("visibilitychange",(function(){var t,e,n,o;top.document.hidden?null===(t=r.adsManager)||void 0===t||null===(t=t.adUnit)||void 0===t||null===(e=t.pause)||void 0===e||e.call(t):null===(n=r.adsManager)||void 0===n||null===(n=n.adUnit)||void 0===n||null===(o=n.resume)||void 0===o||o.call(n)})),t.next=7,this.callOurServer();case 7:case"end":return t.stop()}}),t,this)}))),function(){return B.apply(this,arguments)})},{key:"getSlot",value:function(){var t=this.config.htmlConfig.slot;return t&&"string"==typeof t?this.top.document.querySelector(t):t}},{key:"getMacros",value:function(){var t,e,n=this;return new v.Macro(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({pversion:this.version,cString:"",cStringStatus:"not-yet-obtained",volume:this.config.volume,pageurl:encodeURIComponent(window.top.location.href),encodedurl:function(t){return t.pageurl},width:this.isMobile?this.config.htmlConfig.widthMbl:this.config.htmlConfig.width,height:this.isMobile?this.config.htmlConfig.heightMbl:this.config.htmlConfig.height,rn:function(){return Math.floor(1e4*Math.random())},cachebuster:function(){return Math.floor(1e6*Math.random())},cb:function(t){return t.cachebuster()},gdpr:function(t){return t.cstring?"1":"0"},gdprcs:function(t){return t.cstring||""},gdprConsent:function(t){return t.cstring||""},zoneId:this.isMobile?this.config.dataConfig.zoneIdMbl:this.config.dataConfig.zoneId,supplySourceId:function(t){return t.zoneid},domain:(0,m.getDomainWithoutSubdomain)(top.location.hostname),contentDomain:function(t){return t.domain},fullDomain:this.top.location.hostname.replace(/^www\./,""),fullContentDomain:function(t){return t.fulldomain},format:this.isMobile?2:1,useragent:encodeURIComponent(navigator.userAgent),ua:function(t){return t.useragent},schain:encodeURIComponent("1.0,1!vidoomy.com,".concat(this.config.dataConfig.pid,",1,").concat((0,d.randomStringOfDigits)(29),",,")),schainc:function(t){return t.schain},siteId:this.config.dataConfig.siteId,country:"",c:function(t){return t.country},geolocation:function(t){return t.country},geo:function(t){return t.country},geocountry:function(t){return t.country},widthxheight:function(t){return[t.width,t.height].join("x")},viewabilityMethod:(0,s.resolveViewabilityMethod)(),loop:function(){return n.loop},unique:(0,d.generateGUUID)(),vid:function(){return n.visitorId},pubId:this.config.dataConfig.pid,sname:function(t){return"".concat(t.fulldomain,"_").concat(t.supplysourceid(t))},ip:"",language:this.top.window.navigator.language,pagekeywords:encodeURIComponent((0,d.sanitizeString)(((null===(t=top.document.head.querySelector('meta[name="keywords"]'))||void 0===t?void 0:t.content)||(null===(e=top.document.head.querySelector('meta[name="new_keywords"]'))||void 0===e?void 0:e.content)||"").substring(0,500)))},this.config.dataConfig.placeholdersReplace||{}))}},{key:"callOurServer",value:(H=F(M().mark((function t(){var e,n;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.requestAds();case 2:return e=t.sent,(n=(null==e?void 0:e.allowedEvents)||[]).indexOf("AdTagRequest")>-1&&this.manager.tag.setupTagRequest(this.config.dataConfig.logTime),t.next=7,this.begin(n);case 7:this.end();case 8:case"end":return t.stop()}}),t,this)}))),function(){return H.apply(this,arguments)})},{key:"requestAds",value:(G=F(M().mark((function t(){var e,n,r,o,i,a,s,c,u,l,f,h,v,m;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.flag.end){t.next=2;break}return t.abrupt("return");case 2:if(!(this.requestToOurServerNumber>=this.config.dataConfig.maxServerCalls)&&this.macro.get("zoneid")&&this.macro.get("domain")){t.next=5;break}return this.manager.dataGiver.abort(),t.abrupt("return",null);case 5:return this.requestToOurServerNumber++,this.logger.log("Get ads (".concat(this.requestToOurServerNumber,")")),this.eventHistory.record(x.default.adFormatLoad),e=this.eventHistory.getTimeElapsed(x.default.adFormatLoad),n=e.range,r=null,t.prev=10,t.next=13,_.AdsAPI.getAds(this.macro,n);case 13:o=t.sent;try{r=JSON.parse((0,d.base64Decode)(o.data))}catch(t){r={},this.logger.error("Failed to parse the ad response",t)}t.next=20;break;case 17:t.prev=17,t.t0=t.catch(10),this.logger.error("Failed to fetch ads from the ad server",t.t0);case 20:if(i=this.config.test,Array.isArray(i)&&i.length>0&&(a=(0,p.createDemoData)(i,this.loop),r.principalTags=a.principalTags,r.gptTags=a.gptTags),r&&Array.isArray(r.principalTags)&&0!==r.principalTags.length){t.next=26;break}return this.manager.dataGiver.abort(),t.abrupt("return",null);case 26:return c=(s=r).principalTags,u=s.trackingUrl,l=s.ip,f=s.country,h=s.gptTags,v=c.map((function(t){return t._meta={adapter:k.AdAdaptorEnum.MOL,url:"",parsedUrl:"",timesCalled:0,loop:0,delay:0,status:"",size:"",rDuration:t.r&&Number(t.r.split("@")[1])||null,receivedAt:Date.now()},t})),m=this.updateGptTags(h),this.macro.setAll({ip:l,country:f}),this.manager.tag.trackingUrl=u,this.manager.dataGiver.update(v,m,this.macro.replace),t.abrupt("return",r);case 33:case"end":return t.stop()}}),t,this,[[10,17]])}))),function(){return G.apply(this,arguments)})},{key:"updateGptTags",value:function(t){return Array.isArray(t)&&0!==t.length?t.map((function(t){return t._meta={adapter:k.AdAdaptorEnum.GPT,receivedAt:Date.now()},t})):[]}},{key:"onAdImpression",value:(D=F(M().mark((function t(e){var n,r,o,i;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.flag.firstAdImpression=!0,this.impressions[this.loop]=!0,this.loop++,this.flag.end=this.config.dataConfig.loop>0&&this.loop>=this.config.dataConfig.loop,this.manager.dataGiver.onAdImpression(this.loop,this.impressions),this.dom.onImpression(),this.eventHistory.record(O.default.adImpression),(0,f.getCookie)(this.cookies.firstImpression.name)?((n=new Date).setTime(n.getTime()+l.default.firstImpression.expiresIn),(0,f.setCookie)(this.cookies.firstImpression.name,e,n.toUTCString())):((r=new Date).setTime(r.getTime()+l.default.firstImpression.expiresIn),(0,f.setCookie)(l.default.firstImpression.name,e,r.toUTCString())),o=this.config.dataConfig.onImpression,(i=(0,d.base64Decode)(o)||null)&&(0,g.safeEval)(i);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return D.apply(this,arguments)})},{key:"begin",value:(V=F(M().mark((function e(n){var r,o,i,a,s=this,c=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.length>1&&void 0!==c[1]&&c[1],!this.flag.end&&!this.flag.noMoreTagsToCall){e.next=3;break}return e.abrupt("return");case 3:return this.flag.firstAdImpression&&this.dom.hide(),e.next=6,this.manager.dataGiver.getNextTag();case 6:if(i=e.sent,this.nextTag=i,i){e.next=10;break}return e.abrupt("return");case 10:if(i._meta.adapter!==k.AdAdaptorEnum.GPT||"slider"===this.config.htmlConfig.type){e.next=12;break}return e.abrupt("return");case 12:return this.logger.log("Playing:",i),n.indexOf("AdReceivedVastResponse")>-1&&!i.isVpaid&&this.manager.tag.trackEvent("AdReceivedVastResponse",i),n.indexOf("AdReceivedVpaidResponse")>-1&&i.isVpaid&&this.manager.tag.trackEvent("AdReceivedVpaidResponse",i),this.config.dataConfig.adVerification&&null!==(r=i.verifications)&&void 0!==r&&r.length&&new C.default(i,this.dom.refs).setAddTrackingEventListener(this.manager.tag.addTrackingEventListener.bind(this.manager.tag)),this.flag.firstAdImpression&&this.dom.render(),a=!1,e.abrupt("return",new Promise((function(e){var r=function(){var t=F(M().mark((function t(r){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=2;break}return t.abrupt("return");case 2:return a=!0,r&&(s.totalPlayedVideoCount+=1,s.currentLoop++,s.manager.dataGiver.onAdCompleted(s.currentLoop)),t.next=6,s.begin(n,o||r);case 6:e(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(t){s.manager.dataGiver.onAdError(t)};switch(i._meta.adapter){case k.AdAdaptorEnum.MOL:s.adsManager=new t.AdsManager(i,n,s.manager.tag.trackEvent.bind(s.manager.tag),r,(function(){s.dom.showPlayButton()}),c,s.dom.refs.container.value,s.dom.refs.wrapper.value,s.dom.refs.video.value,s.dom.refs.displayContainer.value,s.dom.prepare,s.dom.show,s.macro.replace.bind(s),s.onAdImpression.bind(s),s.requestAds.bind(s),s.config);break;case k.AdAdaptorEnum.GPT:s.gptAdaper=new(R())(i,s.dom.refs.gptSlotContainer.value,s.dom.show,s.onAdImpression.bind(s),c);break;default:s.logger.error("Failed to instantiate an adapter for the next tag")}})));case 19:case"end":return e.stop()}}),e,this)}))),function(t){return V.apply(this,arguments)})},{key:"end",value:function(){if(this.logger.log("=========== End ============"),this.dom.end(),this.manager.dataGiver.abort("Ending the player"),this.flag.shouldExecutePassback){var t=this.config.dataConfig,e=t.passback,n=t.passbackMbl,r=t.passbackEncoded?(0,d.base64Decode)(this.isMobile?n:e):this.isMobile?n:e;r&&(0,g.safeEval)(r);var o=this.eventHistory.getTimeElapsed(x.default.waterfallComplete).range;if(this.manager.tag.trackingUrl){var i=this.macro.replace(this.manager.tag.trackingUrl,{event:x.default.waterfallComplete,timeelapsed:o});L.default.postWaterfallComplete(i)}else this.logger.error("Event ".concat(x.default.waterfallComplete," was not reported because tracking url is missing"))}}}],I&&U(r.prototype,I),P&&U(r,P),Object.defineProperty(r,"prototype",{writable:!1}),n}()})(),((window.vidoomy=window.vidoomy||{}).main=window.vidoomy.main||{}).VidoomyPlayer=r.default})();